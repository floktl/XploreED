# Cursor Project Structure Rules (cursor.mdc)

## Directory Structure
- All backend source code must reside in `backend/src/`.
- Core utilities and helpers must be placed in `backend/src/core/utils/`.
- Database-related code must be in `backend/src/core/database/`.
- All AI-related features must be in `backend/src/features/ai/` (subfolders: `generation`, `evaluation`, `memory`, `prompts`).
- API route files must be in `backend/src/api/routes/`.
- Centralized imports must be managed via `backend/src/core/services/import_service.py`.
- Configuration files must be in `backend/src/config/`.

## Import Conventions
- All utility imports must use the `core.utils.*` path (e.g., `from core.utils.helpers import ...`).
- All database imports must use the `core.database.*` path.
- All AI feature imports must use the `features.ai.*` path.
- All route files must import shared dependencies via `from core.services.import_service import *`.
- No file should import directly from `utils.*` or `routes.*` (legacy pattern).

## Legacy Code
- The `backend_old/` directory is for legacy reference only. Do not use or update imports in this directory for production code.

## File Placement
- Place new shared helpers in the appropriate `core/utils/` or `core/database/` subdirectory.
- Place new AI logic in the appropriate `features/ai/` submodule.
- Place new API endpoints in `api/routes/` and register them in the appropriate blueprint.

## General
- Keep all configuration and environment files in `backend/src/config/`.
- Document any new structure changes in this file.
description:
globs:
alwaysApply: false
---
