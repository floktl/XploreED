2025-07-31 07:07:23,453 - features.auth.auth_helpers - INFO - Attempting authentication for user test4
2025-07-31 07:07:23,581 - features.auth.auth_helpers - WARNING - Authentication failed: invalid password for user test4
2025-07-31 07:07:34,432 - features.auth.auth_helpers - INFO - Attempting authentication for user test4
2025-07-31 07:07:34,571 - features.auth.auth_helpers - INFO - Authentication successful for user test4
2025-07-31 07:19:19,729 - api.routes.ai.lesson - INFO - User test4 requesting weakness lesson
2025-07-31 07:19:19,749 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.mistral.ai:443
2025-07-31 07:19:19,944 - urllib3.connectionpool - DEBUG - https://api.mistral.ai:443 "POST /v1/chat/completions HTTP/1.1" 422 683
2025-07-31 07:19:19,947 - api.routes.ai.lesson - ERROR - Failed to generate weakness lesson for user test4: Unexpected error in Mistral API request: Mistral API error: 422 - {"detail":[{"type":"string_type","loc":["body","messages",1,"user","content","str"],"msg":"Input should be a valid string","input":{"role":"user","content":"Create a short HTML lesson in English for a German learner. Explain the topic 'Modalverben' (grammar)Return only valid HTML."}},{"type":"list_type","loc":["body","messages",1,"user","content","list[tagged-union[TextChunk,ImageURLChunk,DocumentURLChunk,ReferenceChunk,BBoxChunk,FileURLChunk,AudioChunk,FileChunk,ThinkChunk]]"],"msg":"Input should be a valid list","input":{"role":"user","content":"Create a short HTML lesson in English for a German learner. Explain the topic 'Modalverben' (grammar)Return only valid HTML."}}]}
2025-07-31 07:24:51,386 - api.routes.ai.lesson - INFO - User test4 requesting weakness lesson
2025-07-31 07:24:51,410 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.mistral.ai:443
2025-07-31 07:25:31,669 - urllib3.connectionpool - DEBUG - https://api.mistral.ai:443 "POST /v1/chat/completions HTTP/1.1" 200 None
2025-07-31 07:25:31,683 - api.routes.ai.lesson - INFO - Successfully generated weakness lesson for user test4
2025-07-31 08:45:53,379 - features.auth.auth_helpers - INFO - Attempting authentication for user test4
2025-07-31 08:45:53,502 - features.auth.auth_helpers - WARNING - Authentication failed: invalid password for user test4
2025-07-31 08:45:57,602 - features.auth.auth_helpers - INFO - Attempting authentication for user test4
2025-07-31 08:45:57,681 - features.auth.auth_helpers - INFO - Authentication successful for user test4
2025-07-31 08:46:06,411 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-07-31 08:46:06,411 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-07-31 08:46:06,412 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-07-31 08:46:06,414 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-07-31 08:46:06,432 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.mistral.ai:443
2025-07-31 08:46:19,291 - urllib3.connectionpool - DEBUG - https://api.mistral.ai:443 "POST /v1/chat/completions HTTP/1.1" 200 None
2025-07-31 08:46:19,416 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.mistral.ai:443
2025-07-31 08:46:30,694 - urllib3.connectionpool - DEBUG - https://api.mistral.ai:443 "POST /v1/chat/completions HTTP/1.1" 200 None
2025-07-31 08:46:30,702 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-07-31 08:46:30,761 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-07-31 08:46:30,762 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-07-31 08:46:30,762 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-07-31 08:46:30,766 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-07-31 08:46:30,779 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.mistral.ai:443
2025-07-31 08:46:47,199 - urllib3.connectionpool - DEBUG - https://api.mistral.ai:443 "POST /v1/chat/completions HTTP/1.1" 200 None
2025-07-31 08:46:47,327 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.mistral.ai:443
2025-07-31 08:47:04,471 - urllib3.connectionpool - DEBUG - https://api.mistral.ai:443 "POST /v1/chat/completions HTTP/1.1" 200 None
2025-07-31 08:47:04,483 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-07-31 09:15:48,821 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-07-31 09:15:48,825 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-07-31 09:15:48,825 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-07-31 09:15:48,826 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-07-31 09:15:48,843 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.mistral.ai:443
2025-07-31 09:25:41,533 - api.routes.ai.training - ERROR - Failed to generate training exercises for user test4: Mistral API request failed: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-08-01 15:40:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 15:40:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 15:40:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 15:41:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 15:41:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 15:41:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 17:43:03 - config.logging_config - INFO - Logging configured - Level: DEBUG, File: /Users/flo/Desktop/XploreED/backend/logs/app.log
2025-08-01 17:43:03 - __main__ - DEBUG - This is a DEBUG message
2025-08-01 17:43:03 - __main__ - INFO - This is an INFO message
2025-08-01 17:43:03 - __main__ - WARNING - This is a WARNING message
2025-08-01 17:43:03 - __main__ - ERROR - This is an ERROR message
2025-08-01 17:43:03 - __main__ - CRITICAL - This is a CRITICAL message
2025-08-01 15:44:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 15:44:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 15:44:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 16:20:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 16:20:44 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 16:20:44 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 16:20:44 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 16:20:44 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 16:20:44 - __main__ - INFO - Database directory: /app/database
2025-08-01 16:20:44 - __main__ - INFO - ✅ Database connection established
2025-08-01 16:20:44 - __main__ - INFO - Results table created/verified
2025-08-01 16:20:44 - __main__ - INFO - Topic memory table created/verified
2025-08-01 16:20:44 - __main__ - INFO - Sessions table created/verified
2025-08-01 16:20:44 - __main__ - INFO - User progress table created/verified
2025-08-01 16:20:44 - __main__ - INFO - User settings table created/verified
2025-08-01 16:20:44 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 16:20:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 16:20:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 16:20:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 16:20:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 16:20:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 16:20:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 16:21:03 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 16:21:03 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 17:01:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 17:01:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 17:01:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 17:01:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 17:01:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 17:01:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 17:59:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 17:59:12 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 17:59:12 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 17:59:12 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 17:59:12 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 17:59:12 - __main__ - INFO - Database directory: /app/database
2025-08-01 17:59:12 - __main__ - INFO - ✅ Database connection established
2025-08-01 17:59:12 - __main__ - INFO - Results table created/verified
2025-08-01 17:59:12 - __main__ - INFO - Topic memory table created/verified
2025-08-01 17:59:12 - __main__ - INFO - Sessions table created/verified
2025-08-01 17:59:12 - __main__ - INFO - User progress table created/verified
2025-08-01 17:59:12 - __main__ - INFO - User settings table created/verified
2025-08-01 17:59:12 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 17:59:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 17:59:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 17:59:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:01:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:01:57 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:01:57 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:01:57 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:01:57 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:01:57 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:01:57 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:01:57 - __main__ - INFO - Results table created/verified
2025-08-01 18:01:57 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:01:57 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:01:57 - __main__ - INFO - User progress table created/verified
2025-08-01 18:01:57 - __main__ - INFO - User settings table created/verified
2025-08-01 18:01:57 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:01:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:01:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:01:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:02:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:02:40 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:02:40 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:02:40 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:02:40 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:02:40 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:02:40 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:02:40 - __main__ - INFO - Results table created/verified
2025-08-01 18:02:40 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:02:40 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:02:40 - __main__ - INFO - User progress table created/verified
2025-08-01 18:02:40 - __main__ - INFO - User settings table created/verified
2025-08-01 18:02:40 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:02:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:02:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:02:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:04:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:04:29 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:04:29 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:04:29 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:04:29 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:04:29 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:04:29 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:04:29 - __main__ - INFO - Results table created/verified
2025-08-01 18:04:29 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:04:29 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:04:29 - __main__ - INFO - User progress table created/verified
2025-08-01 18:04:29 - __main__ - INFO - User settings table created/verified
2025-08-01 18:04:29 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:04:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:04:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:04:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:05:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:05:03 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:05:03 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:05:03 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:05:03 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:05:03 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:05:03 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:05:03 - __main__ - INFO - Results table created/verified
2025-08-01 18:05:03 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:05:03 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:05:03 - __main__ - INFO - User progress table created/verified
2025-08-01 18:05:03 - __main__ - INFO - User settings table created/verified
2025-08-01 18:05:03 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:05:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:05:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:05:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:05:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:05:29 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:05:29 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:05:29 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:05:29 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:05:29 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:05:29 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:05:29 - __main__ - INFO - Results table created/verified
2025-08-01 18:05:29 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:05:29 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:05:29 - __main__ - INFO - User progress table created/verified
2025-08-01 18:05:29 - __main__ - INFO - User settings table created/verified
2025-08-01 18:05:29 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:05:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:05:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:05:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:05:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:05:54 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:05:54 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:05:54 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:05:54 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:05:54 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:05:54 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:05:55 - __main__ - INFO - Results table created/verified
2025-08-01 18:05:55 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:05:55 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:05:55 - __main__ - INFO - User progress table created/verified
2025-08-01 18:05:55 - __main__ - INFO - User settings table created/verified
2025-08-01 18:05:55 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:05:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:05:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:05:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:06:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:06:28 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:06:28 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:06:28 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:06:28 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:06:28 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:06:28 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:06:28 - __main__ - INFO - Results table created/verified
2025-08-01 18:06:28 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:06:28 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:06:28 - __main__ - INFO - User progress table created/verified
2025-08-01 18:06:28 - __main__ - INFO - User settings table created/verified
2025-08-01 18:06:28 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:06:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:06:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:06:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:06:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:06:57 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:06:57 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:06:57 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:06:57 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:06:57 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:06:57 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:06:57 - __main__ - INFO - Results table created/verified
2025-08-01 18:06:57 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:06:57 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:06:57 - __main__ - INFO - User progress table created/verified
2025-08-01 18:06:57 - __main__ - INFO - User settings table created/verified
2025-08-01 18:06:57 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:06:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:06:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:06:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:07:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:07:23 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:07:23 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:07:23 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:07:23 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:07:23 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:07:23 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:07:23 - __main__ - INFO - Results table created/verified
2025-08-01 18:07:23 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:07:23 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:07:23 - __main__ - INFO - User progress table created/verified
2025-08-01 18:07:23 - __main__ - INFO - User settings table created/verified
2025-08-01 18:07:23 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:07:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:07:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:07:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:07:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:07:44 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:07:44 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:07:44 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:07:44 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:07:44 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:07:44 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:07:44 - __main__ - INFO - Results table created/verified
2025-08-01 18:07:44 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:07:44 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:07:44 - __main__ - INFO - User progress table created/verified
2025-08-01 18:07:44 - __main__ - INFO - User settings table created/verified
2025-08-01 18:07:44 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:07:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:07:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:07:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:08:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:08:10 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:08:10 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:08:10 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:08:10 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:08:11 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:08:11 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:08:11 - __main__ - INFO - Results table created/verified
2025-08-01 18:08:11 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:08:11 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:08:11 - __main__ - INFO - User progress table created/verified
2025-08-01 18:08:11 - __main__ - INFO - User settings table created/verified
2025-08-01 18:08:11 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:08:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:08:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:08:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:08:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:08:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:08:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:08:35 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:08:35 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:08:35 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:08:35 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:08:35 - __main__ - INFO - Results table created/verified
2025-08-01 18:08:35 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:08:35 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:08:35 - __main__ - INFO - User progress table created/verified
2025-08-01 18:08:35 - __main__ - INFO - User settings table created/verified
2025-08-01 18:08:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:08:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:08:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:08:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:08:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:08:54 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:08:54 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:08:54 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:08:54 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:08:54 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:08:54 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:08:54 - __main__ - INFO - Results table created/verified
2025-08-01 18:08:54 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:08:54 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:08:54 - __main__ - INFO - User progress table created/verified
2025-08-01 18:08:54 - __main__ - INFO - User settings table created/verified
2025-08-01 18:08:54 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:08:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:08:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:08:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:09:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:09:21 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:09:21 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:09:21 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:09:21 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:09:21 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:09:21 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:09:21 - __main__ - INFO - Results table created/verified
2025-08-01 18:09:21 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:09:21 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:09:21 - __main__ - INFO - User progress table created/verified
2025-08-01 18:09:21 - __main__ - INFO - User settings table created/verified
2025-08-01 18:09:21 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:09:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:09:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:09:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:10:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:10:01 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:10:01 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:10:01 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:10:01 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:10:01 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:10:01 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:10:01 - __main__ - INFO - Results table created/verified
2025-08-01 18:10:01 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:10:01 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:10:01 - __main__ - INFO - User progress table created/verified
2025-08-01 18:10:01 - __main__ - INFO - User settings table created/verified
2025-08-01 18:10:01 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:10:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:10:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:10:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:10:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:10:36 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:10:36 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:10:36 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:10:36 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:10:36 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:10:36 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:10:36 - __main__ - INFO - Results table created/verified
2025-08-01 18:10:36 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:10:36 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:10:36 - __main__ - INFO - User progress table created/verified
2025-08-01 18:10:36 - __main__ - INFO - User settings table created/verified
2025-08-01 18:10:36 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:10:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:10:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:10:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:11:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:11:11 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:11:11 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:11:11 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:11:11 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:11:11 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:11:11 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:11:11 - __main__ - INFO - Results table created/verified
2025-08-01 18:11:11 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:11:11 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:11:11 - __main__ - INFO - User progress table created/verified
2025-08-01 18:11:11 - __main__ - INFO - User settings table created/verified
2025-08-01 18:11:11 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:11:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:11:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:11:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:12:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:12:02 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:12:02 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:12:02 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:12:02 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:12:02 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:12:02 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:12:02 - __main__ - INFO - Results table created/verified
2025-08-01 18:12:02 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:12:02 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:12:02 - __main__ - INFO - User progress table created/verified
2025-08-01 18:12:02 - __main__ - INFO - User settings table created/verified
2025-08-01 18:12:02 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:12:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:12:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:12:03 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:12:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:12:43 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:12:43 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:12:43 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:12:43 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:12:43 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:12:43 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:12:43 - __main__ - INFO - Results table created/verified
2025-08-01 18:12:43 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:12:43 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:12:43 - __main__ - INFO - User progress table created/verified
2025-08-01 18:12:43 - __main__ - INFO - User settings table created/verified
2025-08-01 18:12:43 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:12:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:12:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:12:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:13:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:13:11 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:13:11 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:13:11 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:13:11 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:13:11 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:13:11 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:13:11 - __main__ - INFO - Results table created/verified
2025-08-01 18:13:11 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:13:11 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:13:11 - __main__ - INFO - User progress table created/verified
2025-08-01 18:13:11 - __main__ - INFO - User settings table created/verified
2025-08-01 18:13:11 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:13:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:13:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:13:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:13:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:13:49 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:13:49 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:13:49 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:13:49 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:13:49 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:13:49 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:13:49 - __main__ - INFO - Results table created/verified
2025-08-01 18:13:49 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:13:49 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:13:49 - __main__ - INFO - User progress table created/verified
2025-08-01 18:13:49 - __main__ - INFO - User settings table created/verified
2025-08-01 18:13:49 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:13:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:13:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:13:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:13:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:13:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:13:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:14:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:14:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:14:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:18:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:18:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:18:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:18:35 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:18:35 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:18:35 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:18:35 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:18:35 - __main__ - INFO - Results table created/verified
2025-08-01 18:18:35 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:18:35 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:18:35 - __main__ - INFO - User progress table created/verified
2025-08-01 18:18:35 - __main__ - INFO - User settings table created/verified
2025-08-01 18:18:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:18:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:18:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:18:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:18:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:18:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:18:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:19:51 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 18:19:51 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 18:22:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:22:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:22:03 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:26:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:26:13 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:26:13 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:26:13 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:26:13 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:26:13 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:26:13 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:26:13 - __main__ - INFO - Results table created/verified
2025-08-01 18:26:13 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:26:13 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:26:13 - __main__ - INFO - User progress table created/verified
2025-08-01 18:26:13 - __main__ - INFO - User settings table created/verified
2025-08-01 18:26:13 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:26:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:26:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:26:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:26:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:26:37 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 18:26:37 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 18:26:37 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 18:26:37 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 18:26:37 - __main__ - INFO - Database directory: /app/database
2025-08-01 18:26:37 - __main__ - INFO - ✅ Database connection established
2025-08-01 18:26:37 - __main__ - INFO - Results table created/verified
2025-08-01 18:26:37 - __main__ - INFO - Topic memory table created/verified
2025-08-01 18:26:37 - __main__ - INFO - Sessions table created/verified
2025-08-01 18:26:37 - __main__ - INFO - User progress table created/verified
2025-08-01 18:26:37 - __main__ - INFO - User settings table created/verified
2025-08-01 18:26:37 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 18:26:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:26:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:26:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:26:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:26:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:26:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:29:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:29:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:29:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:29:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:29:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:29:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:30:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:30:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:30:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:31:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:31:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:31:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:31:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:31:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:31:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:36:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:36:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:36:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:43:14 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:43:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:43:15 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:43:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:43:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:43:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:44:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:44:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:44:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:44:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:44:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:44:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:45:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:45:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:45:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:45:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:45:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:45:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:46:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:46:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:46:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:46:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:46:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:46:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:46:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:46:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:46:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:46:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:46:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:46:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:46:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:46:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:47:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:47:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:47:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:47:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:47:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:47:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:47:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:48:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:48:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:48:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:51:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:51:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:51:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:52:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:52:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:52:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:55:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:55:09 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:55:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:55:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:55:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:55:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 18:55:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 18:55:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 18:55:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:00:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:00:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:00:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:00:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:00:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:00:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:02:00 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:02:00 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:02:00 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:02:00 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:02:00 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:02:00 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:02:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:02:00 - features.ai.generation.exercise_creation - ERROR - Error creating AI block for user test4: name 'fetch_topic_memory' is not defined
2025-08-01 19:02:00 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: test4
2025-08-01 19:06:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:06:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:06:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:06:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:06:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:06:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:06:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:06:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:06:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:07:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:07:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:07:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:08:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:08:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:08:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:08:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:08:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:08:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:09:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:09:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:09:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:09:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:09:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:09:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:13:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:13:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:13:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:13:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:13:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:13:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:20:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:20:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:20:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:21:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:21:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:21:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:21:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:21:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:21:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:21:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:21:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:21:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:23:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:23:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:23:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:24:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:24:58 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:24:58 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:24:58 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:24:58 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:24:58 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:24:58 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:24:58 - __main__ - INFO - Results table created/verified
2025-08-01 19:24:58 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:24:58 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:24:58 - __main__ - INFO - User progress table created/verified
2025-08-01 19:24:58 - __main__ - INFO - User settings table created/verified
2025-08-01 19:24:58 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:24:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:24:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:25:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:25:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:25:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:25:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:25:09 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:25:09 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:25:09 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:25:09 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:25:09 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:25:09 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:25:09 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:25:09 - features.ai.generation.exercise_creation - ERROR - Error creating AI block for user test4: name 'fetch_topic_memory' is not defined
2025-08-01 19:25:09 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: test4
2025-08-01 19:26:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:26:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:26:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:26:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:26:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:26:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:26:20 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:26:20 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:26:45 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:26:45 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:29:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:29:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:29:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:30:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:30:18 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:30:18 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:30:18 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:30:18 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:30:18 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:30:18 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:30:18 - __main__ - INFO - Results table created/verified
2025-08-01 19:30:18 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:30:18 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:30:18 - __main__ - INFO - User progress table created/verified
2025-08-01 19:30:18 - __main__ - INFO - User settings table created/verified
2025-08-01 19:30:18 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:30:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:30:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:30:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:31:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:31:34 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:31:34 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:31:34 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:31:34 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:31:34 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:31:34 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:31:34 - __main__ - INFO - Results table created/verified
2025-08-01 19:31:34 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:31:34 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:31:34 - __main__ - INFO - User progress table created/verified
2025-08-01 19:31:34 - __main__ - INFO - User settings table created/verified
2025-08-01 19:31:34 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:31:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:31:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:31:35 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:31:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:31:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:31:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:31:51 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:31:51 - core.session.session_manager - INFO - Created session for user test4
2025-08-01 19:31:51 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:31:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:32:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:32:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:32:05 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:32:05 - core.session.session_manager - INFO - Created session for user test4
2025-08-01 19:32:05 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:33:04 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:33:04 - core.session.session_manager - INFO - Created session for user test4
2025-08-01 19:33:04 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:35:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:35:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:35:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:35:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:35:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:35:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:36:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:36:06 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:36:06 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:36:06 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:36:06 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:36:06 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:36:06 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:36:06 - __main__ - INFO - Results table created/verified
2025-08-01 19:36:06 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:36:06 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:36:06 - __main__ - INFO - User progress table created/verified
2025-08-01 19:36:06 - __main__ - INFO - User settings table created/verified
2025-08-01 19:36:06 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:36:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:36:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:36:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:36:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:36:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:36:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:36:19 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:36:19 - core.session.session_manager - INFO - Created session for user test4
2025-08-01 19:36:19 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:36:20 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:36:20 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-01 19:36:30 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:36:30 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-01 19:36:34 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-01 19:36:34 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test
2025-08-01 19:36:47 - api.routes.auth - ERROR - Error in registration: create_user_account() missing 1 required positional argument: 'password'
2025-08-01 19:37:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:37:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:37:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:37:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:37:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:37:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:37:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:37:46 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:37:46 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:37:46 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:37:46 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:37:46 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:37:46 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:37:46 - __main__ - INFO - Results table created/verified
2025-08-01 19:37:46 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:37:46 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:37:46 - __main__ - INFO - User progress table created/verified
2025-08-01 19:37:46 - __main__ - INFO - User settings table created/verified
2025-08-01 19:37:46 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:37:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:37:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:37:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:37:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:37:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:37:48 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:37:50 - features.auth.user_accounts - INFO - Creating new user account for testuser
2025-08-01 19:37:50 - features.auth.user_accounts - INFO - Initialized topic memory for user testuser
2025-08-01 19:37:50 - features.auth.user_accounts - INFO - Successfully created user account for testuser
2025-08-01 19:37:57 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-01 19:37:57 - core.session.session_manager - INFO - Created session for user testuser
2025-08-01 19:37:57 - features.auth.authentication - INFO - Authentication successful for user testuser
2025-08-01 19:38:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:38:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:38:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:38:26 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:38:26 - core.session.session_manager - INFO - Created session for user test4
2025-08-01 19:38:26 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:40:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:40:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:40:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:40:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:40:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:40:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:40:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:40:39 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:40:39 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:40:39 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:40:39 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:40:39 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:40:39 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:40:39 - __main__ - INFO - Results table created/verified
2025-08-01 19:40:39 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:40:39 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:40:39 - __main__ - INFO - User progress table created/verified
2025-08-01 19:40:39 - __main__ - INFO - User settings table created/verified
2025-08-01 19:40:39 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:40:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:40:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:40:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:40:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:40:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:40:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:40:56 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-01 19:40:56 - core.session.session_manager - INFO - Created session for user testuser
2025-08-01 19:40:56 - features.auth.authentication - INFO - Authentication successful for user testuser
2025-08-01 19:41:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:41:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:41:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:42:12 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-01 19:42:12 - core.session.session_manager - INFO - Created session for user test4
2025-08-01 19:42:12 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-01 19:42:22 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:42:22 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:42:22 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:42:22 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:42:22 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:42:22 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:42:22 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:42:22 - features.ai.generation.exercise_creation - ERROR - Error creating AI block for user test4: name 'fetch_topic_memory' is not defined
2025-08-01 19:42:22 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: test4
2025-08-01 19:42:22 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user test4
2025-08-01 19:43:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:43:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:43:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:43:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:43:32 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:43:32 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:43:32 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:43:32 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:43:32 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:43:32 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:43:32 - __main__ - INFO - Results table created/verified
2025-08-01 19:43:32 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:43:32 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:43:32 - __main__ - INFO - User progress table created/verified
2025-08-01 19:43:32 - __main__ - INFO - User settings table created/verified
2025-08-01 19:43:32 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:43:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:43:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:43:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:43:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:43:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:43:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:43:38 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:43:38 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:43:38 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:43:38 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:43:38 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:43:38 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:43:38 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:43:38 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:43:38 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: exercise_generation_prompt() got an unexpected keyword argument 'vocab_text'
2025-08-01 19:43:38 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 99, in generate_new_exercises
    user_prompt = exercise_generation_prompt(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: exercise_generation_prompt() got an unexpected keyword argument 'vocab_text'

2025-08-01 19:43:38 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: test4
2025-08-01 19:43:38 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: test4
2025-08-01 19:43:38 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user test4
2025-08-01 19:44:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:44:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:44:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:44:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:44:28 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:44:28 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:44:28 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:44:28 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:44:28 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:44:28 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:44:28 - __main__ - INFO - Results table created/verified
2025-08-01 19:44:28 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:44:28 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:44:28 - __main__ - INFO - User progress table created/verified
2025-08-01 19:44:28 - __main__ - INFO - User settings table created/verified
2025-08-01 19:44:28 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:44:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:44:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:44:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:44:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:44:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:44:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:44:35 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:44:35 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:44:35 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:44:36 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:44:36 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:44:36 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:44:36 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:44:36 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:44:36 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:44:36 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:44:36 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: test4
2025-08-01 19:44:36 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: test4
2025-08-01 19:44:36 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user test4
2025-08-01 19:44:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:44:42 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:44:42 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:44:42 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:44:42 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:44:42 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:44:42 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:44:42 - __main__ - INFO - Results table created/verified
2025-08-01 19:44:42 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:44:42 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:44:42 - __main__ - INFO - User progress table created/verified
2025-08-01 19:44:42 - __main__ - INFO - User settings table created/verified
2025-08-01 19:44:42 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:44:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:44:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:44:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:44:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:44:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:44:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:44:56 - api.routes.ai.training - INFO - Training exercises request from user: testuser
2025-08-01 19:44:56 - api.routes.ai.training - INFO - Training request data for user testuser: answers_count=0
2025-08-01 19:44:56 - api.routes.ai.training - INFO - User testuser has no answers, checking cached exercises
2025-08-01 19:44:56 - api.routes.ai.training - INFO - No cached next exercises for user testuser, prefetching
2025-08-01 19:44:56 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser
2025-08-01 19:44:56 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser
2025-08-01 19:44:56 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser
2025-08-01 19:44:56 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser
2025-08-01 19:44:56 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user testuser: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:44:56 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:44:56 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: testuser
2025-08-01 19:44:56 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: testuser
2025-08-01 19:44:56 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user testuser
2025-08-01 19:45:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:45:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:45:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:45:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:45:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:45:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:46:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:46:06 - __main__ - INFO - 🔄 Starting database migration...
2025-08-01 19:46:06 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-01 19:46:06 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-01 19:46:06 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-01 19:46:06 - __main__ - INFO - Database directory: /app/database
2025-08-01 19:46:06 - __main__ - INFO - ✅ Database connection established
2025-08-01 19:46:06 - __main__ - INFO - Results table created/verified
2025-08-01 19:46:06 - __main__ - INFO - Topic memory table created/verified
2025-08-01 19:46:06 - __main__ - INFO - Sessions table created/verified
2025-08-01 19:46:06 - __main__ - INFO - User progress table created/verified
2025-08-01 19:46:06 - __main__ - INFO - User settings table created/verified
2025-08-01 19:46:06 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-01 19:46:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:46:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:46:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:46:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:46:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:46:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:46:15 - api.routes.ai.training - INFO - Training exercises request from user: testuser
2025-08-01 19:46:15 - api.routes.ai.training - INFO - Training request data for user testuser: answers_count=0
2025-08-01 19:46:15 - api.routes.ai.training - INFO - User testuser has no answers, checking cached exercises
2025-08-01 19:46:15 - api.routes.ai.training - INFO - No cached next exercises for user testuser, prefetching
2025-08-01 19:46:15 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser
2025-08-01 19:46:15 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser
2025-08-01 19:46:15 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser
2025-08-01 19:46:15 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user testuser: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser
2025-08-01 19:46:16 - api.routes.ai.training - INFO - Returning cached exercises for user testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user testuser: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser
2025-08-01 19:46:16 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser
2025-08-01 19:46:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:46:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:46:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:47:13 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:47:13 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:47:13 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:47:13 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-01 19:47:13 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:47:13 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:47:13 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:47:13 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:47:13 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-01 19:47:13 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-01 19:47:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:47:14 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:47:14 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:47:14 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: test4
2025-08-01 19:47:14 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: test4
2025-08-01 19:47:14 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: test4
2025-08-01 19:47:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:47:14 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-01 19:47:31 - core.services.vocabulary_service - ERROR - Validation error in vocabulary lookup: User student does not exist
2025-08-01 19:47:31 - api.routes.user - ERROR - Error looking up word 'student' for user test4: User student does not exist
2025-08-01 19:47:34 - core.services.vocabulary_service - ERROR - Validation error in vocabulary lookup: User student does not exist
2025-08-01 19:47:34 - api.routes.user - ERROR - Error looking up word 'student' for user test4: User student does not exist
2025-08-01 19:47:50 - core.services.vocabulary_service - ERROR - Validation error in vocabulary lookup: User student does not exist
2025-08-01 19:47:50 - api.routes.user - ERROR - Error looking up word 'student' for user test4: User student does not exist
2025-08-01 19:47:56 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-01 19:47:58 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:47:58 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-01 19:47:58 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-01 19:47:58 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-01 19:47:58 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-01 19:47:58 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:47:58 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:47:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 97, in send_request
    raise AIEvaluationError(error_msg)
shared.exceptions.AIEvaluationError: Mistral API error: 401 - {"detail":"Unauthorized"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Unexpected error in Mistral API request: {str(e)}")
shared.exceptions.AIEvaluationError: Unexpected error in Mistral API request: Mistral API error: 401 - {"detail":"Unauthorized"}

2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Returning mock exercise block for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Creating mock exercise block for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Successfully created mock exercise block for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:47:59 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-01 19:48:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:48:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:48:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:48:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:48:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:48:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:48:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:48:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:48:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:49:03 - api.routes.ai.training - INFO - Training exercises request from user: testuser
2025-08-01 19:49:03 - api.routes.ai.training - INFO - Training request data for user testuser: answers_count=0
2025-08-01 19:49:03 - api.routes.ai.training - INFO - User testuser has no answers, checking cached exercises
2025-08-01 19:49:03 - api.routes.ai.training - INFO - No cached next exercises for user testuser, prefetching
2025-08-01 19:49:03 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser
2025-08-01 19:49:03 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser
2025-08-01 19:49:03 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser
2025-08-01 19:49:03 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser
2025-08-01 19:49:03 - features.ai.generation.exercise_creation - INFO - Development mode detected with invalid API key, using predefined exercises for user: testuser
2025-08-01 19:49:03 - features.ai.generation.exercise_creation - INFO - Creating predefined exercise block for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Successfully created predefined exercise block for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser
2025-08-01 19:49:04 - api.routes.ai.training - INFO - Returning cached exercises for user testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Development mode detected with invalid API key, using predefined exercises for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Creating predefined exercise block for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Successfully created predefined exercise block for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser
2025-08-01 19:49:04 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser
2025-08-01 19:49:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:49:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:49:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:51:24 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:51:24 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:51:24 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:51:24 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:51:24 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:51:24 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:51:24 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:51:24 - features.ai.generation.exercise_creation - ERROR - Error creating AI block for user test4: name 'fetch_topic_memory' is not defined
2025-08-01 19:51:24 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: test4
2025-08-01 19:51:24 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user test4
2025-08-01 19:52:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:52:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:52:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:52:14 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:52:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:52:15 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:52:21 - api.routes.ai.training - INFO - Training exercises request from user: testuser
2025-08-01 19:52:21 - api.routes.ai.training - INFO - Training request data for user testuser: answers_count=0
2025-08-01 19:52:21 - api.routes.ai.training - INFO - User testuser has no answers, checking cached exercises
2025-08-01 19:52:21 - api.routes.ai.training - INFO - No cached next exercises for user testuser, prefetching
2025-08-01 19:52:21 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser
2025-08-01 19:52:21 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser
2025-08-01 19:52:21 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser
2025-08-01 19:52:21 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser
2025-08-01 19:52:25 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:52:25 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:52:25 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:52:25 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:52:25 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:52:25 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:52:25 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:52:25 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:52:46 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser
2025-08-01 19:52:46 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser
2025-08-01 19:52:46 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser
2025-08-01 19:52:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser
2025-08-01 19:52:46 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser
2025-08-01 19:52:46 - api.routes.ai.training - INFO - Returning cached exercises for user testuser
2025-08-01 19:52:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser
2025-08-01 19:52:48 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:52:48 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:52:48 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:52:48 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:52:48 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-01 19:52:48 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-01 19:52:48 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:52:49 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:52:49 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:52:49 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:52:49 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:52:49 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:52:49 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:52:49 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:52:49 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-01 19:53:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-01 19:53:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-01 19:53:05 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:53:05 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:53:05 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:53:05 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:53:05 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:53:05 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:53:05 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:53:05 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-01 19:53:14 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:14 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:53:14 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-01 19:53:14 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-01 19:53:14 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:53:14 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:22 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-01 19:53:23 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-01 19:53:23 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-01 19:53:23 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-01 19:53:23 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-01 19:53:23 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-01 19:53:23 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-01 19:53:23 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:53:23 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:25 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:53:25 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:53:25 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:53:25 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-01 19:53:25 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:53:25 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-01 19:53:26 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:27 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:53:27 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:53:27 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-01 19:53:42 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-01 19:53:42 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-01 19:53:42 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:42 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-01 19:53:43 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:53:43 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:53:43 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-01 19:53:56 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:53:56 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:53:56 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-01 19:54:02 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-01 19:54:02 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-01 19:54:02 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 04:37:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 04:59:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 04:59:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 04:59:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 04:59:35 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 04:59:35 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 04:59:35 - __main__ - INFO - Database directory: /app/database
2025-08-02 04:59:35 - __main__ - INFO - ✅ Database connection established
2025-08-02 04:59:35 - __main__ - INFO - Results table created/verified
2025-08-02 04:59:35 - __main__ - INFO - Topic memory table created/verified
2025-08-02 04:59:35 - __main__ - INFO - Sessions table created/verified
2025-08-02 04:59:35 - __main__ - INFO - User progress table created/verified
2025-08-02 04:59:35 - __main__ - INFO - User settings table created/verified
2025-08-02 04:59:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 04:59:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 04:59:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 04:59:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 04:59:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 04:59:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 04:59:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 05:02:29 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-02 05:02:29 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test
2025-08-02 05:07:27 - features.auth.user_accounts - INFO - Creating new user account for admin
2025-08-02 05:07:27 - features.auth.user_accounts - INFO - Initialized topic memory for user admin
2025-08-02 05:07:27 - features.auth.user_accounts - INFO - Successfully created user account for admin
2025-08-02 05:07:31 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:07:31 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:07:31 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:07:55 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:07:55 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:07:55 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:10:42 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:11:05 - features.auth.user_accounts - INFO - Creating new user account for admin2
2025-08-02 05:11:05 - features.auth.user_accounts - INFO - Initialized topic memory for user admin2
2025-08-02 05:11:05 - features.auth.user_accounts - INFO - Successfully created user account for admin2
2025-08-02 05:11:38 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:11:40 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:11:40 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:11:40 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:12:31 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:12:31 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:12:31 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:12:31 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:21:03 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:21:05 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:21:05 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:21:05 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:21:09 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:21:09 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:21:09 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:21:09 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:22:08 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:22:11 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:22:11 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:22:11 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:23:14 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:23:17 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:23:17 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:23:17 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:23:47 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:26:10 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:27:04 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:27:07 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:27:07 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:27:07 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:27:31 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Unterminated string starting at: line 1 column 51 (char 50)
2025-08-02 05:27:34 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:27:34 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:27:34 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:29:47 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 05:29:47 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 05:29:47 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 05:29:47 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 05:29:47 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:29:47 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:29:47 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:29:47 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:29:47 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:29:47 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:29:47 - api.routes.debug - ERROR - Error clearing cache: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 05:29:48 - api.routes.debug - ERROR - Error clearing error logs: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 05:29:48 - api.routes.debug - ERROR - Test exception raised: Test exception
2025-08-02 05:29:51 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 05:29:51 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 05:29:51 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 05:29:51 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 05:29:51 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:29:51 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:29:51 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:29:51 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:29:51 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:29:51 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:29:51 - api.routes.debug - ERROR - Error clearing cache: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 05:29:51 - api.routes.debug - ERROR - Error clearing error logs: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 05:29:51 - api.routes.debug - ERROR - Test exception raised: Test exception
2025-08-02 05:29:53 - features.auth.authentication - INFO - Attempting authentication for user invalid
2025-08-02 05:29:53 - features.auth.authentication - WARNING - Authentication failed: user invalid not found
2025-08-02 05:29:53 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 37 (char 36)
2025-08-02 05:29:57 - features.auth.authentication - INFO - Attempting authentication for user invalid
2025-08-02 05:29:57 - features.auth.authentication - WARNING - Authentication failed: user invalid not found
2025-08-02 05:29:57 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 37 (char 36)
2025-08-02 05:44:23 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 05:44:23 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 05:44:23 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:44:23 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:44:23 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:44:23 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:44:23 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:44:23 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:44:23 - api.routes.auth - ERROR - Error enabling 2FA: No module named 'qrcode'
2025-08-02 05:44:24 - api.routes.user - ERROR - Error getting vocabulary for user admin: get_user_vocabulary_entries() takes 1 positional argument but 5 were given
2025-08-02 05:44:24 - api.routes.user - ERROR - Error in vocab training for user admin: select_vocab_word_due_for_review() takes 1 positional argument but 3 were given
2025-08-02 05:44:24 - api.routes.profile - ERROR - Error getting learning statistics for user admin: get_user_profile_summary() takes 1 positional argument but 3 were given
2025-08-02 05:44:24 - api.routes.profile - ERROR - Error getting detailed statistics for user admin: get_user_statistics() takes 1 positional argument but 4 were given
2025-08-02 05:44:24 - api.routes.profile - ERROR - Error getting achievements for user admin: get_user_achievements() takes 1 positional argument but 5 were given
2025-08-02 05:44:24 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:44:24 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:44:24 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:44:24 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:44:24 - api.routes.profile - ERROR - Error getting learning strengths for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 05:44:24 - api.routes.profile - ERROR - Error getting learning weaknesses for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 05:44:24 - features.settings.user_settings - INFO - Getting settings for user admin
2025-08-02 05:44:24 - features.settings.user_settings - INFO - Getting account statistics for user admin
2025-08-02 05:44:24 - features.settings.user_settings - INFO - Generated account statistics for user admin
2025-08-02 05:44:24 - features.settings.user_settings - INFO - Retrieved settings for user admin
2025-08-02 05:44:24 - api.routes.settings - ERROR - Error getting learning settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:44:24 - api.routes.settings - ERROR - Error getting notification settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:44:24 - api.routes.settings - ERROR - Error getting privacy settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:44:24 - api.routes.settings - ERROR - Error getting account settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:44:24 - api.routes.settings - ERROR - Error exporting data for user admin: export_user_data() got an unexpected keyword argument 'format'
2025-08-02 05:44:24 - api.routes.lessons - ERROR - Error getting lessons: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 05:44:24 - core.services.progress_service - INFO - Getting progress summary for user admin (last 365 days)
2025-08-02 05:44:24 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:44:24 - core.services.lesson_service - INFO - Getting lesson statistics for user admin
2025-08-02 05:44:24 - core.services.lesson_service - INFO - Retrieved lesson statistics for user admin: 0/0 lessons completed (0.0%)
2025-08-02 05:44:24 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:44:24 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:44:24 - core.services.progress_service - INFO - Tracking vocabulary progress for user admin, word test
2025-08-02 05:44:24 - core.services.progress_service - ERROR - Failed to track vocabulary progress for user admin, word test
2025-08-02 05:44:24 - core.services.progress_service - INFO - Resetting progress for user admin
2025-08-02 05:44:24 - core.services.progress_service - ERROR - Failed to reset progress for table lesson_progress
2025-08-02 05:44:24 - core.services.progress_service - ERROR - Failed to reset progress for table activity_progress
2025-08-02 05:44:24 - core.services.progress_service - ERROR - Failed to reset progress for table vocabulary_progress
2025-08-02 05:44:24 - core.services.progress_service - ERROR - Failed to reset progress for table game_progress
2025-08-02 05:44:24 - core.services.progress_service - ERROR - Failed to reset progress for user admin
2025-08-02 05:44:24 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:44:24 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:44:24 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:44:24 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:44:25 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:44:25 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:44:25 - core.services.user_service - INFO - Retrieved level 0 for user admin
2025-08-02 05:44:25 - core.services.game_service - INFO - Using game level 0 for user admin
2025-08-02 05:44:25 - api.routes.game - ERROR - Error getting game results for user admin: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 05:44:25 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:44:25 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:44:25 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:44:25 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:44:25 - api.routes.game - ERROR - Error getting performance analytics for user admin: name 'get_performance_analytics' is not defined
2025-08-02 05:44:25 - api.routes.ai.exercise - INFO - User admin submitting exercise block 1
2025-08-02 05:44:25 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 0 answers for user: admin
2025-08-02 05:44:25 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-02 05:44:25 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-02 05:44:25 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block 1
2025-08-02 05:44:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 05:44:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 05:44:25 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-02 05:44:25 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:44:25 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block 1
2025-08-02 05:44:25 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-02 05:44:25 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-02 05:44:25 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-02 05:44:25 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-02 05:44:25 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block 1
2025-08-02 05:44:25 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:44:25 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block 1
2025-08-02 05:44:25 - external.redis.client - ERROR - Redis get error for key feedback_progress:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:44:25 - api.routes.ai.feedback - INFO - User admin requesting AI feedback generation with progress
2025-08-02 05:44:25 - external.redis.client - ERROR - Redis get error for key feedback_result:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:44:25 - api.routes.ai.feedback - ERROR - Error getting AI feedback list: get_cached_feedback_list() takes 0 positional arguments but 4 were given
2025-08-02 05:44:25 - api.routes.ai.feedback - ERROR - Error getting AI feedback item: get_cached_feedback_item() takes 1 positional argument but 2 were given
2025-08-02 05:44:25 - api.routes.ai.feedback - INFO - User admin requesting immediate AI feedback generation
2025-08-02 05:44:25 - api.routes.ai.reading - INFO - User admin requesting reading exercise
2025-08-02 05:44:50 - api.routes.ai.reading - INFO - User admin submitting reading exercise
2025-08-02 05:44:50 - api.routes.ai.lesson - INFO - User admin requesting weakness lesson
2025-08-02 05:45:24 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 05:45:24 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 05:45:24 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:45:24 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:45:24 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:45:24 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 05:45:24 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 05:45:24 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 05:45:24 - api.routes.auth - ERROR - Error enabling 2FA: No module named 'qrcode'
2025-08-02 05:45:24 - api.routes.user - ERROR - Error getting vocabulary for user admin: get_user_vocabulary_entries() takes 1 positional argument but 5 were given
2025-08-02 05:45:24 - api.routes.user - ERROR - Error in vocab training for user admin: select_vocab_word_due_for_review() takes 1 positional argument but 3 were given
2025-08-02 05:45:24 - api.routes.profile - ERROR - Error getting learning statistics for user admin: get_user_profile_summary() takes 1 positional argument but 3 were given
2025-08-02 05:45:24 - api.routes.profile - ERROR - Error getting detailed statistics for user admin: get_user_statistics() takes 1 positional argument but 4 were given
2025-08-02 05:45:24 - api.routes.profile - ERROR - Error getting achievements for user admin: get_user_achievements() takes 1 positional argument but 5 were given
2025-08-02 05:45:24 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:45:24 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:45:24 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:45:24 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:45:24 - api.routes.profile - ERROR - Error getting learning strengths for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 05:45:24 - api.routes.profile - ERROR - Error getting learning weaknesses for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 05:45:24 - features.settings.user_settings - INFO - Getting settings for user admin
2025-08-02 05:45:24 - features.settings.user_settings - INFO - Getting account statistics for user admin
2025-08-02 05:45:24 - features.settings.user_settings - INFO - Generated account statistics for user admin
2025-08-02 05:45:24 - features.settings.user_settings - INFO - Retrieved settings for user admin
2025-08-02 05:45:24 - api.routes.settings - ERROR - Error getting learning settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:45:24 - api.routes.settings - ERROR - Error getting notification settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:45:24 - api.routes.settings - ERROR - Error getting privacy settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:45:24 - api.routes.settings - ERROR - Error getting account settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 05:45:25 - api.routes.settings - ERROR - Error exporting data for user admin: export_user_data() got an unexpected keyword argument 'format'
2025-08-02 05:45:25 - api.routes.lessons - ERROR - Error getting lessons: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 05:45:25 - core.services.progress_service - INFO - Getting progress summary for user admin (last 365 days)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:45:25 - core.services.lesson_service - INFO - Getting lesson statistics for user admin
2025-08-02 05:45:25 - core.services.lesson_service - INFO - Retrieved lesson statistics for user admin: 0/0 lessons completed (0.0%)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:45:25 - core.services.progress_service - INFO - Tracking vocabulary progress for user admin, word test
2025-08-02 05:45:25 - core.services.progress_service - ERROR - Failed to track vocabulary progress for user admin, word test
2025-08-02 05:45:25 - core.services.progress_service - INFO - Resetting progress for user admin
2025-08-02 05:45:25 - core.services.progress_service - ERROR - Failed to reset progress for table lesson_progress
2025-08-02 05:45:25 - core.services.progress_service - ERROR - Failed to reset progress for table activity_progress
2025-08-02 05:45:25 - core.services.progress_service - ERROR - Failed to reset progress for table vocabulary_progress
2025-08-02 05:45:25 - core.services.progress_service - ERROR - Failed to reset progress for table game_progress
2025-08-02 05:45:25 - core.services.progress_service - ERROR - Failed to reset progress for user admin
2025-08-02 05:45:25 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:45:25 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:45:25 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:45:25 - core.services.user_service - INFO - Retrieved level 0 for user admin
2025-08-02 05:45:25 - core.services.game_service - INFO - Using game level 0 for user admin
2025-08-02 05:45:25 - api.routes.game - ERROR - Error getting game results for user admin: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 05:45:25 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 05:45:25 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 05:45:25 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 05:45:25 - api.routes.game - ERROR - Error getting performance analytics for user admin: name 'get_performance_analytics' is not defined
2025-08-02 05:45:25 - api.routes.ai.exercise - INFO - User admin submitting exercise block 1
2025-08-02 05:45:25 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 0 answers for user: admin
2025-08-02 05:45:25 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-02 05:45:25 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-02 05:45:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 05:45:25 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block 1
2025-08-02 05:45:25 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-02 05:45:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 05:45:25 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:45:25 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block 1
2025-08-02 05:45:25 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-02 05:45:25 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-02 05:45:25 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-02 05:45:25 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-02 05:45:25 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block 1
2025-08-02 05:45:25 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:45:25 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block 1
2025-08-02 05:45:25 - external.redis.client - ERROR - Redis get error for key feedback_progress:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:45:25 - api.routes.ai.feedback - INFO - User admin requesting AI feedback generation with progress
2025-08-02 05:45:25 - external.redis.client - ERROR - Redis get error for key feedback_result:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 05:45:25 - api.routes.ai.feedback - ERROR - Error getting AI feedback list: get_cached_feedback_list() takes 0 positional arguments but 4 were given
2025-08-02 05:45:25 - api.routes.ai.feedback - ERROR - Error getting AI feedback item: get_cached_feedback_item() takes 1 positional argument but 2 were given
2025-08-02 05:45:25 - api.routes.ai.feedback - INFO - User admin requesting immediate AI feedback generation
2025-08-02 05:45:25 - api.routes.ai.reading - INFO - User admin requesting reading exercise
2025-08-02 05:45:50 - api.routes.ai.lesson - ERROR - Failed to generate weakness lesson for user admin: Mistral API request timed out after 60 seconds
2025-08-02 05:45:51 - api.routes.ai.training - INFO - Training exercises request from user: admin
2025-08-02 05:45:51 - api.routes.ai.training - INFO - Training request data for user admin: answers_count=0
2025-08-02 05:45:51 - api.routes.ai.training - INFO - User admin has no answers, checking cached exercises
2025-08-02 05:45:51 - api.routes.ai.training - INFO - No cached next exercises for user admin, prefetching
2025-08-02 05:45:51 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: admin
2025-08-02 05:45:51 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: admin
2025-08-02 05:45:51 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 05:45:51 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 05:46:02 - api.routes.ai.reading - INFO - User admin submitting reading exercise
2025-08-02 05:46:02 - api.routes.ai.lesson - INFO - User admin requesting weakness lesson
2025-08-02 05:47:19 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user admin: Mistral API request timed out after 60 seconds
2025-08-02 05:47:19 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/http/client.py", line 1395, in getresponse
    response.begin()
  File "/usr/local/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/socket.py", line 718, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/ssl.py", line 1314, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/ssl.py", line 1166, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Read timed out. (read timeout=60)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 86, in send_request
    response = requests.post(
               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.mistral.ai', port=443): Read timed out. (read timeout=60)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 102, in send_request
    raise AIEvaluationError("Mistral API request timed out after 60 seconds")
shared.exceptions.AIEvaluationError: Mistral API request timed out after 60 seconds

2025-08-02 05:47:19 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: admin
2025-08-02 05:47:19 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: admin
2025-08-02 05:47:19 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user admin
2025-08-02 06:04:25 - api.routes.ai.lesson - ERROR - Failed to generate weakness lesson for user admin: Mistral API request timed out after 60 seconds
2025-08-02 06:04:25 - api.routes.ai.training - INFO - Training exercises request from user: admin
2025-08-02 06:04:25 - api.routes.ai.training - INFO - Training request data for user admin: answers_count=0
2025-08-02 06:04:25 - api.routes.ai.training - INFO - User admin has no answers, checking cached exercises
2025-08-02 06:04:25 - api.routes.ai.training - INFO - No cached next exercises for user admin, prefetching
2025-08-02 06:04:25 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: admin
2025-08-02 06:04:25 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: admin
2025-08-02 06:04:25 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 06:04:25 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 06:04:25 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user admin: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff8d5e7290>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))
2025-08-02 06:04:25 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/socket.py", line 974, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 205, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0xffff8d5e7290>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff8d5e7290>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 86, in send_request
    response = requests.post(
               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff8d5e7290>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 104, in send_request
    raise AIEvaluationError(f"Mistral API request failed: {str(e)}")
shared.exceptions.AIEvaluationError: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff8d5e7290>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

2025-08-02 06:04:25 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: admin
2025-08-02 06:04:25 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: admin
2025-08-02 06:04:25 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user admin
2025-08-02 06:04:25 - api.routes.ai.training - INFO - User admin submitting training exercise
2025-08-02 06:04:25 - api.routes.ai.tts - INFO - User admin requesting text-to-speech conversion
2025-08-02 06:04:25 - external.tts.service - INFO - TTS service request from user admin: 23 characters
2025-08-02 06:04:25 - external.tts.client - INFO - Successfully converted text to speech: 23 characters
2025-08-02 06:04:25 - external.tts.service - INFO - TTS conversion successful for user admin
2025-08-02 06:04:25 - api.routes.ai.tts - INFO - Successfully generated TTS audio for user admin
2025-08-02 06:04:25 - features.translation.translation_jobs - INFO - Getting status for translation job 1
2025-08-02 06:04:25 - external.redis.client - ERROR - Redis get error for key translation_job:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 06:04:25 - features.translation.translation_jobs - WARNING - Translation job 1 not found
2025-08-02 06:04:25 - features.support.feedback_management - ERROR - Error submitting feedback: 'dict' object has no attribute 'strip'
2025-08-02 06:04:25 - api.routes.support - ERROR - Error getting feedback: get_feedback_list() got an unexpected keyword argument 'category'
2025-08-02 06:04:25 - api.routes.support - ERROR - Error creating support request: create_support_request() missing 2 required positional arguments: 'subject' and 'description'
2025-08-02 06:04:25 - api.routes.support - ERROR - Error getting support request 1: get_support_request() takes 1 positional argument but 2 were given
2025-08-02 06:04:25 - features.support.system_support - INFO - Getting system status
2025-08-02 06:04:25 - features.support.system_support - ERROR - Error getting system status: cannot access local variable 'uptime' where it is not associated with a value
2025-08-02 06:04:25 - api.routes.support - ERROR - Error getting help content: get_help_content() got an unexpected keyword argument 'search'
2025-08-02 06:04:25 - features.support.system_support - INFO - Getting help topics for language en
2025-08-02 06:04:25 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-02 06:04:25 - api.routes.debug - ERROR - Error clearing cache: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 06:04:25 - api.routes.debug - ERROR - Error clearing error logs: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 06:04:25 - api.routes.debug - ERROR - Test exception raised: Test exception
2025-08-02 06:04:30 - features.auth.authentication - INFO - Attempting authentication for user invalid
2025-08-02 06:04:30 - features.auth.authentication - WARNING - Authentication failed: user invalid not found
2025-08-02 06:04:30 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 37 (char 36)
2025-08-02 07:02:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:02:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:02:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:03:01 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 07:03:01 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 07:03:01 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:03:01 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:03:01 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:03:01 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:03:01 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:03:01 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:03:01 - api.routes.auth - ERROR - Error enabling 2FA: No module named 'qrcode'
2025-08-02 07:03:01 - api.routes.user - ERROR - Error getting vocabulary for user admin: get_user_vocabulary_entries() takes 1 positional argument but 5 were given
2025-08-02 07:03:01 - api.routes.user - ERROR - Error in vocab training for user admin: select_vocab_word_due_for_review() takes 1 positional argument but 3 were given
2025-08-02 07:03:02 - api.routes.profile - ERROR - Error getting learning statistics for user admin: get_user_profile_summary() takes 1 positional argument but 3 were given
2025-08-02 07:03:02 - api.routes.profile - ERROR - Error getting detailed statistics for user admin: get_user_statistics() takes 1 positional argument but 4 were given
2025-08-02 07:03:02 - api.routes.profile - ERROR - Error getting achievements for user admin: get_user_achievements() takes 1 positional argument but 5 were given
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:02 - api.routes.profile - ERROR - Error getting learning strengths for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 07:03:02 - api.routes.profile - ERROR - Error getting learning weaknesses for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 07:03:02 - features.settings.user_settings - INFO - Getting settings for user admin
2025-08-02 07:03:02 - features.settings.user_settings - INFO - Getting account statistics for user admin
2025-08-02 07:03:02 - features.settings.user_settings - INFO - Generated account statistics for user admin
2025-08-02 07:03:02 - features.settings.user_settings - INFO - Retrieved settings for user admin
2025-08-02 07:03:02 - api.routes.settings - ERROR - Error getting learning settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:02 - api.routes.settings - ERROR - Error getting notification settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:02 - api.routes.settings - ERROR - Error getting privacy settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:02 - api.routes.settings - ERROR - Error getting account settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:02 - api.routes.settings - ERROR - Error exporting data for user admin: export_user_data() got an unexpected keyword argument 'format'
2025-08-02 07:03:02 - api.routes.lessons - ERROR - Error getting lessons: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress summary for user admin (last 365 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:02 - core.services.lesson_service - INFO - Getting lesson statistics for user admin
2025-08-02 07:03:02 - core.services.lesson_service - INFO - Retrieved lesson statistics for user admin: 0/0 lessons completed (0.0%)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:02 - core.services.progress_service - INFO - Tracking vocabulary progress for user admin, word test
2025-08-02 07:03:02 - core.services.progress_service - ERROR - Failed to track vocabulary progress for user admin, word test
2025-08-02 07:03:02 - core.services.progress_service - INFO - Resetting progress for user admin
2025-08-02 07:03:02 - core.services.progress_service - ERROR - Failed to reset progress for table lesson_progress
2025-08-02 07:03:02 - core.services.progress_service - ERROR - Failed to reset progress for table activity_progress
2025-08-02 07:03:02 - core.services.progress_service - ERROR - Failed to reset progress for table vocabulary_progress
2025-08-02 07:03:02 - core.services.progress_service - ERROR - Failed to reset progress for table game_progress
2025-08-02 07:03:02 - core.services.progress_service - ERROR - Failed to reset progress for user admin
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:02 - core.services.user_service - INFO - Retrieved level 0 for user admin
2025-08-02 07:03:02 - core.services.game_service - INFO - Using game level 0 for user admin
2025-08-02 07:03:02 - api.routes.game - ERROR - Error getting game results for user admin: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:02 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:02 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:02 - api.routes.game - ERROR - Error getting performance analytics for user admin: name 'get_performance_analytics' is not defined
2025-08-02 07:03:02 - api.routes.ai.exercise - INFO - User admin submitting exercise block 1
2025-08-02 07:03:02 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 0 answers for user: admin
2025-08-02 07:03:02 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-02 07:03:02 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-02 07:03:02 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block 1
2025-08-02 07:03:02 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:03:02 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:03:02 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-02 07:03:02 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:02 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block 1
2025-08-02 07:03:02 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-02 07:03:02 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-02 07:03:02 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-02 07:03:02 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-02 07:03:02 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block 1
2025-08-02 07:03:02 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:02 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block 1
2025-08-02 07:03:02 - external.redis.client - ERROR - Redis get error for key feedback_progress:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:02 - api.routes.ai.feedback - INFO - User admin requesting AI feedback generation with progress
2025-08-02 07:03:02 - external.redis.client - ERROR - Redis get error for key feedback_result:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:02 - api.routes.ai.feedback - ERROR - Error getting AI feedback list: get_cached_feedback_list() takes 0 positional arguments but 4 were given
2025-08-02 07:03:02 - api.routes.ai.feedback - ERROR - Error getting AI feedback item: get_cached_feedback_item() takes 1 positional argument but 2 were given
2025-08-02 07:03:02 - api.routes.ai.feedback - INFO - User admin requesting immediate AI feedback generation
2025-08-02 07:03:02 - api.routes.ai.reading - INFO - User admin requesting reading exercise
2025-08-02 07:03:02 - main - ERROR - Failed to generate reading exercise: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff7db6d410>: Failed to establish a new connection: [Errno 101] Network is unreachable'))
2025-08-02 07:03:02 - api.routes.ai.reading - INFO - User admin submitting reading exercise
2025-08-02 07:03:02 - api.routes.ai.lesson - INFO - User admin requesting weakness lesson
2025-08-02 07:03:06 - api.routes.ai.lesson - ERROR - Failed to generate weakness lesson for user admin: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff7db7cf90>: Failed to establish a new connection: [Errno 101] Network is unreachable'))
2025-08-02 07:03:06 - api.routes.ai.training - INFO - Training exercises request from user: admin
2025-08-02 07:03:06 - api.routes.ai.training - INFO - Training request data for user admin: answers_count=0
2025-08-02 07:03:06 - api.routes.ai.training - INFO - User admin has no answers, checking cached exercises
2025-08-02 07:03:06 - api.routes.ai.training - INFO - No cached next exercises for user admin, prefetching
2025-08-02 07:03:06 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: admin
2025-08-02 07:03:06 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: admin
2025-08-02 07:03:06 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 07:03:06 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 07:03:08 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user admin: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff7db73a90>: Failed to establish a new connection: [Errno 101] Network is unreachable'))
2025-08-02 07:03:08 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0xffff7db73a90>: Failed to establish a new connection: [Errno 101] Network is unreachable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff7db73a90>: Failed to establish a new connection: [Errno 101] Network is unreachable'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 86, in send_request
    response = requests.post(
               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff7db73a90>: Failed to establish a new connection: [Errno 101] Network is unreachable'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 104, in send_request
    raise AIEvaluationError(f"Mistral API request failed: {str(e)}")
shared.exceptions.AIEvaluationError: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff7db73a90>: Failed to establish a new connection: [Errno 101] Network is unreachable'))

2025-08-02 07:03:08 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: admin
2025-08-02 07:03:08 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: admin
2025-08-02 07:03:08 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user admin
2025-08-02 07:03:09 - api.routes.ai.training - INFO - User admin submitting training exercise
2025-08-02 07:03:09 - api.routes.ai.tts - INFO - User admin requesting text-to-speech conversion
2025-08-02 07:03:09 - external.tts.service - INFO - TTS service request from user admin: 23 characters
2025-08-02 07:03:09 - external.tts.client - INFO - Successfully converted text to speech: 23 characters
2025-08-02 07:03:09 - external.tts.service - INFO - TTS conversion successful for user admin
2025-08-02 07:03:09 - api.routes.ai.tts - INFO - Successfully generated TTS audio for user admin
2025-08-02 07:03:09 - features.translation.translation_jobs - INFO - Getting status for translation job 1
2025-08-02 07:03:09 - external.redis.client - ERROR - Redis get error for key translation_job:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:09 - features.translation.translation_jobs - WARNING - Translation job 1 not found
2025-08-02 07:03:09 - features.support.feedback_management - ERROR - Error submitting feedback: 'dict' object has no attribute 'strip'
2025-08-02 07:03:09 - api.routes.support - ERROR - Error getting feedback: get_feedback_list() got an unexpected keyword argument 'category'
2025-08-02 07:03:09 - api.routes.support - ERROR - Error creating support request: create_support_request() missing 2 required positional arguments: 'subject' and 'description'
2025-08-02 07:03:09 - api.routes.support - ERROR - Error getting support request 1: get_support_request() takes 1 positional argument but 2 were given
2025-08-02 07:03:09 - features.support.system_support - INFO - Getting system status
2025-08-02 07:03:09 - features.support.system_support - ERROR - Error getting system status: cannot access local variable 'uptime' where it is not associated with a value
2025-08-02 07:03:09 - api.routes.support - ERROR - Error getting help content: get_help_content() got an unexpected keyword argument 'search'
2025-08-02 07:03:09 - features.support.system_support - INFO - Getting help topics for language en
2025-08-02 07:03:09 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-02 07:03:09 - api.routes.debug - ERROR - Error clearing cache: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 07:03:09 - api.routes.debug - ERROR - Error clearing error logs: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 07:03:09 - api.routes.debug - ERROR - Test exception raised: Test exception
2025-08-02 07:03:14 - features.auth.authentication - INFO - Attempting authentication for user invalid
2025-08-02 07:03:14 - features.auth.authentication - WARNING - Authentication failed: user invalid not found
2025-08-02 07:03:14 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 37 (char 36)
2025-08-02 07:03:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:03:33 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:03:33 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:03:33 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:03:33 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:03:33 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:03:33 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:03:33 - __main__ - INFO - Results table created/verified
2025-08-02 07:03:33 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:03:33 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:03:33 - __main__ - INFO - User progress table created/verified
2025-08-02 07:03:33 - __main__ - INFO - User settings table created/verified
2025-08-02 07:03:33 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:03:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:03:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:03:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:03:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:03:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:03:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:03:48 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 07:03:48 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 07:03:48 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:03:48 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:03:48 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:03:48 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:03:48 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:03:48 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:03:48 - api.routes.auth - ERROR - Error enabling 2FA: No module named 'qrcode'
2025-08-02 07:03:48 - api.routes.user - ERROR - Error getting vocabulary for user admin: get_user_vocabulary_entries() takes 1 positional argument but 5 were given
2025-08-02 07:03:48 - api.routes.user - ERROR - Error in vocab training for user admin: select_vocab_word_due_for_review() takes 1 positional argument but 3 were given
2025-08-02 07:03:48 - api.routes.profile - ERROR - Error getting learning statistics for user admin: get_user_profile_summary() takes 1 positional argument but 3 were given
2025-08-02 07:03:48 - api.routes.profile - ERROR - Error getting detailed statistics for user admin: get_user_statistics() takes 1 positional argument but 4 were given
2025-08-02 07:03:48 - api.routes.profile - ERROR - Error getting achievements for user admin: get_user_achievements() takes 1 positional argument but 5 were given
2025-08-02 07:03:48 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:48 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:48 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:48 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:48 - api.routes.profile - ERROR - Error getting learning strengths for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 07:03:48 - api.routes.profile - ERROR - Error getting learning weaknesses for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 07:03:48 - features.settings.user_settings - INFO - Getting settings for user admin
2025-08-02 07:03:48 - features.settings.user_settings - INFO - Getting account statistics for user admin
2025-08-02 07:03:48 - features.settings.user_settings - INFO - Generated account statistics for user admin
2025-08-02 07:03:48 - features.settings.user_settings - INFO - Retrieved settings for user admin
2025-08-02 07:03:48 - api.routes.settings - ERROR - Error getting learning settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:48 - api.routes.settings - ERROR - Error getting notification settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:48 - api.routes.settings - ERROR - Error getting privacy settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:48 - api.routes.settings - ERROR - Error getting account settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:03:48 - api.routes.settings - ERROR - Error exporting data for user admin: export_user_data() got an unexpected keyword argument 'format'
2025-08-02 07:03:48 - api.routes.lessons - ERROR - Error getting lessons: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 07:03:48 - core.services.progress_service - INFO - Getting progress summary for user admin (last 365 days)
2025-08-02 07:03:48 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:48 - core.services.lesson_service - INFO - Getting lesson statistics for user admin
2025-08-02 07:03:48 - core.services.lesson_service - INFO - Retrieved lesson statistics for user admin: 0/0 lessons completed (0.0%)
2025-08-02 07:03:48 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:48 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:48 - core.services.progress_service - INFO - Tracking vocabulary progress for user admin, word test
2025-08-02 07:03:48 - core.services.progress_service - ERROR - Failed to track vocabulary progress for user admin, word test
2025-08-02 07:03:48 - core.services.progress_service - INFO - Resetting progress for user admin
2025-08-02 07:03:48 - core.services.progress_service - ERROR - Failed to reset progress for table lesson_progress
2025-08-02 07:03:48 - core.services.progress_service - ERROR - Failed to reset progress for table activity_progress
2025-08-02 07:03:48 - core.services.progress_service - ERROR - Failed to reset progress for table vocabulary_progress
2025-08-02 07:03:48 - core.services.progress_service - ERROR - Failed to reset progress for table game_progress
2025-08-02 07:03:48 - core.services.progress_service - ERROR - Failed to reset progress for user admin
2025-08-02 07:03:48 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:48 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:48 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:48 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:48 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:49 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:49 - core.services.user_service - INFO - Retrieved level 0 for user admin
2025-08-02 07:03:49 - core.services.game_service - INFO - Using game level 0 for user admin
2025-08-02 07:03:49 - api.routes.game - ERROR - Error getting game results for user admin: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 07:03:49 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:03:49 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:03:49 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:03:49 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:03:49 - api.routes.game - ERROR - Error getting performance analytics for user admin: name 'get_performance_analytics' is not defined
2025-08-02 07:03:49 - api.routes.ai.exercise - INFO - User admin submitting exercise block 1
2025-08-02 07:03:49 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 0 answers for user: admin
2025-08-02 07:03:49 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-02 07:03:49 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-02 07:03:49 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block 1
2025-08-02 07:03:49 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:03:49 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-02 07:03:49 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:03:49 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:49 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block 1
2025-08-02 07:03:49 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-02 07:03:49 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-02 07:03:49 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-02 07:03:49 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-02 07:03:49 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block 1
2025-08-02 07:03:49 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:49 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block 1
2025-08-02 07:03:49 - external.redis.client - ERROR - Redis get error for key feedback_progress:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:49 - api.routes.ai.feedback - INFO - User admin requesting AI feedback generation with progress
2025-08-02 07:03:49 - external.redis.client - ERROR - Redis get error for key feedback_result:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:49 - api.routes.ai.feedback - ERROR - Error getting AI feedback list: get_cached_feedback_list() takes 0 positional arguments but 4 were given
2025-08-02 07:03:49 - api.routes.ai.feedback - ERROR - Error getting AI feedback item: get_cached_feedback_item() takes 1 positional argument but 2 were given
2025-08-02 07:03:49 - api.routes.ai.feedback - INFO - User admin requesting immediate AI feedback generation
2025-08-02 07:03:49 - api.routes.ai.reading - INFO - User admin requesting reading exercise
2025-08-02 07:03:49 - main - ERROR - Failed to generate reading exercise: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff81009890>: Failed to establish a new connection: [Errno 101] Network is unreachable'))
2025-08-02 07:03:49 - api.routes.ai.reading - INFO - User admin submitting reading exercise
2025-08-02 07:03:49 - api.routes.ai.lesson - INFO - User admin requesting weakness lesson
2025-08-02 07:03:51 - api.routes.ai.lesson - ERROR - Failed to generate weakness lesson for user admin: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff8106bed0>: Failed to establish a new connection: [Errno 101] Network is unreachable'))
2025-08-02 07:03:51 - api.routes.ai.training - INFO - Training exercises request from user: admin
2025-08-02 07:03:51 - api.routes.ai.training - INFO - Training request data for user admin: answers_count=0
2025-08-02 07:03:51 - api.routes.ai.training - INFO - User admin has no answers, checking cached exercises
2025-08-02 07:03:51 - api.routes.ai.training - INFO - No cached next exercises for user admin, prefetching
2025-08-02 07:03:51 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: admin
2025-08-02 07:03:51 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: admin
2025-08-02 07:03:51 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 07:03:51 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 07:03:51 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user admin: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff810799d0>: Failed to establish a new connection: [Errno 101] Network is unreachable'))
2025-08-02 07:03:51 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0xffff810799d0>: Failed to establish a new connection: [Errno 101] Network is unreachable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff810799d0>: Failed to establish a new connection: [Errno 101] Network is unreachable'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 86, in send_request
    response = requests.post(
               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff810799d0>: Failed to establish a new connection: [Errno 101] Network is unreachable'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 104, in send_request
    raise AIEvaluationError(f"Mistral API request failed: {str(e)}")
shared.exceptions.AIEvaluationError: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffff810799d0>: Failed to establish a new connection: [Errno 101] Network is unreachable'))

2025-08-02 07:03:51 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: admin
2025-08-02 07:03:51 - features.ai.generation.exercise_creation - WARNING - Failed to generate blocks for existing user: admin
2025-08-02 07:03:51 - api.routes.ai.training - ERROR - Generated ai_block is empty or invalid for user admin
2025-08-02 07:03:51 - api.routes.ai.training - INFO - User admin submitting training exercise
2025-08-02 07:03:51 - api.routes.ai.tts - INFO - User admin requesting text-to-speech conversion
2025-08-02 07:03:51 - external.tts.service - INFO - TTS service request from user admin: 23 characters
2025-08-02 07:03:51 - external.tts.client - INFO - Successfully converted text to speech: 23 characters
2025-08-02 07:03:51 - external.tts.service - INFO - TTS conversion successful for user admin
2025-08-02 07:03:51 - api.routes.ai.tts - INFO - Successfully generated TTS audio for user admin
2025-08-02 07:03:52 - features.translation.translation_jobs - INFO - Getting status for translation job 1
2025-08-02 07:03:52 - external.redis.client - ERROR - Redis get error for key translation_job:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:03:52 - features.translation.translation_jobs - WARNING - Translation job 1 not found
2025-08-02 07:03:52 - features.support.feedback_management - ERROR - Error submitting feedback: 'dict' object has no attribute 'strip'
2025-08-02 07:03:52 - api.routes.support - ERROR - Error getting feedback: get_feedback_list() got an unexpected keyword argument 'category'
2025-08-02 07:03:52 - api.routes.support - ERROR - Error creating support request: create_support_request() missing 2 required positional arguments: 'subject' and 'description'
2025-08-02 07:03:52 - api.routes.support - ERROR - Error getting support request 1: get_support_request() takes 1 positional argument but 2 were given
2025-08-02 07:03:52 - features.support.system_support - INFO - Getting system status
2025-08-02 07:03:52 - features.support.system_support - ERROR - Error getting system status: cannot access local variable 'uptime' where it is not associated with a value
2025-08-02 07:03:52 - api.routes.support - ERROR - Error getting help content: get_help_content() got an unexpected keyword argument 'search'
2025-08-02 07:03:52 - features.support.system_support - INFO - Getting help topics for language en
2025-08-02 07:03:52 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-02 07:03:52 - api.routes.debug - ERROR - Error clearing cache: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 07:03:52 - api.routes.debug - ERROR - Error clearing error logs: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2025-08-02 07:03:52 - api.routes.debug - ERROR - Test exception raised: Test exception
2025-08-02 07:03:57 - features.auth.authentication - INFO - Attempting authentication for user invalid
2025-08-02 07:03:57 - features.auth.authentication - WARNING - Authentication failed: user invalid not found
2025-08-02 07:03:57 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 37 (char 36)
2025-08-02 07:05:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:05:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:05:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:05:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:05:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:05:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:05:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:05:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:05:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:05:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:05:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:05:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:06:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:06:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:06:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:06:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:06:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:06:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:06:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:06:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:06:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:06:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:06:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:06:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:06:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:06:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:07:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:07:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:07:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:07:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:07:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:07:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:07:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:07:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:07:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:07:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:07:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:07:40 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:07:40 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:07:40 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:07:40 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:07:40 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:07:40 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:07:40 - __main__ - INFO - Results table created/verified
2025-08-02 07:07:40 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:07:40 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:07:40 - __main__ - INFO - User progress table created/verified
2025-08-02 07:07:40 - __main__ - INFO - User settings table created/verified
2025-08-02 07:07:40 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:07:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:07:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:07:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:07:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:07:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:07:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:07:45 - features.support.system_support - INFO - Getting system status
2025-08-02 07:07:45 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-02 07:07:47 - features.support.system_support - INFO - Getting help content for topic 'getting_started' in en
2025-08-02 07:07:51 - features.support.feedback_management - INFO - Submitting feedback from user anonymous
2025-08-02 07:07:51 - features.support.feedback_management - INFO - Successfully submitted feedback from user anonymous
2025-08-02 07:07:53 - api.routes.support - ERROR - Error creating support request: ??? Unknown Error: None
2025-08-02 07:08:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:08:26 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:08:26 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:08:26 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:08:26 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:08:26 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:08:26 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:08:26 - __main__ - INFO - Results table created/verified
2025-08-02 07:08:26 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:08:26 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:08:26 - __main__ - INFO - User progress table created/verified
2025-08-02 07:08:26 - __main__ - INFO - User settings table created/verified
2025-08-02 07:08:26 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:08:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:08:47 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:08:47 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:08:47 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:08:47 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:08:47 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:08:47 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:08:47 - __main__ - INFO - Results table created/verified
2025-08-02 07:08:47 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:08:47 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:08:47 - __main__ - INFO - User progress table created/verified
2025-08-02 07:08:47 - __main__ - INFO - User settings table created/verified
2025-08-02 07:08:47 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:08:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:08:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:08:48 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:08:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:08:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:08:48 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:09:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:09:44 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:09:44 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:09:44 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:09:44 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:09:44 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:09:44 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:09:44 - __main__ - INFO - Results table created/verified
2025-08-02 07:09:44 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:09:44 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:09:44 - __main__ - INFO - User progress table created/verified
2025-08-02 07:09:44 - __main__ - INFO - User settings table created/verified
2025-08-02 07:09:44 - __main__ - INFO - Support requests table created/verified
2025-08-02 07:09:44 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:09:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:09:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:09:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:09:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:09:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:09:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:10:06 - api.routes.support - ERROR - Error creating support request: ??? Unknown Error: None
2025-08-02 07:10:22 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 07:10:22 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 07:10:31 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 07:10:31 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 07:10:36 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:10:36 - features.auth.authentication - WARNING - Authentication failed: invalid password for user admin
2025-08-02 07:10:44 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:10:44 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:10:44 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:10:48 - features.support.support_tickets - INFO - Creating support request for user admin with urgency medium
2025-08-02 07:10:48 - features.support.support_tickets - INFO - Successfully created support request 1 for user admin
2025-08-02 07:10:48 - api.routes.support - ERROR - Error creating support request: name 'request_data' is not defined
2025-08-02 07:11:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:11:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:11:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:11:06 - features.support.support_tickets - INFO - Creating support request for user admin with urgency medium
2025-08-02 07:11:06 - features.support.support_tickets - INFO - Successfully created support request 2 for user admin
2025-08-02 07:11:09 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-02 07:11:09 - features.support.feedback_management - ERROR - Error getting feedback list: select_rows() got an unexpected keyword argument 'offset'
2025-08-02 07:11:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:11:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:11:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:11:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:11:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:11:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:11:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:11:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:11:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:11:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:11:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:11:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:12:14 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:12:14 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:12:14 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:12:14 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:12:14 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:12:14 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:12:14 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:12:14 - __main__ - INFO - Results table created/verified
2025-08-02 07:12:14 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:12:14 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:12:14 - __main__ - INFO - User progress table created/verified
2025-08-02 07:12:14 - __main__ - INFO - User settings table created/verified
2025-08-02 07:12:14 - __main__ - INFO - Support requests table created/verified
2025-08-02 07:12:14 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:12:14 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:12:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:12:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:12:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:12:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:12:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:12:18 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-02 07:12:18 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-02 07:12:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:12:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:12:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:12:24 - features.support.system_support - INFO - Getting system status
2025-08-02 07:12:24 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-02 07:12:27 - features.support.system_support - INFO - Getting help content for topic 'getting_started' in en
2025-08-02 07:13:08 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 07:13:08 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 07:13:08 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:13:08 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:13:08 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:13:08 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:13:08 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:13:08 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:13:09 - api.routes.auth - ERROR - Error enabling 2FA: No module named 'qrcode'
2025-08-02 07:13:09 - api.routes.user - ERROR - Error getting vocabulary for user admin: get_user_vocabulary_entries() takes 1 positional argument but 5 were given
2025-08-02 07:13:09 - api.routes.user - ERROR - Error in vocab training for user admin: select_vocab_word_due_for_review() takes 1 positional argument but 3 were given
2025-08-02 07:13:09 - api.routes.profile - ERROR - Error getting learning statistics for user admin: get_user_profile_summary() takes 1 positional argument but 3 were given
2025-08-02 07:13:09 - api.routes.profile - ERROR - Error getting detailed statistics for user admin: get_user_statistics() takes 1 positional argument but 4 were given
2025-08-02 07:13:09 - api.routes.profile - ERROR - Error getting achievements for user admin: get_user_achievements() takes 1 positional argument but 5 were given
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:13:09 - api.routes.profile - ERROR - Error getting learning strengths for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 07:13:09 - api.routes.profile - ERROR - Error getting learning weaknesses for user admin: get_user_profile_summary() takes 1 positional argument but 4 were given
2025-08-02 07:13:09 - features.settings.user_settings - INFO - Getting settings for user admin
2025-08-02 07:13:09 - features.settings.user_settings - INFO - Getting account statistics for user admin
2025-08-02 07:13:09 - features.settings.user_settings - INFO - Generated account statistics for user admin
2025-08-02 07:13:09 - features.settings.user_settings - INFO - Retrieved settings for user admin
2025-08-02 07:13:09 - api.routes.settings - ERROR - Error getting learning settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:13:09 - api.routes.settings - ERROR - Error getting notification settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:13:09 - api.routes.settings - ERROR - Error getting privacy settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:13:09 - api.routes.settings - ERROR - Error getting account settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:13:09 - api.routes.settings - ERROR - Error exporting data for user admin: export_user_data() got an unexpected keyword argument 'format'
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress summary for user admin (last 365 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:13:09 - core.services.lesson_service - INFO - Getting lesson statistics for user admin
2025-08-02 07:13:09 - core.services.lesson_service - INFO - Retrieved lesson statistics for user admin: 0/0 lessons completed (0.0%)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:13:09 - core.services.progress_service - INFO - Tracking vocabulary progress for user admin, word test
2025-08-02 07:13:09 - core.services.progress_service - ERROR - Failed to track vocabulary progress for user admin, word test
2025-08-02 07:13:09 - core.services.progress_service - INFO - Resetting progress for user admin
2025-08-02 07:13:09 - core.services.progress_service - ERROR - Failed to reset progress for table lesson_progress
2025-08-02 07:13:09 - core.services.progress_service - ERROR - Failed to reset progress for table activity_progress
2025-08-02 07:13:09 - core.services.progress_service - ERROR - Failed to reset progress for table vocabulary_progress
2025-08-02 07:13:09 - core.services.progress_service - ERROR - Failed to reset progress for table game_progress
2025-08-02 07:13:09 - core.services.progress_service - ERROR - Failed to reset progress for user admin
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:13:09 - core.services.user_service - INFO - Retrieved level 0 for user admin
2025-08-02 07:13:09 - core.services.game_service - INFO - Using game level 0 for user admin
2025-08-02 07:13:09 - features.game.game_statistics - INFO - Getting game statistics for user 'admin'
2025-08-02 07:13:09 - features.game.game_statistics - INFO - Retrieved game statistics for user 'admin': 0 rounds, 0.0% accuracy
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:13:09 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:13:09 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:13:09 - api.routes.game - ERROR - Error getting performance analytics for user admin: name 'get_performance_analytics' is not defined
2025-08-02 07:13:09 - api.routes.ai.exercise - INFO - User admin submitting exercise block 1
2025-08-02 07:13:09 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 0 answers for user: admin
2025-08-02 07:13:09 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-02 07:13:09 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-02 07:13:09 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block 1
2025-08-02 07:13:09 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:13:09 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:13:09 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-02 07:13:09 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:13:09 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block 1
2025-08-02 07:13:09 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-02 07:13:09 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-02 07:13:09 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-02 07:13:09 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-02 07:13:09 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block 1
2025-08-02 07:13:09 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:13:09 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block 1
2025-08-02 07:13:09 - external.redis.client - ERROR - Redis get error for key feedback_progress:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:13:09 - api.routes.ai.feedback - INFO - User admin requesting AI feedback generation with progress
2025-08-02 07:13:09 - external.redis.client - ERROR - Redis get error for key feedback_result:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:13:09 - api.routes.ai.feedback - ERROR - Error getting AI feedback list: get_cached_feedback_list() takes 0 positional arguments but 4 were given
2025-08-02 07:13:09 - api.routes.ai.feedback - ERROR - Error getting AI feedback item: get_cached_feedback_item() takes 1 positional argument but 2 were given
2025-08-02 07:13:09 - api.routes.ai.feedback - INFO - User admin requesting immediate AI feedback generation
2025-08-02 07:13:09 - api.routes.ai.reading - INFO - User admin requesting reading exercise
2025-08-02 07:13:52 - api.routes.ai.reading - INFO - User admin submitting reading exercise
2025-08-02 07:13:52 - api.routes.ai.lesson - INFO - User admin requesting weakness lesson
2025-08-02 07:14:52 - api.routes.ai.lesson - ERROR - Failed to generate weakness lesson for user admin: Mistral API request timed out after 60 seconds
2025-08-02 07:14:52 - api.routes.ai.training - INFO - Training exercises request from user: admin
2025-08-02 07:14:52 - api.routes.ai.training - INFO - Training request data for user admin: answers_count=0
2025-08-02 07:14:52 - api.routes.ai.training - INFO - User admin has no answers, checking cached exercises
2025-08-02 07:14:52 - api.routes.ai.training - INFO - No cached next exercises for user admin, prefetching
2025-08-02 07:14:52 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: admin
2025-08-02 07:14:52 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: admin
2025-08-02 07:14:52 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 07:14:52 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 07:15:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: admin
2025-08-02 07:15:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: admin
2025-08-02 07:15:08 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: admin
2025-08-02 07:15:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 07:15:08 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: admin
2025-08-02 07:15:08 - api.routes.ai.training - INFO - Returning cached exercises for user admin
2025-08-02 07:15:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 07:15:08 - api.routes.ai.training - INFO - User admin submitting training exercise
2025-08-02 07:15:08 - api.routes.ai.tts - INFO - User admin requesting text-to-speech conversion
2025-08-02 07:15:08 - external.tts.service - INFO - TTS service request from user admin: 23 characters
2025-08-02 07:15:08 - external.tts.client - INFO - Successfully converted text to speech: 23 characters
2025-08-02 07:15:08 - external.tts.service - INFO - TTS conversion successful for user admin
2025-08-02 07:15:08 - api.routes.ai.tts - INFO - Successfully generated TTS audio for user admin
2025-08-02 07:15:11 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/JBFqnCBsd6RMkjVDRZzb?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-08-02 07:15:11 - features.translation.translation_jobs - INFO - Getting status for translation job 1
2025-08-02 07:15:11 - external.redis.client - ERROR - Redis get error for key translation_job:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:15:11 - features.translation.translation_jobs - WARNING - Translation job 1 not found
2025-08-02 07:15:11 - features.support.feedback_management - INFO - Submitting feedback from user admin
2025-08-02 07:15:11 - features.support.feedback_management - ERROR - Failed to submit feedback from user admin
2025-08-02 07:15:11 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-02 07:15:11 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-02 07:15:11 - features.support.support_tickets - INFO - Creating support request for user admin with urgency medium
2025-08-02 07:15:11 - features.support.support_tickets - INFO - Successfully created support request 3 for user admin
2025-08-02 07:15:11 - features.support.support_tickets - INFO - Getting support request 1
2025-08-02 07:15:11 - features.support.support_tickets - INFO - Retrieved support request 1
2025-08-02 07:15:11 - features.support.system_support - INFO - Getting system status
2025-08-02 07:15:11 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-02 07:15:11 - features.support.system_support - INFO - Getting help topics for language en
2025-08-02 07:15:11 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-02 07:15:11 - features.support.system_support - INFO - Getting help topics for language en
2025-08-02 07:15:11 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-02 07:15:12 - api.routes.debug - ERROR - Test exception raised: Test exception
2025-08-02 07:15:17 - features.auth.authentication - INFO - Attempting authentication for user invalid
2025-08-02 07:15:17 - features.auth.authentication - WARNING - Authentication failed: user invalid not found
2025-08-02 07:15:17 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 37 (char 36)
2025-08-02 07:15:25 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: admin
2025-08-02 07:15:25 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: admin
2025-08-02 07:15:25 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: admin
2025-08-02 07:15:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:15:37 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:15:37 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:15:37 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:15:37 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:15:37 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:15:37 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:15:37 - __main__ - INFO - Results table created/verified
2025-08-02 07:15:37 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:15:37 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:15:37 - __main__ - INFO - User progress table created/verified
2025-08-02 07:15:37 - __main__ - INFO - User settings table created/verified
2025-08-02 07:15:37 - __main__ - INFO - Support requests table created/verified
2025-08-02 07:15:37 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:15:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:15:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:15:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:15:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:15:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:15:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:16:22 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:16:22 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:16:22 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:16:55 - api.routes.user - ERROR - Error getting vocabulary for user admin: get_user_vocabulary_entries() takes 1 positional argument but 5 were given
2025-08-02 07:16:58 - api.routes.user - ERROR - Error getting vocabulary for user admin: get_user_vocabulary_entries() takes 1 positional argument but 5 were given
2025-08-02 07:17:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:17:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:17:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:17:39 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'admin'
2025-08-02 07:17:39 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'admin'
2025-08-02 07:17:43 - api.routes.user - ERROR - Error in vocab training for user admin: select_vocab_word_due_for_review() takes 1 positional argument but 3 were given
2025-08-02 07:18:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:18:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:18:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:18:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:18:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:18:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:18:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:18:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:18:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:18:48 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'admin'
2025-08-02 07:18:48 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'admin'
2025-08-02 07:19:21 - api.routes.profile - ERROR - Error getting learning statistics for user admin: get_user_profile_summary() takes 1 positional argument but 3 were given
2025-08-02 07:19:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:19:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:19:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:20:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:20:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:20:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:20:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:20:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:20:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:20:37 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 07:20:37 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 07:20:37 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 07:20:41 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 07:20:41 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 07:20:41 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 07:20:45 - api.routes.profile - ERROR - Error getting achievements for user admin: get_user_achievements() takes 1 positional argument but 5 were given
2025-08-02 07:21:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:21:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:21:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:21:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:21:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:21:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:21:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:21:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:21:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:21:36 - features.profile.profile_achievements - INFO - Getting achievements for user admin
2025-08-02 07:21:36 - features.profile.profile_achievements - ERROR - Error getting 10th game timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:21:36 - features.profile.profile_achievements - ERROR - Error getting vocabulary 10 timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:21:36 - features.profile.profile_achievements - ERROR - Error getting vocabulary 50 timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:21:36 - features.profile.profile_achievements - ERROR - Error getting 5th lesson timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:21:36 - features.profile.profile_achievements - INFO - Retrieved 0 achievements for user admin
2025-08-02 07:21:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:21:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:21:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:22:48 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-02 07:22:48 - features.auth.authentication - WARNING - Authentication failed: invalid password for user testuser
2025-08-02 07:22:48 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:22:48 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:22:48 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:22:48 - features.auth.authentication - INFO - Attempting authentication for user admin
2025-08-02 07:22:48 - core.session.session_manager - INFO - Created session for user admin
2025-08-02 07:22:48 - features.auth.authentication - INFO - Authentication successful for user admin
2025-08-02 07:22:48 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'admin'
2025-08-02 07:22:48 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'admin'
2025-08-02 07:22:48 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'admin'
2025-08-02 07:22:48 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'admin'
2025-08-02 07:22:48 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 07:22:48 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 07:22:48 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 07:22:48 - api.routes.profile - ERROR - Error getting detailed statistics for user admin: get_user_statistics() takes 1 positional argument but 4 were given
2025-08-02 07:22:48 - features.profile.profile_achievements - INFO - Getting achievements for user admin
2025-08-02 07:22:48 - features.profile.profile_achievements - ERROR - Error getting 10th game timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:22:48 - features.profile.profile_achievements - ERROR - Error getting vocabulary 10 timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:22:48 - features.profile.profile_achievements - ERROR - Error getting vocabulary 50 timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:22:48 - features.profile.profile_achievements - ERROR - Error getting 5th lesson timestamp for user admin: select_one() got an unexpected keyword argument 'limit'
2025-08-02 07:22:48 - features.profile.profile_achievements - INFO - Retrieved 0 achievements for user admin
2025-08-02 07:22:48 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:22:48 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:22:48 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:22:48 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:22:48 - api.routes.profile - ERROR - Error getting learning strengths for user admin: get_user_profile_summary() takes from 1 to 3 positional arguments but 4 were given
2025-08-02 07:22:48 - api.routes.profile - ERROR - Error getting learning weaknesses for user admin: get_user_profile_summary() takes from 1 to 3 positional arguments but 4 were given
2025-08-02 07:22:48 - features.settings.user_settings - INFO - Getting settings for user admin
2025-08-02 07:22:48 - features.settings.user_settings - INFO - Getting account statistics for user admin
2025-08-02 07:22:48 - features.settings.user_settings - INFO - Generated account statistics for user admin
2025-08-02 07:22:48 - features.settings.user_settings - INFO - Retrieved settings for user admin
2025-08-02 07:22:48 - api.routes.settings - ERROR - Error getting learning settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:22:48 - api.routes.settings - ERROR - Error getting notification settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:22:48 - api.routes.settings - ERROR - Error getting privacy settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:22:48 - api.routes.settings - ERROR - Error getting account settings for user admin: get_user_settings() takes 1 positional argument but 2 were given
2025-08-02 07:22:48 - api.routes.settings - ERROR - Error exporting data for user admin: export_user_data() got an unexpected keyword argument 'format'
2025-08-02 07:22:49 - core.services.progress_service - INFO - Getting progress summary for user admin (last 365 days)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:22:49 - core.services.lesson_service - INFO - Getting lesson statistics for user admin
2025-08-02 07:22:49 - core.services.lesson_service - INFO - Retrieved lesson statistics for user admin: 0/0 lessons completed (0.0%)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:22:49 - core.services.progress_service - INFO - Tracking vocabulary progress for user admin, word test
2025-08-02 07:22:49 - core.services.progress_service - ERROR - Failed to track vocabulary progress for user admin, word test
2025-08-02 07:22:49 - core.services.progress_service - INFO - Resetting progress for user admin
2025-08-02 07:22:49 - core.services.progress_service - ERROR - Failed to reset progress for table lesson_progress
2025-08-02 07:22:49 - core.services.progress_service - ERROR - Failed to reset progress for table activity_progress
2025-08-02 07:22:49 - core.services.progress_service - ERROR - Failed to reset progress for table vocabulary_progress
2025-08-02 07:22:49 - core.services.progress_service - ERROR - Failed to reset progress for table game_progress
2025-08-02 07:22:49 - core.services.progress_service - ERROR - Failed to reset progress for user admin
2025-08-02 07:22:49 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:22:49 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:22:49 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:22:49 - core.services.user_service - INFO - Retrieved level 0 for user admin
2025-08-02 07:22:49 - core.services.game_service - INFO - Using game level 0 for user admin
2025-08-02 07:22:49 - features.game.game_statistics - INFO - Getting game statistics for user 'admin'
2025-08-02 07:22:49 - features.game.game_statistics - INFO - Retrieved game statistics for user 'admin': 0 rounds, 0.0% accuracy
2025-08-02 07:22:49 - core.services.progress_service - INFO - Getting progress summary for user admin (last 30 days)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Generated progress summary for user admin: 0 activities, 0 day streak
2025-08-02 07:22:49 - core.services.progress_service - INFO - Getting progress trends for user admin (last 30 days)
2025-08-02 07:22:49 - core.services.progress_service - INFO - Generated progress trends for user admin: 0 total activities
2025-08-02 07:22:49 - api.routes.game - ERROR - Error getting performance analytics for user admin: name 'get_performance_analytics' is not defined
2025-08-02 07:22:49 - api.routes.ai.exercise - INFO - User admin submitting exercise block 1
2025-08-02 07:22:49 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 0 answers for user: admin
2025-08-02 07:22:49 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-02 07:22:49 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-02 07:22:49 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:22:49 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block 1
2025-08-02 07:22:49 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-02 07:22:49 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-02 07:22:49 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:22:49 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block 1
2025-08-02 07:22:49 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-02 07:22:49 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-02 07:22:49 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-02 07:22:49 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-02 07:22:49 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block 1
2025-08-02 07:22:49 - external.redis.client - ERROR - Redis setex error for key exercise_result:admin:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:22:49 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block 1
2025-08-02 07:22:49 - external.redis.client - ERROR - Redis get error for key feedback_progress:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:22:49 - api.routes.ai.feedback - INFO - User admin requesting AI feedback generation with progress
2025-08-02 07:22:49 - external.redis.client - ERROR - Redis get error for key feedback_result:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:22:49 - api.routes.ai.feedback - ERROR - Error getting AI feedback list: get_cached_feedback_list() takes 0 positional arguments but 4 were given
2025-08-02 07:22:49 - api.routes.ai.feedback - ERROR - Error getting AI feedback item: get_cached_feedback_item() takes 1 positional argument but 2 were given
2025-08-02 07:22:49 - api.routes.ai.feedback - INFO - User admin requesting immediate AI feedback generation
2025-08-02 07:22:49 - api.routes.ai.reading - INFO - User admin requesting reading exercise
2025-08-02 07:23:24 - api.routes.ai.reading - INFO - User admin submitting reading exercise
2025-08-02 07:23:24 - api.routes.ai.lesson - INFO - User admin requesting weakness lesson
2025-08-02 07:24:21 - api.routes.ai.lesson - INFO - Successfully generated weakness lesson for user admin
2025-08-02 07:24:21 - api.routes.ai.training - INFO - Training exercises request from user: admin
2025-08-02 07:24:21 - api.routes.ai.training - INFO - Training request data for user admin: answers_count=0
2025-08-02 07:24:21 - api.routes.ai.training - INFO - User admin has no answers, checking cached exercises
2025-08-02 07:24:21 - api.routes.ai.training - INFO - No cached next exercises for user admin, prefetching
2025-08-02 07:24:21 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: admin
2025-08-02 07:24:21 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: admin
2025-08-02 07:24:21 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 07:24:21 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 07:24:38 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: admin
2025-08-02 07:24:38 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: admin
2025-08-02 07:24:38 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: admin
2025-08-02 07:24:38 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: admin
2025-08-02 07:24:38 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: admin
2025-08-02 07:24:38 - api.routes.ai.training - INFO - Returning cached exercises for user admin
2025-08-02 07:24:38 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: admin
2025-08-02 07:24:38 - api.routes.ai.training - INFO - User admin submitting training exercise
2025-08-02 07:24:38 - api.routes.ai.tts - INFO - User admin requesting text-to-speech conversion
2025-08-02 07:24:38 - external.tts.service - INFO - TTS service request from user admin: 23 characters
2025-08-02 07:24:38 - external.tts.client - INFO - Successfully converted text to speech: 23 characters
2025-08-02 07:24:38 - external.tts.service - INFO - TTS conversion successful for user admin
2025-08-02 07:24:38 - api.routes.ai.tts - INFO - Successfully generated TTS audio for user admin
2025-08-02 07:24:39 - httpx - INFO - HTTP Request: POST https://api.elevenlabs.io/v1/text-to-speech/JBFqnCBsd6RMkjVDRZzb?output_format=mp3_44100_128 "HTTP/1.1 200 OK"
2025-08-02 07:24:40 - features.translation.translation_jobs - INFO - Getting status for translation job 1
2025-08-02 07:24:40 - external.redis.client - ERROR - Redis get error for key translation_job:1: Error 111 connecting to localhost:6379. Connection refused.
2025-08-02 07:24:40 - features.translation.translation_jobs - WARNING - Translation job 1 not found
2025-08-02 07:24:40 - features.support.feedback_management - INFO - Submitting feedback from user admin
2025-08-02 07:24:40 - features.support.feedback_management - ERROR - Failed to submit feedback from user admin
2025-08-02 07:24:40 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-02 07:24:40 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-02 07:24:40 - features.support.support_tickets - INFO - Creating support request for user admin with urgency medium
2025-08-02 07:24:40 - features.support.support_tickets - INFO - Successfully created support request 4 for user admin
2025-08-02 07:24:40 - features.support.support_tickets - INFO - Getting support request 1
2025-08-02 07:24:40 - features.support.support_tickets - INFO - Retrieved support request 1
2025-08-02 07:24:40 - features.support.system_support - INFO - Getting system status
2025-08-02 07:24:41 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-02 07:24:41 - features.support.system_support - INFO - Getting help topics for language en
2025-08-02 07:24:41 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-02 07:24:41 - features.support.system_support - INFO - Getting help topics for language en
2025-08-02 07:24:41 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-02 07:24:41 - api.routes.debug - ERROR - Test exception raised: Test exception
2025-08-02 07:24:46 - features.auth.authentication - INFO - Attempting authentication for user invalid
2025-08-02 07:24:46 - features.auth.authentication - WARNING - Authentication failed: user invalid not found
2025-08-02 07:24:46 - api.routes.auth - ERROR - Error in registration: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 37 (char 36)
2025-08-02 07:24:52 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: admin
2025-08-02 07:24:52 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: admin
2025-08-02 07:24:52 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: admin
2025-08-02 07:28:25 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-02 07:28:26 - core.session.session_manager - INFO - Created session for user test4
2025-08-02 07:28:26 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-02 07:28:34 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 07:28:34 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 07:28:34 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 07:28:34 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 07:28:34 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 07:28:34 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 07:28:34 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:28:34 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 07:28:51 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:28:51 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 07:28:51 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 07:28:51 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 07:28:51 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:28:51 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:29:05 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:29:05 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:29:05 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 07:29:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:29:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:29:08 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 07:29:08 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 07:29:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:29:08 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 07:29:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:29:15 - api.routes.ai.misc - INFO - User test4 asking AI question with context
2025-08-02 07:29:21 - api.routes.ai.misc - INFO - Successfully generated contextual AI answer for user test4
2025-08-02 07:29:21 - api.routes.ai.misc - INFO - Adding chat history for user test4
2025-08-02 07:29:21 - api.routes.ai.misc - INFO - Successfully added chat history for user test4
2025-08-02 07:29:22 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:29:22 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:29:22 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 07:31:10 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 07:31:10 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 07:31:10 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 07:31:10 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 07:31:10 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 07:31:10 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 07:31:10 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:31:10 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:31:24 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 07:31:24 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 07:31:24 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 07:31:24 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 07:31:24 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 07:31:24 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 07:31:24 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:31:24 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:31:29 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:31:29 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:31:29 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 07:31:29 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:31:29 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 07:31:29 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 07:31:29 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:31:34 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:31:34 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:31:34 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 07:31:34 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:31:34 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 07:31:34 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 07:31:34 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:31:46 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:31:46 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:31:46 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 07:31:48 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:31:48 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:31:48 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 07:31:57 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 07:31:57 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 07:31:57 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 07:31:57 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 07:31:57 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 07:31:57 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 07:31:57 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:31:57 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:32:13 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:32:13 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:32:13 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 07:32:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:32:13 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 07:32:13 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 07:32:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:33:15 - features.ai.generation.exercise_creation - ERROR - Error generating exercises for user test4: Mistral API request failed: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-08-02 07:33:15 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/http/client.py", line 1395, in getresponse
    response.begin()
  File "/usr/local/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/http/client.py", line 294, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/http/client.py", line 1395, in getresponse
    response.begin()
  File "/usr/local/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/http/client.py", line 294, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 86, in send_request
    response = requests.post(
               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 128, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 140, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 104, in send_request
    raise AIEvaluationError(f"Mistral API request failed: {str(e)}")
shared.exceptions.AIEvaluationError: Mistral API request failed: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

2025-08-02 07:33:15 - features.ai.generation.exercise_creation - WARNING - Failed to generate exercise block for user: test4
2025-08-02 07:33:15 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 07:35:28 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 07:35:28 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 07:35:28 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 07:35:28 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 07:35:28 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 07:35:28 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 07:35:28 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:35:28 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 07:35:53 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:35:53 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 07:35:53 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 07:35:53 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 07:35:53 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:35:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:36:04 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:36:04 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:36:04 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 07:36:04 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 07:36:04 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 07:36:04 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 07:36:04 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 07:36:10 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:36:10 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:36:10 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 07:36:18 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 07:36:18 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 07:36:18 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 07:43:41 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 07:43:41 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 07:43:41 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 07:45:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:45:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:45:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:45:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:45:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:45:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:45:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:45:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:45:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:46:10 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 07:46:10 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 07:46:10 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 07:46:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:46:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:46:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:47:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:47:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:47:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:50:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:50:04 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:50:04 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:50:04 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:50:04 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:50:04 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:50:04 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:50:04 - __main__ - INFO - Results table created/verified
2025-08-02 07:50:04 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:50:04 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:50:04 - __main__ - INFO - User progress table created/verified
2025-08-02 07:50:04 - __main__ - INFO - User settings table created/verified
2025-08-02 07:50:04 - __main__ - INFO - Support requests table created/verified
2025-08-02 07:50:04 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:50:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:50:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:50:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:50:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:50:32 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 07:50:32 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 07:50:32 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 07:50:32 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 07:50:32 - __main__ - INFO - Database directory: /app/database
2025-08-02 07:50:32 - __main__ - INFO - ✅ Database connection established
2025-08-02 07:50:32 - __main__ - INFO - Results table created/verified
2025-08-02 07:50:32 - __main__ - INFO - Topic memory table created/verified
2025-08-02 07:50:32 - __main__ - INFO - Sessions table created/verified
2025-08-02 07:50:32 - __main__ - INFO - User progress table created/verified
2025-08-02 07:50:32 - __main__ - INFO - User settings table created/verified
2025-08-02 07:50:32 - __main__ - INFO - Support requests table created/verified
2025-08-02 07:50:32 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 07:50:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:50:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:50:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:50:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:50:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:50:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:50:40 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 07:50:40 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 07:50:40 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 07:51:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:51:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:51:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 07:52:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 07:52:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 07:52:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:04:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:04:06 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:04:06 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:04:06 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:04:06 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:04:06 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:04:06 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:04:06 - __main__ - INFO - Results table created/verified
2025-08-02 08:04:06 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:04:06 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:04:06 - __main__ - INFO - User progress table created/verified
2025-08-02 08:04:06 - __main__ - INFO - User settings table created/verified
2025-08-02 08:04:06 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:04:06 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:04:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:04:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:04:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:04:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:04:23 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:04:23 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:04:23 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:04:23 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:04:23 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:04:23 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:04:23 - __main__ - INFO - Results table created/verified
2025-08-02 08:04:23 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:04:23 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:04:23 - __main__ - INFO - User progress table created/verified
2025-08-02 08:04:23 - __main__ - INFO - User settings table created/verified
2025-08-02 08:04:23 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:04:23 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:04:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:04:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:04:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:04:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:04:57 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:04:57 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:04:57 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:04:57 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:04:57 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:04:57 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:04:57 - __main__ - INFO - Results table created/verified
2025-08-02 08:04:57 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:04:57 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:04:57 - __main__ - INFO - User progress table created/verified
2025-08-02 08:04:57 - __main__ - INFO - User settings table created/verified
2025-08-02 08:04:57 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:04:57 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:04:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:04:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:04:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:05:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:05:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:05:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:05:05 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:05:05 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:05:05 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:05:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:05:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:05:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:06:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:06:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:06:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:08:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:08:12 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:08:12 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:08:12 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:08:12 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:08:12 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:08:12 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:08:12 - __main__ - INFO - Results table created/verified
2025-08-02 08:08:12 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:08:12 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:08:12 - __main__ - INFO - User progress table created/verified
2025-08-02 08:08:12 - __main__ - INFO - User settings table created/verified
2025-08-02 08:08:12 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:08:12 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:08:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:08:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:08:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:08:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:08:39 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:08:39 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:08:39 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:08:39 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:08:39 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:08:39 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:08:39 - __main__ - INFO - Results table created/verified
2025-08-02 08:08:39 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:08:39 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:08:39 - __main__ - INFO - User progress table created/verified
2025-08-02 08:08:39 - __main__ - INFO - User settings table created/verified
2025-08-02 08:08:39 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:08:39 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:08:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:08:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:08:40 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:09:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:09:03 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:09:03 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:09:03 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:09:03 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:09:03 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:09:03 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:09:03 - __main__ - INFO - Results table created/verified
2025-08-02 08:09:03 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:09:03 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:09:03 - __main__ - INFO - User progress table created/verified
2025-08-02 08:09:03 - __main__ - INFO - User settings table created/verified
2025-08-02 08:09:03 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:09:03 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:09:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:09:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:09:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:09:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:09:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:09:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:09:11 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:09:11 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:09:11 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:09:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:09:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:09:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:10:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:10:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:10:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:10:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:10:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:10:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:10:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:10:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:10:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:10:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:10:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:10:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:14:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:14:24 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:14:24 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:14:24 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:14:24 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:14:24 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:14:24 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:14:24 - __main__ - INFO - Results table created/verified
2025-08-02 08:14:24 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:14:24 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:14:24 - __main__ - INFO - User progress table created/verified
2025-08-02 08:14:24 - __main__ - INFO - User settings table created/verified
2025-08-02 08:14:24 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:14:24 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:14:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:14:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:14:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:14:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:14:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:14:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:14:33 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:14:33 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:14:33 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:14:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:14:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:14:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:15:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:15:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:15:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:15:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:15:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:15:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:16:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:16:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:16:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:17:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:17:28 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:17:28 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:17:28 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:17:28 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:17:28 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:17:28 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:17:28 - __main__ - INFO - Results table created/verified
2025-08-02 08:17:28 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:17:28 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:17:28 - __main__ - INFO - User progress table created/verified
2025-08-02 08:17:28 - __main__ - INFO - User settings table created/verified
2025-08-02 08:17:28 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:17:28 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:17:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:17:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:17:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:19 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:20:19 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:20:19 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:20:19 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:20:19 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:20:19 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:20:19 - __main__ - INFO - Results table created/verified
2025-08-02 08:20:19 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:20:19 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:20:19 - __main__ - INFO - User progress table created/verified
2025-08-02 08:20:19 - __main__ - INFO - User settings table created/verified
2025-08-02 08:20:19 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:20:19 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:20:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:30 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:20:30 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:20:30 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:20:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:48 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:20:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:20:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:20:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:42 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:21:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:21:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:21:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:22:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:22:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:22:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:24:06 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:24:06 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:24:06 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:27:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:31:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:31:17 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:31:17 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:31:17 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:31:17 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:31:17 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:31:17 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:31:17 - __main__ - INFO - Results table created/verified
2025-08-02 08:31:17 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:31:17 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:31:17 - __main__ - INFO - User progress table created/verified
2025-08-02 08:31:17 - __main__ - INFO - User settings table created/verified
2025-08-02 08:31:17 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:31:17 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:31:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:31:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:31:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:31:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:31:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:31:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:31:32 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:31:32 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:31:32 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:33:38 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:33:38 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:33:38 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:33:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:33:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:33:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:36:43 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:36:43 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:36:43 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:36:45 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:36:45 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:36:45 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:44:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:44:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:44:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:47:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:47:22 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:47:22 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:47:22 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:47:22 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:47:22 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:47:22 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:47:22 - __main__ - INFO - Results table created/verified
2025-08-02 08:47:22 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:47:22 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:47:22 - __main__ - INFO - User progress table created/verified
2025-08-02 08:47:22 - __main__ - INFO - User settings table created/verified
2025-08-02 08:47:22 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:47:22 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:47:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:47:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:47:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:47:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:47:42 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:47:42 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:47:42 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:47:42 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:47:42 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:47:42 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:47:42 - __main__ - INFO - Results table created/verified
2025-08-02 08:47:42 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:47:42 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:47:42 - __main__ - INFO - User progress table created/verified
2025-08-02 08:47:42 - __main__ - INFO - User settings table created/verified
2025-08-02 08:47:42 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:47:42 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:47:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:47:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:47:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:48:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:48:47 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:48:47 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:48:47 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:48:47 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:48:47 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:48:47 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:48:47 - __main__ - INFO - Results table created/verified
2025-08-02 08:48:47 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:48:47 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:48:47 - __main__ - INFO - User progress table created/verified
2025-08-02 08:48:47 - __main__ - INFO - User settings table created/verified
2025-08-02 08:48:47 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:48:47 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:48:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:48:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:48:48 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:48:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:48:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:48:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:48:56 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:48:56 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:48:56 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:49:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:49:09 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:49:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:50:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:54:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:54:30 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 08:54:30 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 08:54:30 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 08:54:30 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 08:54:30 - __main__ - INFO - Database directory: /app/database
2025-08-02 08:54:30 - __main__ - INFO - ✅ Database connection established
2025-08-02 08:54:30 - __main__ - INFO - Results table created/verified
2025-08-02 08:54:30 - __main__ - INFO - Topic memory table created/verified
2025-08-02 08:54:30 - __main__ - INFO - Sessions table created/verified
2025-08-02 08:54:30 - __main__ - INFO - User progress table created/verified
2025-08-02 08:54:30 - __main__ - INFO - User settings table created/verified
2025-08-02 08:54:30 - __main__ - INFO - Support requests table created/verified
2025-08-02 08:54:30 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 08:54:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:54:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:54:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:54:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:54:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:54:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:54:39 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:54:39 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:54:39 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:54:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:54:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:54:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:55:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:55:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:55:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:55:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:55:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:55:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:56:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:56:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:56:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:56:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:56:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:56:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:56:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:56:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:56:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:56:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:56:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:56:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:56:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:56:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:56:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:57:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:57:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:57:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:57:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:57:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:57:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:57:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:57:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:57:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 08:57:33 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 08:57:33 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 08:57:33 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 08:57:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 08:57:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 08:57:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:03:37 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 09:03:37 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 09:03:37 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 09:03:37 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 09:03:37 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 09:03:37 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 09:03:37 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 09:03:37 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 09:03:52 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 09:03:52 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 09:03:52 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 09:03:52 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 09:03:52 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 09:03:52 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 09:04:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:04:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:04:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:04:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:04:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:04:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:04:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:04:42 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:04:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:04:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:04:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:04:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:05:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:05:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:05:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:05:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:05:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:05:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:05:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:05:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:05:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:05:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:05:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:05:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:06:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:06:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:06:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:06:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:06:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:06:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:06:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:06:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:06:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:06:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:06:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:06:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:07:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:07:09 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:07:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:07:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:07:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:07:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:07:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:07:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:07:35 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:07:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:07:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:07:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:07:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:07:56 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:07:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:08:03 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 09:08:03 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 09:08:03 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 09:08:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:08:18 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:08:18 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:08:18 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:08:18 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:08:18 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:08:18 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:08:18 - __main__ - INFO - Results table created/verified
2025-08-02 09:08:18 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:08:18 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:08:18 - __main__ - INFO - User progress table created/verified
2025-08-02 09:08:18 - __main__ - INFO - User settings table created/verified
2025-08-02 09:08:18 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:08:18 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:08:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:08:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:08:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:08:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:08:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:08:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:08:26 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 09:08:26 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 09:08:26 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 09:08:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:08:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:08:40 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:09:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:09:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:09:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:09:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:09:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:09:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:09:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:09:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:09:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:10:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:10:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:10:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:10:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:10:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:10:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:10:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:10:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:10:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:10:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:10:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:10:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:10:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:10:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:10:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:11:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:11:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:11:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:11:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:11:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:11:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:12:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:12:49 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:12:49 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:12:49 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:12:49 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:12:49 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:12:49 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:12:49 - __main__ - INFO - Results table created/verified
2025-08-02 09:12:49 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:12:49 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:12:49 - __main__ - INFO - User progress table created/verified
2025-08-02 09:12:49 - __main__ - INFO - User settings table created/verified
2025-08-02 09:12:49 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:12:49 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:12:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:12:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:12:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:13:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:13:25 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:13:25 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:13:25 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:13:25 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:13:25 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:13:25 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:13:25 - __main__ - INFO - Results table created/verified
2025-08-02 09:13:25 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:13:25 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:13:25 - __main__ - INFO - User progress table created/verified
2025-08-02 09:13:25 - __main__ - INFO - User settings table created/verified
2025-08-02 09:13:25 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:13:25 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:13:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:13:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:13:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:13:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:13:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:13:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:13:34 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 09:13:34 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 09:13:34 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 09:13:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:13:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:13:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:15:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:15:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:15:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:18:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:18:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:18:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:18:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:18:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:18:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:18:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:18:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:18:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:19:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:19:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:19:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:19:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:19:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:19:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:19:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:19:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:19:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:19:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:19:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:19:40 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:20:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:20:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:20:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:22:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:22:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:22:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:22:35 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:22:35 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:22:35 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:22:35 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:22:35 - __main__ - INFO - Results table created/verified
2025-08-02 09:22:35 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:22:35 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:22:35 - __main__ - INFO - User progress table created/verified
2025-08-02 09:22:35 - __main__ - INFO - User settings table created/verified
2025-08-02 09:22:35 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:22:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:22:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:22:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:22:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:22:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:22:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:22:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:22:43 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 09:22:43 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 09:22:43 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 09:22:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:22:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:22:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:23:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:23:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:23:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:23:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:23:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:23:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:23:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:23:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:23:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:23:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:23:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:23:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:24:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:24:07 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:24:07 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:24:07 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:24:07 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:24:07 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:24:07 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:24:07 - __main__ - INFO - Results table created/verified
2025-08-02 09:24:07 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:24:07 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:24:07 - __main__ - INFO - User progress table created/verified
2025-08-02 09:24:07 - __main__ - INFO - User settings table created/verified
2025-08-02 09:24:07 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:24:07 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:24:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:24:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:24:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:24:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:24:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:24:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:24:15 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 09:24:15 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 09:24:15 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 09:24:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:24:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:24:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:24:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:24:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:24:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:24:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:24:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:25:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:25:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:25:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:25:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:25:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:25:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:25:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:25:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:25:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:26:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:26:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:26:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:26:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:26:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:26:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:26:40 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:26:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:26:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:26:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:27:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:27:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:27:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:27:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:27:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:27:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:27:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:27:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:27:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:27:50 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 09:27:50 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 09:27:50 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 09:27:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:27:51 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:27:51 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:27:51 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:27:51 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:27:51 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:27:51 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:27:51 - __main__ - INFO - Results table created/verified
2025-08-02 09:27:51 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:27:51 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:27:51 - __main__ - INFO - User progress table created/verified
2025-08-02 09:27:51 - __main__ - INFO - User settings table created/verified
2025-08-02 09:27:51 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:27:51 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:27:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:27:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:27:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:27:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:27:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:27:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:28:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:28:31 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:28:31 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:28:31 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:28:31 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:28:31 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:28:31 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:28:31 - __main__ - INFO - Results table created/verified
2025-08-02 09:28:31 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:28:31 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:28:31 - __main__ - INFO - User progress table created/verified
2025-08-02 09:28:31 - __main__ - INFO - User settings table created/verified
2025-08-02 09:28:31 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:28:31 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:28:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:28:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:28:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:28:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:28:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:28:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:28:33 - features.profile.profile_summary - INFO - Getting profile summary for user admin
2025-08-02 09:28:33 - core.services.user_service - INFO - Retrieved statistics for user admin: level 1
2025-08-02 09:28:33 - features.profile.profile_summary - INFO - Retrieved profile summary for user admin: skill level 1
2025-08-02 09:28:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:28:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:28:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:31:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:31:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:31:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:34:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:34:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:34:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:34:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:34:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:34:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:34:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:34:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:34:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:34:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:34:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:34:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:35:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:35:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:35:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:35:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:35:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:35:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:35:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:35:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:35:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:35:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:35:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:35:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:35:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:35:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:35:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:36:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:36:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:36:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:36:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:36:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:36:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:36:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:36:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:36:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:36:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:36:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:36:35 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:36:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:36:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:36:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:36:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:36:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:36:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:37:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:37:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:37:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:37:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:37:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:37:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:38:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:38:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:38:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:38:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:38:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:38:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:38:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:38:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:38:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:38:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:38:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:38:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:39:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:39:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:39:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:39:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:39:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:39:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:39:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:39:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:39:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:40:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:40:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:40:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:42:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:42:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:42:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:42:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:42:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:42:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:42:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:42:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:42:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:42:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:42:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:42:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:43:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:43:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:43:03 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:43:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:43:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:43:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:43:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:43:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:43:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:43:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:43:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:43:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:43:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:43:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:43:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:43:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:43:56 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:43:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:44:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:44:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:44:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:44:14 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:44:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:44:15 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:44:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:44:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:44:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:44:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:44:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:44:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:46:35 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 09:46:35 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 09:46:35 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 09:46:35 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 09:46:35 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 09:46:35 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 09:46:35 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 09:46:35 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 09:46:50 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 09:46:50 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 09:46:50 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 09:46:50 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 09:46:50 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 09:46:50 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 09:47:04 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 09:47:04 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 09:47:04 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 09:47:04 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 09:47:04 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 09:47:04 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 09:47:04 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 09:47:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 09:47:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 09:47:08 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 09:47:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:47:18 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 09:47:18 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 09:47:18 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 09:47:18 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 09:47:18 - __main__ - INFO - Database directory: /app/database
2025-08-02 09:47:18 - __main__ - INFO - ✅ Database connection established
2025-08-02 09:47:18 - __main__ - INFO - Results table created/verified
2025-08-02 09:47:18 - __main__ - INFO - Topic memory table created/verified
2025-08-02 09:47:18 - __main__ - INFO - Sessions table created/verified
2025-08-02 09:47:18 - __main__ - INFO - User progress table created/verified
2025-08-02 09:47:18 - __main__ - INFO - User settings table created/verified
2025-08-02 09:47:18 - __main__ - INFO - Support requests table created/verified
2025-08-02 09:47:18 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 09:47:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:47:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:47:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 09:47:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 09:47:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 09:47:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:35:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:35:55 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:35:55 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:35:55 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:35:55 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:35:55 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:35:55 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:35:55 - __main__ - INFO - Results table created/verified
2025-08-02 19:35:55 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:35:55 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:35:55 - __main__ - INFO - User progress table created/verified
2025-08-02 19:35:55 - __main__ - INFO - User settings table created/verified
2025-08-02 19:35:55 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:35:55 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:35:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:35:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:35:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:37:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:37:30 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:37:30 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:37:30 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:37:30 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:37:30 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:37:30 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:37:30 - __main__ - INFO - Results table created/verified
2025-08-02 19:37:30 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:37:30 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:37:30 - __main__ - INFO - User progress table created/verified
2025-08-02 19:37:30 - __main__ - INFO - User settings table created/verified
2025-08-02 19:37:30 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:37:30 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:37:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:37:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:37:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:38:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:38:30 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:38:30 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:38:30 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:38:30 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:38:30 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:38:30 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:38:30 - __main__ - INFO - Results table created/verified
2025-08-02 19:38:30 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:38:30 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:38:30 - __main__ - INFO - User progress table created/verified
2025-08-02 19:38:30 - __main__ - INFO - User settings table created/verified
2025-08-02 19:38:30 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:38:30 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:38:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:38:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:38:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:38:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:38:47 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:38:47 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:38:47 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:38:47 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:38:47 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:38:47 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:38:47 - __main__ - INFO - Results table created/verified
2025-08-02 19:38:47 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:38:47 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:38:47 - __main__ - INFO - User progress table created/verified
2025-08-02 19:38:47 - __main__ - INFO - User settings table created/verified
2025-08-02 19:38:47 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:38:47 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:38:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:38:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:38:48 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:39:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:39:28 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:39:28 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:39:28 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:39:28 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:39:28 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:39:28 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:39:28 - __main__ - INFO - Results table created/verified
2025-08-02 19:39:28 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:39:28 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:39:28 - __main__ - INFO - User progress table created/verified
2025-08-02 19:39:28 - __main__ - INFO - User settings table created/verified
2025-08-02 19:39:28 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:39:28 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:39:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:39:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:39:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:39:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:39:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:39:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:39:48 - features.support.system_support - INFO - Getting system status
2025-08-02 19:39:49 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-02 19:39:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:39:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:39:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:40:33 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-02 19:40:33 - core.session.session_manager - INFO - Created session for user test4
2025-08-02 19:40:33 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-02 19:40:49 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:40:49 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:40:49 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:40:49 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:40:49 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:40:49 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:40:49 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:40:49 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:40:56 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:40:56 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:40:56 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:40:56 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:40:56 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:40:56 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:40:56 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:40:57 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:40:57 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:40:57 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:40:57 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:40:57 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:40:57 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:40:57 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:40:57 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:41:03 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:41:03 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:41:09 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:41:09 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:41:09 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:41:15 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-02 19:41:16 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:41:16 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-02 19:41:16 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-02 19:41:16 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-02 19:41:16 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:41:16 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:41:16 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:41:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:41:23 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-02 19:41:23 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-02 19:41:23 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:41:23 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:41:29 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:41:29 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:41:29 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:41:30 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:41:31 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:41:31 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:42:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:42:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:42:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:42:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:42:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:42:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:42:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:42:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:42:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:42:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:42:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:42:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:42:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:42:58 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:42:58 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:42:58 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:42:58 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:42:58 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:42:58 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:42:58 - __main__ - INFO - Results table created/verified
2025-08-02 19:42:58 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:42:58 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:42:58 - __main__ - INFO - User progress table created/verified
2025-08-02 19:42:58 - __main__ - INFO - User settings table created/verified
2025-08-02 19:42:58 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:42:58 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:42:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:42:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:42:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:42:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:42:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:43:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:43:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:43:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:43:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:43:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:43:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:43:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:44:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:44:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:44:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:44:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:44:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:44:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:44:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:44:43 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:44:43 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:44:43 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:44:43 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:44:43 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:44:43 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:44:43 - __main__ - INFO - Results table created/verified
2025-08-02 19:44:43 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:44:43 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:44:43 - __main__ - INFO - User progress table created/verified
2025-08-02 19:44:43 - __main__ - INFO - User settings table created/verified
2025-08-02 19:44:43 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:44:43 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:44:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:44:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:44:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:44:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:44:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:44:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:45:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:45:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:45:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:45:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:45:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:45:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:45:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:45:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:45:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:45:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:45:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:45:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:46:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:46:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:46:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:46:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:46:18 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:46:18 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:46:18 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:46:18 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:46:18 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:46:18 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:46:18 - __main__ - INFO - Results table created/verified
2025-08-02 19:46:18 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:46:18 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:46:18 - __main__ - INFO - User progress table created/verified
2025-08-02 19:46:18 - __main__ - INFO - User settings table created/verified
2025-08-02 19:46:18 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:46:18 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:46:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:46:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:46:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:46:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:46:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:46:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:46:30 - api.routes.ai.feedback - ERROR - Error getting block feedback: ??? Unknown Error: None
2025-08-02 19:46:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:46:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:46:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:46:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:46:56 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:46:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:47:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:47:19 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:47:19 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:47:19 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:47:19 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:47:19 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:47:19 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:47:19 - __main__ - INFO - Results table created/verified
2025-08-02 19:47:19 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:47:19 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:47:19 - __main__ - INFO - User progress table created/verified
2025-08-02 19:47:19 - __main__ - INFO - User settings table created/verified
2025-08-02 19:47:19 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:47:19 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:47:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:47:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:47:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:47:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:47:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:47:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:47:21 - api.routes.ai.feedback - ERROR - Error getting block feedback: ??? Unknown Error: None
2025-08-02 19:47:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:47:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:47:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:47:35 - features.support.system_support - INFO - Getting system status
2025-08-02 19:47:36 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-02 19:48:01 - api.routes.ai.feedback - ERROR - Error getting block feedback: ??? Unknown Error: None
2025-08-02 19:48:01 - api.routes.ai.feedback - ERROR - Full traceback: Traceback (most recent call last):
  File "/app/src/api/routes/ai/feedback.py", line 412, in get_block_feedback_route
    username = require_user()
               ^^^^^^^^^^^^^^
  File "/app/src/api/middleware/auth.py", line 58, in require_user
    abort(make_response(jsonify({"msg": "Unauthorized"}), 401))
  File "/usr/local/lib/python3.11/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/werkzeug/exceptions.py", line 871, in __call__
    raise HTTPException(response=code)
werkzeug.exceptions.HTTPException: ??? Unknown Error: None

2025-08-02 19:48:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:48:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:48:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:48:20 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:48:20 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:48:20 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:48:20 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:48:20 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:48:20 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:48:20 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:48:20 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:48:26 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:48:26 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:48:26 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:48:26 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:48:26 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:48:26 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:48:26 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:48:27 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:48:27 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:48:27 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:48:27 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:48:27 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:48:27 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:48:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:48:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:48:33 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:48:33 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:48:33 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:48:33 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:48:33 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:48:33 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:48:33 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:48:33 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-02 19:48:35 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:48:35 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-02 19:48:35 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-02 19:48:35 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-02 19:48:35 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:48:35 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:48:35 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:48:35 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:48:39 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:48:39 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:48:39 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:48:40 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:48:40 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:48:40 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:48:43 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-02 19:48:43 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:48:43 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:48:43 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:48:50 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:48:50 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:48:50 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:48:50 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:48:50 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:48:50 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:49:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:49:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:49:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:49:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:49:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:49:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:49:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:49:52 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:49:52 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:49:52 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:49:52 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:49:52 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:49:52 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:49:52 - __main__ - INFO - Results table created/verified
2025-08-02 19:49:52 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:49:52 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:49:52 - __main__ - INFO - User progress table created/verified
2025-08-02 19:49:52 - __main__ - INFO - User settings table created/verified
2025-08-02 19:49:52 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:49:52 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:49:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:49:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:49:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:49:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:49:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:49:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:50:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:50:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:50:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:50:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:50:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:50:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:50:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:50:49 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:50:49 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:50:49 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:50:49 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:50:49 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:50:49 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:50:49 - __main__ - INFO - Results table created/verified
2025-08-02 19:50:49 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:50:49 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:50:49 - __main__ - INFO - User progress table created/verified
2025-08-02 19:50:49 - __main__ - INFO - User settings table created/verified
2025-08-02 19:50:49 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:50:49 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:50:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:50:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:50:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:50:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:50:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:50:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:51:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:51:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:51:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:51:26 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:51:26 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:51:26 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:51:26 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:51:26 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:51:26 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:51:26 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:51:26 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:51:33 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:51:33 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:51:33 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:51:33 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:51:33 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:51:33 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:51:40 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:51:40 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:51:40 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:51:44 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:51:44 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:51:44 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:51:44 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:51:44 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:51:44 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:51:44 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:51:50 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-02 19:51:52 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:51:52 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-02 19:51:52 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-02 19:51:52 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-02 19:51:52 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:51:52 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:51:52 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:51:52 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:51:58 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-02 19:51:58 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-02 19:51:58 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:51:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:52:05 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:52:05 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:52:05 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:52:05 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:52:05 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:52:05 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:52:09 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:52:09 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:52:09 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:53:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:53:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:53:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:53:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:53:40 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:53:40 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:53:40 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:53:40 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:53:40 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:53:40 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:53:40 - __main__ - INFO - Results table created/verified
2025-08-02 19:53:40 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:53:40 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:53:40 - __main__ - INFO - User progress table created/verified
2025-08-02 19:53:40 - __main__ - INFO - User settings table created/verified
2025-08-02 19:53:40 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:53:40 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:53:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:53:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:53:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:53:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:53:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:53:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:53:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:53:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:53:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:54:26 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:54:26 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:54:26 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:54:26 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:54:26 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:54:26 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:54:26 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:54:26 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:54:32 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:54:32 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:54:32 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:54:32 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:54:32 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:54:32 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:54:39 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:54:39 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:54:39 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:54:40 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:54:40 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:54:40 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:54:40 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:54:40 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:54:40 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:54:40 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:54:47 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-02 19:54:48 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:54:48 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-02 19:54:48 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-02 19:54:48 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-02 19:54:48 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:54:48 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:54:48 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:54:48 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:54:55 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-02 19:54:55 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-02 19:54:55 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:54:55 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:55:00 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:55:00 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:55:00 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:55:02 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:55:02 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:55:02 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:55:03 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:55:03 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:55:03 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:55:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:55:21 - __main__ - INFO - 🔄 Starting database migration...
2025-08-02 19:55:21 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-02 19:55:21 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-02 19:55:21 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-02 19:55:21 - __main__ - INFO - Database directory: /app/database
2025-08-02 19:55:21 - __main__ - INFO - ✅ Database connection established
2025-08-02 19:55:21 - __main__ - INFO - Results table created/verified
2025-08-02 19:55:21 - __main__ - INFO - Topic memory table created/verified
2025-08-02 19:55:21 - __main__ - INFO - Sessions table created/verified
2025-08-02 19:55:21 - __main__ - INFO - User progress table created/verified
2025-08-02 19:55:21 - __main__ - INFO - User settings table created/verified
2025-08-02 19:55:21 - __main__ - INFO - Support requests table created/verified
2025-08-02 19:55:21 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-02 19:55:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:55:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:55:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:55:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:55:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:55:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-02 19:55:31 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:55:31 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:55:31 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:55:31 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:55:31 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:55:31 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:55:31 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:55:31 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:55:37 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:55:37 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-02 19:55:37 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-02 19:55:37 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-02 19:55:37 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:55:37 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:55:39 - api.routes.ai.misc - INFO - User test4 asking AI question with context
2025-08-02 19:55:44 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:55:44 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:55:44 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:55:49 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:55:49 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:55:49 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-02 19:55:49 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-02 19:55:49 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-02 19:55:49 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-02 19:55:49 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-02 19:55:53 - api.routes.ai.misc - INFO - Successfully generated contextual AI answer for user test4
2025-08-02 19:55:54 - api.routes.ai.misc - INFO - Adding chat history for user test4
2025-08-02 19:55:54 - api.routes.ai.misc - INFO - Successfully added chat history for user test4
2025-08-02 19:55:58 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-02 19:55:58 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-02 19:55:58 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-02 19:57:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-02 19:57:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-02 19:57:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 15:18:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 15:18:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 15:18:03 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 15:20:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 15:20:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 15:20:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 15:20:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 15:20:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 15:20:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 15:20:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 15:20:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 15:20:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 15:22:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 15:22:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 15:22:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 15:49:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 15:49:25 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 15:49:25 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 15:49:25 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 15:49:25 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 15:49:25 - __main__ - INFO - Database directory: /app/database
2025-08-03 15:49:25 - __main__ - INFO - ✅ Database connection established
2025-08-03 15:49:25 - __main__ - INFO - Results table created/verified
2025-08-03 15:49:25 - __main__ - INFO - Topic memory table created/verified
2025-08-03 15:49:25 - __main__ - INFO - Sessions table created/verified
2025-08-03 15:49:25 - __main__ - INFO - User progress table created/verified
2025-08-03 15:49:25 - __main__ - INFO - User settings table created/verified
2025-08-03 15:49:25 - __main__ - INFO - Support requests table created/verified
2025-08-03 15:49:25 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 15:49:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 15:49:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 15:49:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:05:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:05:39 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:05:39 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:05:39 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:05:39 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:05:39 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:05:39 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:05:39 - __main__ - INFO - Results table created/verified
2025-08-03 16:05:39 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:05:39 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:05:39 - __main__ - INFO - User progress table created/verified
2025-08-03 16:05:39 - __main__ - INFO - User settings table created/verified
2025-08-03 16:05:39 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:05:39 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:05:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:08:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:08:32 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:08:32 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:08:32 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:08:32 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:08:32 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:08:32 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:08:32 - __main__ - INFO - Results table created/verified
2025-08-03 16:08:32 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:08:32 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:08:32 - __main__ - INFO - User progress table created/verified
2025-08-03 16:08:32 - __main__ - INFO - User settings table created/verified
2025-08-03 16:08:32 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:08:32 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:08:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:09:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:09:32 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:09:32 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:09:32 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:09:32 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:09:32 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:09:32 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:09:32 - __main__ - INFO - Results table created/verified
2025-08-03 16:09:32 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:09:32 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:09:32 - __main__ - INFO - User progress table created/verified
2025-08-03 16:09:32 - __main__ - INFO - User settings table created/verified
2025-08-03 16:09:32 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:09:32 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:09:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:09:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:09:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:10:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:10:12 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:10:12 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:10:12 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:10:12 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:10:12 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:10:12 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:10:12 - __main__ - INFO - Results table created/verified
2025-08-03 16:10:12 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:10:12 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:10:12 - __main__ - INFO - User progress table created/verified
2025-08-03 16:10:12 - __main__ - INFO - User settings table created/verified
2025-08-03 16:10:12 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:10:12 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:10:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:10:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:10:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:10:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:10:44 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:10:44 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:10:44 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:10:44 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:10:44 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:10:45 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:10:45 - __main__ - INFO - Results table created/verified
2025-08-03 16:10:45 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:10:45 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:10:45 - __main__ - INFO - User progress table created/verified
2025-08-03 16:10:45 - __main__ - INFO - User settings table created/verified
2025-08-03 16:10:45 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:10:45 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:10:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:10:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:10:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:11:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:11:36 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:11:36 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:11:36 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:11:36 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:11:36 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:11:36 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:11:36 - __main__ - INFO - Results table created/verified
2025-08-03 16:11:36 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:11:36 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:11:36 - __main__ - INFO - User progress table created/verified
2025-08-03 16:11:36 - __main__ - INFO - User settings table created/verified
2025-08-03 16:11:36 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:11:36 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:11:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:11:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:11:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:15:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:15:26 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:15:26 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:15:26 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:15:26 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:15:26 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:15:26 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:15:26 - __main__ - INFO - Results table created/verified
2025-08-03 16:15:26 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:15:26 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:15:26 - __main__ - INFO - User progress table created/verified
2025-08-03 16:15:26 - __main__ - INFO - User settings table created/verified
2025-08-03 16:15:26 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:15:26 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:15:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:15:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:15:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:16:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:16:51 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:16:51 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:16:51 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:16:51 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:16:51 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:16:51 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:16:51 - __main__ - INFO - Results table created/verified
2025-08-03 16:16:51 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:16:51 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:16:51 - __main__ - INFO - User progress table created/verified
2025-08-03 16:16:51 - __main__ - INFO - User settings table created/verified
2025-08-03 16:16:51 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:16:51 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:16:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:16:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:16:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:17:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:17:43 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:17:43 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:17:43 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:17:43 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:17:43 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:17:43 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:17:43 - __main__ - INFO - Results table created/verified
2025-08-03 16:17:43 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:17:43 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:17:43 - __main__ - INFO - User progress table created/verified
2025-08-03 16:17:43 - __main__ - INFO - User settings table created/verified
2025-08-03 16:17:43 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:17:43 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:17:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:17:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:17:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:18:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:18:54 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:18:54 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:18:54 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:18:54 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:18:54 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:18:54 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:18:54 - __main__ - INFO - Results table created/verified
2025-08-03 16:18:54 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:18:54 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:18:54 - __main__ - INFO - User progress table created/verified
2025-08-03 16:18:54 - __main__ - INFO - User settings table created/verified
2025-08-03 16:18:54 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:18:54 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:18:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:18:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:18:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:19:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:19:50 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:19:50 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:19:50 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:19:50 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:19:50 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:19:50 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:19:50 - __main__ - INFO - Results table created/verified
2025-08-03 16:19:50 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:19:50 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:19:50 - __main__ - INFO - User progress table created/verified
2025-08-03 16:19:50 - __main__ - INFO - User settings table created/verified
2025-08-03 16:19:50 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:19:50 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:19:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:19:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:19:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:20:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:20:57 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:20:57 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:20:57 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:20:57 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:20:57 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:20:57 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:20:57 - __main__ - INFO - Results table created/verified
2025-08-03 16:20:57 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:20:57 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:20:57 - __main__ - INFO - User progress table created/verified
2025-08-03 16:20:57 - __main__ - INFO - User settings table created/verified
2025-08-03 16:20:57 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:20:57 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:20:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:20:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:20:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:21:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:21:43 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:21:43 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:21:43 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:21:43 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:21:43 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:21:43 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:21:43 - __main__ - INFO - Results table created/verified
2025-08-03 16:21:43 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:21:43 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:21:43 - __main__ - INFO - User progress table created/verified
2025-08-03 16:21:43 - __main__ - INFO - User settings table created/verified
2025-08-03 16:21:43 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:21:43 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:21:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:21:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:21:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:22:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:22:39 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:22:39 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:22:39 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:22:39 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:22:39 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:22:39 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:22:39 - __main__ - INFO - Results table created/verified
2025-08-03 16:22:39 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:22:39 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:22:39 - __main__ - INFO - User progress table created/verified
2025-08-03 16:22:39 - __main__ - INFO - User settings table created/verified
2025-08-03 16:22:39 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:22:39 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:22:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:22:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:22:40 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:23:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:23:07 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:23:07 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:23:07 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:23:07 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:23:07 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:23:07 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:23:07 - __main__ - INFO - Results table created/verified
2025-08-03 16:23:07 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:23:07 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:23:07 - __main__ - INFO - User progress table created/verified
2025-08-03 16:23:07 - __main__ - INFO - User settings table created/verified
2025-08-03 16:23:07 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:23:07 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:23:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:23:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:23:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:25:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:25:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:25:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:25:35 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:25:35 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:25:35 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:25:35 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:25:35 - __main__ - INFO - Results table created/verified
2025-08-03 16:25:35 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:25:35 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:25:35 - __main__ - INFO - User progress table created/verified
2025-08-03 16:25:35 - __main__ - INFO - User settings table created/verified
2025-08-03 16:25:35 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:25:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:25:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:25:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:25:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:25:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:25:55 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:25:55 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:25:55 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:25:55 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:25:55 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:25:55 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:25:55 - __main__ - INFO - Results table created/verified
2025-08-03 16:25:55 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:25:55 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:25:55 - __main__ - INFO - User progress table created/verified
2025-08-03 16:25:55 - __main__ - INFO - User settings table created/verified
2025-08-03 16:25:55 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:25:55 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:25:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:25:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:25:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:25:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:25:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:25:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:26:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:26:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:26:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:26:41 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 16:26:41 - core.session.session_manager - INFO - Created session for user test4
2025-08-03 16:26:41 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-03 16:26:53 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:26:53 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:26:53 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:26:53 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:26:53 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:26:53 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:26:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:26:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:26:59 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:26:59 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:26:59 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:26:59 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:26:59 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:26:59 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:27:05 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:27:05 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:27:05 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:27:05 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:27:05 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:27:05 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:27:05 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:27:07 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:27:07 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:27:07 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:27:11 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:27:11 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:27:11 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:27:20 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 16:27:22 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:27:22 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 16:27:22 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 16:27:22 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-03 16:27:22 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:27:22 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:27:22 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:27:22 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:27:27 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:27:27 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-03 16:27:27 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:27:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:27:34 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:27:34 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:27:34 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:27:36 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:27:36 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:27:36 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:28:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:28:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:28:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:30:08 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:30:08 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:30:08 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:30:08 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:30:08 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:30:08 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:30:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:30:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:30:14 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:30:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:30:14 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:30:14 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:30:14 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:30:14 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:30:14 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:30:20 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:30:20 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:30:20 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:30:21 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:30:21 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:30:21 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:30:21 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:30:21 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:30:21 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:30:21 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:30:21 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:30:27 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:30:27 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:30:27 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:30:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:30:27 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:30:27 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:30:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:30:33 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:30:33 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:30:33 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:30:35 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 16:30:36 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-03 16:30:45 - features.auth.user_accounts - INFO - Creating new user account for testuser2
2025-08-03 16:30:45 - features.auth.user_accounts - INFO - Initialized topic memory for user testuser2
2025-08-03 16:30:45 - features.auth.user_accounts - INFO - Successfully created user account for testuser2
2025-08-03 16:30:48 - features.auth.authentication - INFO - Attempting authentication for user testuser2
2025-08-03 16:30:48 - core.session.session_manager - INFO - Created session for user testuser2
2025-08-03 16:30:48 - features.auth.authentication - INFO - Authentication successful for user testuser2
2025-08-03 16:30:50 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:30:53 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-03 16:30:53 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-03 16:30:53 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-03 16:30:53 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-03 16:30:53 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-03 16:30:53 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-03 16:30:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:30:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:31:00 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:31:00 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:31:00 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-03 16:31:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:31:00 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-03 16:31:00 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-03 16:31:00 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:31:03 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:31:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:31:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:31:08 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-03 16:31:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:31:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:31:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:31:28 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:31:40 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-03 16:31:40 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=1
2025-08-03 16:31:40 - api.routes.ai.training - INFO - User testuser2 has answers, checking cached next exercises
2025-08-03 16:31:40 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, generating new ones
2025-08-03 16:31:40 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-03 16:31:40 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-03 16:31:40 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:31:40 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-03 16:31:46 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-03 16:31:46 - api.routes.ai.training - INFO - Running prefetch next exercises for user testuser2
2025-08-03 16:31:46 - api.routes.ai.training - INFO - Returning preloaded training exercises for user testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:31:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:31:51 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:31:52 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:31:52 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:31:52 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-03 16:31:53 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:31:53 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:31:53 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-03 16:32:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:32:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:32:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:32:16 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-03 16:32:16 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-03 16:32:16 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-03 16:32:16 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-03 16:32:16 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-03 16:32:16 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-03 16:32:16 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:32:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:32:22 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:32:22 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:32:22 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-03 16:32:22 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:32:22 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-03 16:32:22 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-03 16:32:22 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-03 16:32:22 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:32:29 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:32:29 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:32:29 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-03 16:32:30 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:32:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:32:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:32:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:32:54 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:33:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:33:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:33:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:33:18 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:33:18 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:33:18 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:33:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:33:42 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:33:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:33:49 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-03 16:33:49 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-03 16:33:49 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-03 16:33:49 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-03 16:33:49 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-03 16:33:49 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-03 16:33:49 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:33:49 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:33:56 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:33:56 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:33:56 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-03 16:33:56 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:33:56 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-03 16:33:56 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-03 16:33:56 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['current_exercises', 'next_exercises']
2025-08-03 16:33:56 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-03 16:33:56 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-03 16:33:56 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-03 16:33:56 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-03 16:33:56 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:34:02 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:34:02 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:34:02 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-03 16:34:06 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:34:06 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:34:06 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:35:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:35:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:35:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:35:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:35:42 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:35:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:35:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:35:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:35:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:36:00 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-03 16:36:00 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-03 16:36:00 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-03 16:36:00 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-03 16:36:00 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-03 16:36:00 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-03 16:36:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:36:00 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:36:05 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:36:05 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:36:05 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-03 16:36:05 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-03 16:36:05 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-03 16:36:05 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-03 16:36:05 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-03 16:36:05 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-03 16:36:05 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-03 16:36:05 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-03 16:36:05 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-03 16:36:05 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-03 16:36:11 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-03 16:36:11 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-03 16:36:11 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-03 16:36:19 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:36:19 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:36:19 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:36:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:36:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:36:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:37:03 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:37:03 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:37:03 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:37:03 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:37:03 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:37:03 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:37:03 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:37:03 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:37:04 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:37:04 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:37:04 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:37:04 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:37:04 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:37:04 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:37:04 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:37:04 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:37:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:37:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:37:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:37:17 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:37:17 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:37:17 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:37:17 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:37:17 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:37:17 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:37:17 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:37:17 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:37:17 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:37:23 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:37:23 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:37:23 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:37:23 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:37:23 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:37:23 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:37:29 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:37:29 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:37:29 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:37:29 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:37:29 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:37:29 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:37:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:37:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:37:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:37:45 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:37:45 - api.routes.ai.training - ERROR - Error submitting training exercise: No module named 'backend'
2025-08-03 16:38:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:38:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:38:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:38:29 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:38:29 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:38:29 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:38:29 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:38:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:38:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:38:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:40:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:40:24 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 16:40:24 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 16:40:24 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 16:40:24 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 16:40:24 - __main__ - INFO - Database directory: /app/database
2025-08-03 16:40:24 - __main__ - INFO - ✅ Database connection established
2025-08-03 16:40:24 - __main__ - INFO - Results table created/verified
2025-08-03 16:40:24 - __main__ - INFO - Topic memory table created/verified
2025-08-03 16:40:24 - __main__ - INFO - Sessions table created/verified
2025-08-03 16:40:24 - __main__ - INFO - User progress table created/verified
2025-08-03 16:40:24 - __main__ - INFO - User settings table created/verified
2025-08-03 16:40:24 - __main__ - INFO - Support requests table created/verified
2025-08-03 16:40:24 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 16:40:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:40:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:40:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:40:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:40:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:40:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:40:33 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:40:33 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:40:33 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:40:33 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:43:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:43:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:43:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:47:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:47:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:47:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:47:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:47:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:47:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:48:05 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:48:05 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:48:05 - api.routes.ai.training - INFO - [DEBUG] All rows in ai_user_data table: True
2025-08-03 16:48:05 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:48:05 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:48:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:48:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:48:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:48:26 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:48:26 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:48:26 - api.routes.ai.training - INFO - [DEBUG] All rows in ai_user_data table: [{'username': 'Test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "___ habe eine Katze.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}, {"id": "ex2", "type": "translation", "question": "We have a house.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "___ ist eine Frau.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you notice any patterns or common mistakes?", "vocabHelp": [{"word": "Katze", "meaning": "cat"}, {"word": "Haus", "meaning": "house"}, {"word": "Frau", "meaning": "woman"}]}'}, {'username': 'test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex3", "type": "gap-fill", "question": "Ich ____ ein neues Wort. (I have a new word.)", "explanation": "No explanation.", "options": ["haben", "bin", "hat", "hast"]}, {"id": "ex2", "type": "translation", "question": "Translate to German: We want to learn German.", "explanation": "No explanation."}, {"id": "ex1", "type": "gap-fill", "question": "____ ein Hund im Park. (There is a dog in the park.)", "explanation": "No explanation.", "options": ["Es", "Der", "Ein", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you encounter any difficulties?", "vocabHelp": [{"word": "Hund", "meaning": "dog"}, {"word": "Park", "meaning": "park"}, {"word": "lernen", "meaning": "to learn"}, {"word": "neu", "meaning": "new"}]}'}, {'username': 'test2', 'exercises': '{"lessonId": "building-confidence-in-sein-haben-and-personal-pronouns", "title": "Building confidence in sein, haben, and personal pronouns in the context of Food", "level": "A1", "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich ____ hungrig.", "explanation": "No explanation.", "options": ["bin", "habe", "ist", "sind"]}, {"id": "ex2", "type": "translation", "question": "You have an apple.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "Wir ____ im Restaurant.", "explanation": "No explanation.", "options": ["sind", "haben", "bin", "ist"]}], "feedbackPrompt": "How did you find this exercise block? Please provide feedback.", "block_id": 1753809121247}'}, {'username': 'test4', 'exercises': None}, {'username': 'admin', 'exercises': None}, {'username': 'testuser2', 'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}]
2025-08-03 16:48:26 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:48:26 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:48:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:48:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:48:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:48:43 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:48:43 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:48:43 - api.routes.ai.training - INFO - [DEBUG] All rows in ai_user_data table: [{'username': 'Test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "___ habe eine Katze.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}, {"id": "ex2", "type": "translation", "question": "We have a house.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "___ ist eine Frau.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you notice any patterns or common mistakes?", "vocabHelp": [{"word": "Katze", "meaning": "cat"}, {"word": "Haus", "meaning": "house"}, {"word": "Frau", "meaning": "woman"}]}'}, {'username': 'test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex3", "type": "gap-fill", "question": "Ich ____ ein neues Wort. (I have a new word.)", "explanation": "No explanation.", "options": ["haben", "bin", "hat", "hast"]}, {"id": "ex2", "type": "translation", "question": "Translate to German: We want to learn German.", "explanation": "No explanation."}, {"id": "ex1", "type": "gap-fill", "question": "____ ein Hund im Park. (There is a dog in the park.)", "explanation": "No explanation.", "options": ["Es", "Der", "Ein", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you encounter any difficulties?", "vocabHelp": [{"word": "Hund", "meaning": "dog"}, {"word": "Park", "meaning": "park"}, {"word": "lernen", "meaning": "to learn"}, {"word": "neu", "meaning": "new"}]}'}, {'username': 'test2', 'exercises': '{"lessonId": "building-confidence-in-sein-haben-and-personal-pronouns", "title": "Building confidence in sein, haben, and personal pronouns in the context of Food", "level": "A1", "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich ____ hungrig.", "explanation": "No explanation.", "options": ["bin", "habe", "ist", "sind"]}, {"id": "ex2", "type": "translation", "question": "You have an apple.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "Wir ____ im Restaurant.", "explanation": "No explanation.", "options": ["sind", "haben", "bin", "ist"]}], "feedbackPrompt": "How did you find this exercise block? Please provide feedback.", "block_id": 1753809121247}'}, {'username': 'test4', 'exercises': None}, {'username': 'admin', 'exercises': None}, {'username': 'testuser2', 'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}]
2025-08-03 16:48:43 - api.routes.ai.training - INFO - [DEBUG] About to query for user: testuser2
2025-08-03 16:48:43 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-03 16:48:43 - api.routes.ai.training - INFO - [DEBUG] Simple query result for user testuser2: {'username': 'testuser2', 'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}
2025-08-03 16:48:43 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-03 16:48:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:48:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:48:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:49:01 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:49:01 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:49:01 - api.routes.ai.training - INFO - [DEBUG] All rows in ai_user_data table: [{'username': 'Test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "___ habe eine Katze.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}, {"id": "ex2", "type": "translation", "question": "We have a house.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "___ ist eine Frau.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you notice any patterns or common mistakes?", "vocabHelp": [{"word": "Katze", "meaning": "cat"}, {"word": "Haus", "meaning": "house"}, {"word": "Frau", "meaning": "woman"}]}'}, {'username': 'test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex3", "type": "gap-fill", "question": "Ich ____ ein neues Wort. (I have a new word.)", "explanation": "No explanation.", "options": ["haben", "bin", "hat", "hast"]}, {"id": "ex2", "type": "translation", "question": "Translate to German: We want to learn German.", "explanation": "No explanation."}, {"id": "ex1", "type": "gap-fill", "question": "____ ein Hund im Park. (There is a dog in the park.)", "explanation": "No explanation.", "options": ["Es", "Der", "Ein", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you encounter any difficulties?", "vocabHelp": [{"word": "Hund", "meaning": "dog"}, {"word": "Park", "meaning": "park"}, {"word": "lernen", "meaning": "to learn"}, {"word": "neu", "meaning": "new"}]}'}, {'username': 'test2', 'exercises': '{"lessonId": "building-confidence-in-sein-haben-and-personal-pronouns", "title": "Building confidence in sein, haben, and personal pronouns in the context of Food", "level": "A1", "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich ____ hungrig.", "explanation": "No explanation.", "options": ["bin", "habe", "ist", "sind"]}, {"id": "ex2", "type": "translation", "question": "You have an apple.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "Wir ____ im Restaurant.", "explanation": "No explanation.", "options": ["sind", "haben", "bin", "ist"]}], "feedbackPrompt": "How did you find this exercise block? Please provide feedback.", "block_id": 1753809121247}'}, {'username': 'test4', 'exercises': None}, {'username': 'admin', 'exercises': None}, {'username': 'testuser2', 'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}]
2025-08-03 16:49:01 - api.routes.ai.training - INFO - [DEBUG] About to query for user: testuser2
2025-08-03 16:49:01 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}', 'next_exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}
2025-08-03 16:49:01 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block training
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 3 answers for user: testuser2
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - Exercise block from data: topic='living'
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block training
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 16:49:01 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block training
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 16:49:01 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block training
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 0 exercises and 3 answers
2025-08-03 16:49:01 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-03 16:49:01 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 0 exercises
2025-08-03 16:49:01 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-03 16:49:01 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-03 16:49:01 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {}
2025-08-03 16:49:01 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Evaluation result: (None, {})
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block training
2025-08-03 16:49:01 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:49:01 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block training
2025-08-03 16:49:01 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser2
2025-08-03 16:49:01 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 16:49:01 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 16:49:01 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 16:49:01 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 16:49:03 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser2
2025-08-03 16:49:03 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block training: {'username': 'testuser2', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to correct. Please provide the German sentences or texts that you would like me to check and give feedback on. You can format them like this:\n\n> 1. German sentence one\n> 2. German sentence two\n> 3. ...\n\nOnce you've provided the sentences, I can give you personalized feedback using Markdown for tables, lists, and formatting.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 16:49:03 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:49:03 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block training
2025-08-03 16:49:03 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block training
2025-08-03 16:49:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:49:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:49:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:49:34 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:49:34 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:49:34 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:49:34 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:49:34 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:49:34 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:49:34 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:49:34 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:49:42 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:49:42 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:49:42 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:49:42 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:49:42 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:49:42 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:49:42 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:49:42 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:49:42 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:49:42 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:49:42 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:49:47 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:49:47 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:49:47 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:49:48 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:49:48 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:49:48 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:49:48 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:49:48 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:49:48 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:49:48 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:49:48 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:49:48 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:49:48 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:49:48 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:49:48 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:49:49 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 16:49:49 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:49:49 - api.routes.ai.training - INFO - [DEBUG] All rows in ai_user_data table: [{'username': 'Test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "___ habe eine Katze.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}, {"id": "ex2", "type": "translation", "question": "We have a house.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "___ ist eine Frau.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you notice any patterns or common mistakes?", "vocabHelp": [{"word": "Katze", "meaning": "cat"}, {"word": "Haus", "meaning": "house"}, {"word": "Frau", "meaning": "woman"}]}'}, {'username': 'test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex3", "type": "gap-fill", "question": "Ich ____ ein neues Wort. (I have a new word.)", "explanation": "No explanation.", "options": ["haben", "bin", "hat", "hast"]}, {"id": "ex2", "type": "translation", "question": "Translate to German: We want to learn German.", "explanation": "No explanation."}, {"id": "ex1", "type": "gap-fill", "question": "____ ein Hund im Park. (There is a dog in the park.)", "explanation": "No explanation.", "options": ["Es", "Der", "Ein", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you encounter any difficulties?", "vocabHelp": [{"word": "Hund", "meaning": "dog"}, {"word": "Park", "meaning": "park"}, {"word": "lernen", "meaning": "to learn"}, {"word": "neu", "meaning": "new"}]}'}, {'username': 'test2', 'exercises': '{"lessonId": "building-confidence-in-sein-haben-and-personal-pronouns", "title": "Building confidence in sein, haben, and personal pronouns in the context of Food", "level": "A1", "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich ____ hungrig.", "explanation": "No explanation.", "options": ["bin", "habe", "ist", "sind"]}, {"id": "ex2", "type": "translation", "question": "You have an apple.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "Wir ____ im Restaurant.", "explanation": "No explanation.", "options": ["sind", "haben", "bin", "ist"]}], "feedbackPrompt": "How did you find this exercise block? Please provide feedback.", "block_id": 1753809121247}'}, {'username': 'test4', 'exercises': None}, {'username': 'admin', 'exercises': None}, {'username': 'testuser2', 'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}]
2025-08-03 16:49:49 - api.routes.ai.training - INFO - [DEBUG] About to query for user: test4
2025-08-03 16:49:49 - api.routes.ai.training - INFO - Database row for user test4: {'exercises': None, 'next_exercises': None}
2025-08-03 16:49:49 - api.routes.ai.training - INFO - No exercise data found for user test4
2025-08-03 16:49:50 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:49:50 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 16:49:50 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 16:49:50 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-03 16:49:50 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:49:50 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:49:50 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:49:50 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:49:53 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:49:53 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:49:53 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:49:58 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:49:58 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:49:58 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:49:58 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:49:58 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:49:58 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:49:58 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:49:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:50:03 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:50:03 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:50:03 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:50:04 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:50:04 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:50:04 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:51:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:51:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:51:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:51:40 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:51:40 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:51:40 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:51:40 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:51:40 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:51:40 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:51:40 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:51:40 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:51:46 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:51:46 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:51:46 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:51:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:51:46 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:51:46 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:51:46 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:51:46 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:51:46 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:51:46 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:51:46 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:51:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:51:48 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:51:48 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:51:48 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:51:48 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:51:48 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:51:48 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:51:48 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:51:48 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:51:51 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:51:51 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:51:51 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:51:53 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:51:53 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:51:53 - api.routes.ai.training - INFO - [DEBUG] All rows in ai_user_data table: [{'username': 'Test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "___ habe eine Katze.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}, {"id": "ex2", "type": "translation", "question": "We have a house.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "___ ist eine Frau.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you notice any patterns or common mistakes?", "vocabHelp": [{"word": "Katze", "meaning": "cat"}, {"word": "Haus", "meaning": "house"}, {"word": "Frau", "meaning": "woman"}]}'}, {'username': 'test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex3", "type": "gap-fill", "question": "Ich ____ ein neues Wort. (I have a new word.)", "explanation": "No explanation.", "options": ["haben", "bin", "hat", "hast"]}, {"id": "ex2", "type": "translation", "question": "Translate to German: We want to learn German.", "explanation": "No explanation."}, {"id": "ex1", "type": "gap-fill", "question": "____ ein Hund im Park. (There is a dog in the park.)", "explanation": "No explanation.", "options": ["Es", "Der", "Ein", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you encounter any difficulties?", "vocabHelp": [{"word": "Hund", "meaning": "dog"}, {"word": "Park", "meaning": "park"}, {"word": "lernen", "meaning": "to learn"}, {"word": "neu", "meaning": "new"}]}'}, {'username': 'test2', 'exercises': '{"lessonId": "building-confidence-in-sein-haben-and-personal-pronouns", "title": "Building confidence in sein, haben, and personal pronouns in the context of Food", "level": "A1", "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich ____ hungrig.", "explanation": "No explanation.", "options": ["bin", "habe", "ist", "sind"]}, {"id": "ex2", "type": "translation", "question": "You have an apple.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "Wir ____ im Restaurant.", "explanation": "No explanation.", "options": ["sind", "haben", "bin", "ist"]}], "feedbackPrompt": "How did you find this exercise block? Please provide feedback.", "block_id": 1753809121247}'}, {'username': 'test4', 'exercises': None}, {'username': 'admin', 'exercises': None}, {'username': 'testuser2', 'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}]
2025-08-03 16:51:53 - api.routes.ai.training - INFO - [DEBUG] About to query for user: testuser2
2025-08-03 16:51:53 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}', 'next_exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}
2025-08-03 16:51:53 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block training
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 3 answers for user: testuser2
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - Exercise block from data: topic='living'
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block training
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 16:51:53 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block training
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 16:51:53 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block training
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 0 exercises and 3 answers
2025-08-03 16:51:53 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-03 16:51:53 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 0 exercises
2025-08-03 16:51:53 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-03 16:51:53 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-03 16:51:53 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {}
2025-08-03 16:51:53 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Evaluation result: (None, {})
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block training
2025-08-03 16:51:53 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:51:53 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block training
2025-08-03 16:51:53 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser2
2025-08-03 16:51:53 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 16:51:53 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 16:51:53 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 16:51:53 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 16:51:55 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:51:55 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:51:55 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:51:55 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:51:55 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:51:55 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:51:55 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:51:55 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:51:55 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:51:55 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:51:55 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:51:55 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:51:56 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser2
2025-08-03 16:51:56 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block training: {'username': 'testuser2', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to review and provide feedback on. Please submit the German language exercises or responses you'd like me to assess, and I'll be happy to provide personalized feedback in a Markdown format.\n\nHere's an example of how I'll structure my feedback:\n\n## Student ID:\n\n### Correct answers:\n\n- ...\n\n### Incorrect answers:\n\n| Incorrect | Correct | Explanation |\n|---|---|---|\n| ... | ... | ... |\n\n### Feedback:\n\n- ...\n\nPlease provide the student IDs and their corresponding answers for me to review.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 16:51:56 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:51:56 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block training
2025-08-03 16:51:56 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block training
2025-08-03 16:52:01 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:01 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:01 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:52:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:52:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:52:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:52:08 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-03 16:52:08 - api.routes.ai.training - INFO - [DEBUG] Database file path in submit_training_exercise: /app/database/user_data.db
2025-08-03 16:52:08 - api.routes.ai.training - INFO - [DEBUG] All rows in ai_user_data table: [{'username': 'Test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "___ habe eine Katze.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}, {"id": "ex2", "type": "translation", "question": "We have a house.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "___ ist eine Frau.", "explanation": "No explanation.", "options": ["Ich", "Du", "Er", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you notice any patterns or common mistakes?", "vocabHelp": [{"word": "Katze", "meaning": "cat"}, {"word": "Haus", "meaning": "house"}, {"word": "Frau", "meaning": "woman"}]}'}, {'username': 'test', 'exercises': '{"lessonId": "dynamic-ai-lesson-2", "title": "AI Generated Exercises", "instructions": "Fill in the blanks or translate the sentences.", "level": "A2", "exercises": [{"id": "ex3", "type": "gap-fill", "question": "Ich ____ ein neues Wort. (I have a new word.)", "explanation": "No explanation.", "options": ["haben", "bin", "hat", "hast"]}, {"id": "ex2", "type": "translation", "question": "Translate to German: We want to learn German.", "explanation": "No explanation."}, {"id": "ex1", "type": "gap-fill", "question": "____ ein Hund im Park. (There is a dog in the park.)", "explanation": "No explanation.", "options": ["Es", "Der", "Ein", "Sie"]}], "feedbackPrompt": "How did you find these exercises? Did you encounter any difficulties?", "vocabHelp": [{"word": "Hund", "meaning": "dog"}, {"word": "Park", "meaning": "park"}, {"word": "lernen", "meaning": "to learn"}, {"word": "neu", "meaning": "new"}]}'}, {'username': 'test2', 'exercises': '{"lessonId": "building-confidence-in-sein-haben-and-personal-pronouns", "title": "Building confidence in sein, haben, and personal pronouns in the context of Food", "level": "A1", "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich ____ hungrig.", "explanation": "No explanation.", "options": ["bin", "habe", "ist", "sind"]}, {"id": "ex2", "type": "translation", "question": "You have an apple.", "explanation": "No explanation."}, {"id": "ex3", "type": "gap-fill", "question": "Wir ____ im Restaurant.", "explanation": "No explanation.", "options": ["sind", "haben", "bin", "ist"]}], "feedbackPrompt": "How did you find this exercise block? Please provide feedback.", "block_id": 1753809121247}'}, {'username': 'test4', 'exercises': None}, {'username': 'admin', 'exercises': None}, {'username': 'testuser2', 'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}]
2025-08-03 16:52:08 - api.routes.ai.training - INFO - [DEBUG] About to query for user: testuser2
2025-08-03 16:52:08 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}', 'next_exercises': '{"lessonId": "A1_Living_1", "title": "Building confidence in personal pronouns, sein, and haben in the context of Living", "level": 0, "topic": "living", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "options": ["haben", "habt", "habe", "hat"], "correctAnswer": "habe"}, {"id": "ex2", "type": "translation", "question": "You are a student.", "correctAnswer": "Du bist ein Student."}, {"id": "ex3", "type": "gap-fill", "question": "Wir _____ gl\\u00fccklich.", "options": ["sind", "seid", "bin", "ist"], "correctAnswer": "sind"}], "feedbackPrompt": "Great job! You\'re improving your German step by step.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-03T16:36:05.756181"}'}
2025-08-03 16:52:08 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-03 16:52:08 - api.routes.ai.training - INFO - Extracted block_id: blk0001 from exercise data
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block blk0001
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 3 answers for user: testuser2
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - Exercise block from data: topic='living'
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block blk0001
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 16:52:08 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 16:52:08 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 0 exercises and 3 answers
2025-08-03 16:52:08 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-03 16:52:08 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 0 exercises
2025-08-03 16:52:08 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-03 16:52:08 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-03 16:52:08 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {}
2025-08-03 16:52:08 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Evaluation result: (None, {})
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 16:52:08 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:52:08 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 16:52:08 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser2
2025-08-03 16:52:08 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 16:52:08 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 16:52:08 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 16:52:08 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 16:52:11 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser2
2025-08-03 16:52:11 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser2', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}], 'overall_feedback': ''}, 'ai_feedback': 'It seems like you haven\'t provided any student answers for me to correct. Please provide the German language answers or exercises that you\'d like me to review and give feedback on. You can format it like this:\n\n### Student 1\n**Exercise:** Conjugate the verb "sein" in present tense.\n**Answer:** Ich bin, du bist, er/sie/es ist, wir sind, ihr seid, sie/Sie sind.\n\n### Student 2\n**Exercise:** Translate "I would like to eat an apple." into German.\n**Answer:** Ich möchte einen Apfel essen.\n\nOnce you provide the student answers, I can give personalized feedback in a similar formatted manner.', 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 16:52:11 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 16:52:11 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 16:52:11 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 16:52:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:52:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:52:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:52:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:52:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:52:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:52:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 16:52:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 16:52:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 16:52:39 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:52:39 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:52:39 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:52:39 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:52:39 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:52:39 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:52:39 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:39 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:40 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:52:40 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:52:40 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:52:40 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:52:40 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:52:40 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:52:40 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:40 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:45 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:52:45 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:52:45 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:52:45 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:52:45 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:52:45 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:45 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:52:45 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:52:45 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:52:45 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:45 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:46 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:52:46 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:52:46 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:52:46 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:52:46 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:52:46 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:46 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:52:46 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 16:52:46 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 16:52:46 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:52 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:52 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:52 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:52:53 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:52:53 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:53 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:52:53 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:52:53 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 16:52:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:55 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:55 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:55 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:52:55 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 16:52:55 - api.routes.ai.training - INFO - No exercise data found for user test4
2025-08-03 16:52:57 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 16:52:57 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 16:52:57 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 16:52:57 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-03 16:52:57 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 16:52:57 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 16:52:57 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:52:57 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:52:59 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:59 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:52:59 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:52:59 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:52:59 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:53:00 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:53:02 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:53:02 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:53:02 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:53:02 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:53:02 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 16:53:02 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 16:53:02 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 16:53:02 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: True
2025-08-03 16:53:02 - features.ai.generation.helpers - INFO - Updating existing row for user test4
2025-08-03 16:53:02 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 16:53:02 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-03 16:53:02 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-03 16:53:02 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:53:02 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 16:53:03 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 16:53:03 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 16:53:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:53:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:53:08 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 16:53:10 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 16:53:10 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 16:53:10 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:06:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:06:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:06:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:07:27 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 18:07:27 - features.auth.authentication - WARNING - Authentication failed: user test4 not found
2025-08-03 18:07:33 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 18:07:33 - features.auth.authentication - WARNING - Authentication failed: user test4 not found
2025-08-03 18:08:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:08:54 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:08:54 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:08:54 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:08:54 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:08:54 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:08:54 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:08:54 - __main__ - INFO - Added 'email' column to users table
2025-08-03 18:08:54 - __main__ - INFO - Added 'skill_level' column to users table
2025-08-03 18:08:54 - __main__ - INFO - Added 'is_admin' column to users table
2025-08-03 18:08:54 - __main__ - INFO - Results table created/verified
2025-08-03 18:08:54 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:08:54 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:08:54 - __main__ - INFO - User progress table created/verified
2025-08-03 18:08:54 - __main__ - INFO - User settings table created/verified
2025-08-03 18:08:54 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:08:54 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:08:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:08:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:08:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:08:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:08:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:08:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:09:04 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 18:09:04 - features.auth.authentication - WARNING - Authentication failed: user test4 not found
2025-08-03 18:09:13 - features.auth.user_accounts - INFO - Creating new user account for test4
2025-08-03 18:09:13 - features.auth.user_accounts - INFO - Initialized topic memory for user test4
2025-08-03 18:09:13 - features.auth.user_accounts - INFO - Successfully created user account for test4
2025-08-03 18:09:14 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 18:09:14 - core.session.session_manager - INFO - Created session for user test4
2025-08-03 18:09:14 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-03 18:09:27 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:09:27 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:09:27 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:09:27 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 18:09:27 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 18:09:27 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 18:09:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:09:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 18:09:32 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 18:09:32 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 18:09:32 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 18:09:32 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 18:09:32 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 18:09:32 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:09:32 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:09:32 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:09:32 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:09:32 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:09:32 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:09:38 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:09:38 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:09:38 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:09:38 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 18:09:38 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:09:38 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 18:09:38 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 18:09:38 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 18:09:38 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 18:09:38 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 18:09:38 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 18:09:38 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:09:41 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:09:41 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:09:41 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:09:44 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:09:44 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:09:44 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:09:45 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:09:45 - api.routes.ai.training - INFO - No exercise data found for user test4
2025-08-03 18:09:46 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:09:46 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:09:46 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:09:46 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-03 18:09:46 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 18:09:46 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 18:09:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:09:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 18:09:52 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 18:09:52 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 18:09:52 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 18:09:52 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 18:09:52 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 18:09:52 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:09:52 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:09:52 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:10:00 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:10:00 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:10:00 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:10:01 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:10:01 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:10:01 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:15:03 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:15:03 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:15:03 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:15:03 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 18:15:03 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 18:15:03 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 18:15:03 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:15:03 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 18:15:10 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 18:15:10 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 18:15:10 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 18:15:10 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 18:15:10 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 18:15:10 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:15:10 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:15:10 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:15:10 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:15:10 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:15:10 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:15:15 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:15:15 - api.routes.ai.training - INFO - No exercise data found for user test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 18:15:16 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 18:15:16 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 18:15:16 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 18:15:16 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 18:15:16 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 18:15:16 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:15:16 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:15:16 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:15:16 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:15:16 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:15:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 18:15:23 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 18:15:23 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 18:15:23 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 18:15:23 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 18:15:23 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 18:15:23 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-03 18:15:23 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:15:23 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:15:28 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:15:28 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:15:28 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:15:29 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:15:29 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:15:29 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:16:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:16:46 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:16:46 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:16:46 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:16:46 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:16:46 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:16:46 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:16:46 - __main__ - INFO - Results table created/verified
2025-08-03 18:16:46 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:16:46 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:16:46 - __main__ - INFO - User progress table created/verified
2025-08-03 18:16:46 - __main__ - INFO - User settings table created/verified
2025-08-03 18:16:46 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:16:46 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:16:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:16:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:16:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:16:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:16:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:16:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:17:42 - api.routes.ai.training - ERROR - Error submitting training exercise: ??? Unknown Error: None
2025-08-03 18:17:48 - features.auth.authentication - INFO - Attempting authentication for user testuser2
2025-08-03 18:17:48 - features.auth.authentication - WARNING - Authentication failed: user testuser2 not found
2025-08-03 18:17:51 - features.auth.user_accounts - INFO - Creating new user account for testuser3
2025-08-03 18:17:51 - features.auth.user_accounts - INFO - Initialized topic memory for user testuser3
2025-08-03 18:17:51 - features.auth.user_accounts - INFO - Successfully created user account for testuser3
2025-08-03 18:17:54 - features.auth.authentication - INFO - Attempting authentication for user testuser3
2025-08-03 18:17:54 - core.session.session_manager - INFO - Created session for user testuser3
2025-08-03 18:17:54 - features.auth.authentication - INFO - Authentication successful for user testuser3
2025-08-03 18:17:57 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:17:57 - api.routes.ai.training - INFO - No exercise data found for user testuser3
2025-08-03 18:18:00 - api.routes.ai.training - INFO - Training exercises request from user: testuser3
2025-08-03 18:18:00 - api.routes.ai.training - INFO - Training request data for user testuser3: answers_count=0
2025-08-03 18:18:00 - api.routes.ai.training - INFO - User testuser3 has no answers, checking cached exercises
2025-08-03 18:18:00 - api.routes.ai.training - INFO - No cached next exercises for user testuser3, prefetching
2025-08-03 18:18:00 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser3
2025-08-03 18:18:00 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser3
2025-08-03 18:18:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser3
2025-08-03 18:18:00 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser3
2025-08-03 18:18:06 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser3
2025-08-03 18:18:06 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser3
2025-08-03 18:18:06 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser3
2025-08-03 18:18:06 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser3
2025-08-03 18:18:06 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser3
2025-08-03 18:18:06 - api.routes.ai.training - INFO - Storing exercises for user testuser3
2025-08-03 18:18:06 - features.ai.generation.helpers - INFO - Storing AI data for user testuser3, data keys: ['exercises', 'next_exercises']
2025-08-03 18:18:06 - features.ai.generation.helpers - INFO - User testuser3 exists in ai_user_data: False
2025-08-03 18:18:06 - features.ai.generation.helpers - INFO - Inserting new row for user testuser3
2025-08-03 18:18:06 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser3
2025-08-03 18:18:06 - api.routes.ai.training - INFO - Returning cached exercises for user testuser3
2025-08-03 18:18:06 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser3
2025-08-03 18:18:12 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:18:12 - api.routes.ai.training - INFO - No exercise data found for user testuser3
2025-08-03 18:18:14 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser3
2025-08-03 18:18:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser3
2025-08-03 18:18:14 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser3
2025-08-03 18:18:48 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:18:48 - api.routes.ai.training - INFO - No exercise data found for user testuser3
2025-08-03 18:18:54 - api.routes.ai.training - INFO - Training exercises request from user: testuser3
2025-08-03 18:18:54 - api.routes.ai.training - INFO - Training request data for user testuser3: answers_count=0
2025-08-03 18:18:54 - api.routes.ai.training - INFO - User testuser3 has no answers, checking cached exercises
2025-08-03 18:18:54 - api.routes.ai.training - INFO - No cached next exercises for user testuser3, prefetching
2025-08-03 18:18:54 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser3
2025-08-03 18:18:54 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser3
2025-08-03 18:18:54 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser3
2025-08-03 18:18:54 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser3
2025-08-03 18:19:00 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser3
2025-08-03 18:19:00 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser3
2025-08-03 18:19:00 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser3
2025-08-03 18:19:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser3
2025-08-03 18:19:00 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser3
2025-08-03 18:19:00 - api.routes.ai.training - INFO - Storing exercises for user testuser3
2025-08-03 18:19:00 - features.ai.generation.helpers - INFO - Storing AI data for user testuser3, data keys: ['exercises', 'next_exercises']
2025-08-03 18:19:00 - features.ai.generation.helpers - INFO - User testuser3 exists in ai_user_data: False
2025-08-03 18:19:00 - features.ai.generation.helpers - INFO - Inserting new row for user testuser3
2025-08-03 18:19:00 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser3
2025-08-03 18:19:00 - api.routes.ai.training - INFO - Returning cached exercises for user testuser3
2025-08-03 18:19:00 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser3
2025-08-03 18:19:05 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser3
2025-08-03 18:19:05 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser3
2025-08-03 18:19:05 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser3
2025-08-03 18:19:07 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:19:07 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 3 answers for user: testuser3
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 18:19:07 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:19:07 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 0 exercises and 3 answers
2025-08-03 18:19:07 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-03 18:19:07 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 0 exercises
2025-08-03 18:19:07 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-03 18:19:07 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-03 18:19:07 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {}
2025-08-03 18:19:07 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Evaluation result: (None, {})
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:19:07 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:19:07 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:19:07 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:19:07 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:19:07 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:19:07 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:19:07 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 18:19:13 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:19:13 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any German language exercises for me to review. Please share the exercises or sentences that you'd like me to check, and I'll be happy to provide personalized feedback.\n\nYou can format your submission using Markdown like this:\n\n> **German Sentence:**\n>\n> **English Translation:**\n\nHere's an example of how you can submit your exercises:\n\n> **German Sentence:** Ich gehe jeden Tag zur Schule.\n>\n> **English Translation:** I go to school every day.\n\nAfter you submit your exercises, I'll provide feedback in a similar format:\n\n| Feedback Category | Your Sentence | Correction/Comment |\n|---|---|---|\n| Vocabulary |  |  |\n| Grammar |  |  |\n| Style/Idioms |  |  |\n| Punctuation/Spelling |  |  |\n\nOnce you've submitted your exercises using the suggested format, I can provide more targeted and helpful feedback as your virtual German language teacher.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:19:13 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:19:13 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:19:13 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:19:32 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 18:19:32 - core.session.session_manager - INFO - Created session for user test4
2025-08-03 18:19:32 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-03 18:19:38 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:19:38 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:19:38 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:19:38 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 18:19:38 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 18:19:38 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 18:19:38 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:19:38 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:19:44 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:19:44 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:19:44 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 18:19:44 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 18:19:44 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 18:19:44 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 18:19:44 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 18:19:44 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 18:19:44 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 18:19:44 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 18:19:44 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 18:19:44 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 18:19:44 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:19:44 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:19:44 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:19:44 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:19:50 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:19:50 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 3 answers for user: test4
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 18:19:50 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:19:50 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 0 exercises and 3 answers
2025-08-03 18:19:50 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-03 18:19:50 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 0 exercises
2025-08-03 18:19:50 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-03 18:19:50 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-03 18:19:50 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {}
2025-08-03 18:19:50 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Evaluation result: (None, {})
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:19:50 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:19:50 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:19:50 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:19:50 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:19:50 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:19:50 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:19:50 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 18:19:51 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 18:19:51 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 18:19:51 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 18:19:51 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user test4
2025-08-03 18:19:51 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'test4', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to evaluate and give feedback on. Please provide the student's work.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:19:51 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:19:51 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:19:51 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:19:52 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:19:52 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:19:52 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:19:52 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:19:52 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:20:43 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:20:43 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - Successfully parsed 0 exercises with 3 answers for user: testuser3
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - WARNING - No exercises provided for evaluation
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:20:43 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Created immediate results for 0 exercises
2025-08-03 18:20:43 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 0 exercises and 3 answers
2025-08-03 18:20:43 - features.ai.generation.exercise_processing - INFO - Evaluating 0 exercises
2025-08-03 18:20:43 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 0 exercises
2025-08-03 18:20:43 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in strict mode
2025-08-03 18:20:43 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-03 18:20:43 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {}
2025-08-03 18:20:43 - features.ai.generation.exercise_processing - WARNING - AI evaluation failed
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Evaluation result: (None, {})
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:20:43 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:20:43 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:20:43 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:20:43 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:20:43 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:20:43 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:20:43 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 18:20:48 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:20:49 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}], 'overall_feedback': ''}, 'ai_feedback': 'It seems like you haven\'t provided any student answers for me to give feedback on. Please provide some text or answers from students, and I\'ll be happy to provide personalized feedback in German.\n\nHere\'s how you can format the student answers and my feedback side by side using Markdown:\n\n| Student Answer | Feedback |\n|---|---|\n| Student\'s text here | My feedback here |\n\nOnce you provide the student answers, I can fill in the feedback column with personalized guidance and corrections in German.\n\nFor example, if a student writes:\n\n| Student Answer | Feedback |\n|---|---|\n| Ich gehe in die Schule. | Sehr gut! Vergiss nicht, dass man "zur Schule" sagt, wenn man das Ziel der Bewegung betont. Also: "Ich gehe zur Schule." |\n\nPlease provide the student answers, and I\'ll create a similar table with my feedback for each answer.', 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:20:49 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:20:49 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:20:49 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:21:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:21:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:21:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:21:25 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:21:25 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:21:25 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:21:25 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:21:25 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:21:25 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:21:25 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:21:25 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:21:25 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 18:21:25 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 0, 'skipped': 3, 'accuracy': 0.0, 'mistakes': []}
2025-08-03 18:21:25 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}, {'total': 3, 'correct': 0, 'incorrect': 0, 'skipped': 3, 'accuracy': 0.0, 'mistakes': []})
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:21:25 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:21:25 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:21:25 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:21:25 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:21:25 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:21:25 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:21:25 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'1': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, '3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-03 18:21:30 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:21:30 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': 'No answer provided'}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to review and provide feedback on. Please submit the answers you'd like me to check, and I'll be happy to help you improve your German language skills.\n\nHere's how you can format the answers using Markdown:\n\n```markdown\n### Student 1\n**Question:** ...\n**Answer:** ...\n\n### Student 2\n**Question:** ...\n**Answer:** ...\n```\n\nAfter you provide the answers, I'll create a table for each student with the following information:\n\n- Original answer\n- Corrections (if applicable)\n- Feedback and explanations\n- Suggestions for improvement\n\nHere's an example of how the table will look:\n\n| Original Answer | Corrections | Feedback and Explanations | Suggestions for Improvement |\n|---|---|---|---|\n| ... | ... | ... | ... |\n\nPlease provide the student answers, and I'll do my best to help you improve your German language skills.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:21:30 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:21:30 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:21:30 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:22:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:22:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:22:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:22:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:22:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:22:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:22:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:23:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:23:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:23:05 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:23:05 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:23:05 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:23:05 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:23:05 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:23:05 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:23:05 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:23:05 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:23:05 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:23:05 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:23:05 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:23:05 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:23:05 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:23:05 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:23:05 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:23:05 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:23:05 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:23:05 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:23:09 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:23:09 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to review and provide feedback on. Please submit the German language exercises or responses you'd like me to assess, and I'll be happy to provide personalized feedback in a Markdown format.\n\nHere's an example of how I'll structure my feedback:\n\n## Student Name\n\n### Exercise Type (e.g., Verb Conjugation, Sentence Structure, Vocabulary)\n\n| Attempt | Correct Answer | Feedback |\n|---|---|---|\n| Student's answer | Correct answer | Personalized feedback on the student's mistake and explanation of the correct answer |\n\n### Additional Comments\n- Bullet points for any specific grammar rules or tips related to the student's mistakes.\n- Encouragement and suggestions for improvement.\n\nPlease provide the student answers, and I'll use the above format to deliver my feedback.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:23:09 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:23:09 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:23:09 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:23:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:23:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:23:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:23:41 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:23:41 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:23:41 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:23:41 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:23:41 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:23:41 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:23:41 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:23:41 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:23:48 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:23:48 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:23:48 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:23:48 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:23:48 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:23:48 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:23:48 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:23:48 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:23:48 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'd'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'd', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:23:48 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'd', 'correct_answer': 'Ich esse Brot.'}]}
2025-08-03 18:23:48 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'd'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'd', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'd', 'correct_answer': 'Ich esse Brot.'}]})
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:23:48 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:23:48 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:23:48 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:23:48 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:23:48 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:23:48 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'd'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'd', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:23:48 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user test4
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'test4', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to give feedback on. Please provide the student's work.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:23:48 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:23:48 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:23:49 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:23:49 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:23:49 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:23:49 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:23:49 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:24:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:24:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:24:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:24:48 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:24:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:24:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:24:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:25:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:25:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:25:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:25:11 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:25:11 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:25:11 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:25:11 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:25:11 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:25:11 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:25:11 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:25:11 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:25:11 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:25:11 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:25:11 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:25:11 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - ERROR - Error storing results in database: 'tuple' object has no attribute 'values'
2025-08-03 18:25:11 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:25:11 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:25:11 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:25:11 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:25:11 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:25:11 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:25:13 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:25:13 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to give feedback on. Please provide some German language student answers for me to assess and provide personalized feedback. Here's how you can format the student answers using Markdown:\n\n```Markdown\n### Student 1\n**Question:** ...\n**Answer:** ...\n\n### Student 2\n**Question:** ...\n**Answer:** ...\n```\n\nOnce you've provided the student answers, I can then give personalized feedback to each student based on their responses.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:25:13 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:25:13 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:25:13 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:25:29 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:25:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:25:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:25:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:25:50 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:25:50 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:25:50 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:25:50 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:25:50 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:25:50 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:25:50 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:25:50 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:25:50 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:25:50 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:25:50 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:25:50 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0001
2025-08-03 18:25:50 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:25:50 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:25:50 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:25:50 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:25:50 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:25:50 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:25:53 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:25:53 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to review and provide feedback on. Please submit the German language exercises or responses you'd like me to check, and I'll be happy to help!\n\nYou can format the student answers like this:\n\n> **Student 1:**\n>\n> (Insert Student 1's answers here)\n>\n> **Student 2:**\n>\n> (Insert Student 2's answers here)\n\nOnce you've provided the student answers, I can give personalized feedback in a markdown formatted table for easy comparison.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:25:53 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:25:53 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:25:53 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:26:09 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:27:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:27:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:27:38 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:27:38 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:27:38 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:27:38 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:27:38 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:27:38 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:27:38 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:27:38 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:27:43 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:27:43 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:27:43 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:27:43 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:27:43 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:27:43 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:27:43 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:27:43 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:27:43 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'xc'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'xc', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:27:43 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat bread.', 'your_answer': 'xc', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 18:27:43 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'xc'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'xc', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat bread.', 'your_answer': 'xc', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:27:43 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0001
2025-08-03 18:27:43 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:27:43 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:27:43 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:27:43 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:27:43 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:27:43 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'xc'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'xc', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:27:45 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:27:45 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:27:45 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:27:45 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:27:45 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:27:46 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:47 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:47 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user test4
2025-08-03 18:27:47 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'test4', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 0, 'skipped_answers': 3, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': '1', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '2', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}, {'exercise_id': '3', 'user_answer': '', 'correct_answer': '', 'status': 'skipped', 'feedback': ''}], 'overall_feedback': ''}, 'ai_feedback': "It seems like you haven't provided any student answers for me to review and provide feedback on. Please submit the answers you'd like me to check, and I'll be happy to help you improve your German language skills. Here's how you can format the answers using Markdown:\n\n```markdown\n### Student 1\n**Question:** ...\n**Answer:** ...\n\n### Student 2\n**Question:** ...\n**Answer:** ...\n```\n\nOnce you've submitted the answers, I'll provide personalized feedback in the following format:\n\n```markdown\n### Student 1\n**Feedback:** ...\n- Corrections\n- Suggestions\n- Encouragement\n\n### Student 2\n**Feedback:** ...\n- Corrections\n- Suggestions\n- Encouragement\n```\n\nPlease provide the student answers, and I'll do my best to assist you in improving your German language skills.", 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:27:47 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:47 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:27:47 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:27:48 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:49 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:50 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:51 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:52 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:53 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:54 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:55 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:56 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:57 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:58 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:27:59 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:28:00 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:28:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:28:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:28:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:28:25 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:28:25 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:28:25 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:28:25 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:28:25 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:28:25 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:28:25 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:28:25 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:28:25 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:28:25 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:28:25 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:28:25 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:28:25 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:28:25 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:28:25 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:28:25 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:28:25 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:28:25 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:28:29 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:28:29 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 3, 'incorrect_answers': 0, 'skipped_answers': 0, 'accuracy_percentage': 100.0, 'exercise_details': [{'exercise_id': 'ex1', 'user_answer': 'esse', 'correct_answer': '', 'status': 'correct', 'feedback': ''}, {'exercise_id': 'ex2', 'user_answer': 'Ich trinke Wasser.', 'correct_answer': '', 'status': 'correct', 'feedback': ''}, {'exercise_id': 'ex3', 'user_answer': 'isst', 'correct_answer': '', 'status': 'correct', 'feedback': ''}], 'overall_feedback': ''}, 'ai_feedback': 'It seems like you haven\'t provided any student answers for me to give feedback on. Please provide some German language student answers for me to assess and give personalized feedback on. You can format the student answers like this:\n\n**Student 1:**\n- German Task: Describe your daily routine\n- Answer: Ich wache um 7 Uhr auf. Ich esse Frühstück. Ich gehe zur Schule...\n\nAfter you provide the student answers, I can then provide personalized feedback in Markdown format, like this:\n\n**Student 1:**\n\n| Feedback | Comment |\n|---|---|\n| **Positive** | Good use of present tense verbs and sentence structure. |\n| **Improvement** | Remember to use accusative case for time: Ich wache um **7 Uhr** auf. |\n| **Mistake** | It should be "Ich **esse Frühstück**" instead of "Ich esse Frühstück". The noun "Frühstück" is a masculine word and it should be capitalized. |', 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:28:29 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:28:29 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:28:29 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:28:49 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:29:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:29:03 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:29:10 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:29:10 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:29:10 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:29:10 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:29:10 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:29:10 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:29:10 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:29:10 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:29:16 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:29:16 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:29:16 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:29:16 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:29:16 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:29:16 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:29:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:29:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:29:16 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'df'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'df', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:29:16 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'df', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 18:29:16 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'df'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'df', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'df', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:29:16 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:29:16 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:29:16 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:29:16 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:29:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:29:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:29:16 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'df'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'df', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:29:17 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:29:17 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:29:17 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:29:17 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:29:17 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:29:18 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:18 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user test4
2025-08-03 18:29:18 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'test4', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'incorrect_answers': 3, 'skipped_answers': 0, 'accuracy_percentage': 0.0, 'exercise_details': [{'exercise_id': 'ex1', 'user_answer': 'isst', 'correct_answer': '', 'status': 'incorrect', 'feedback': "Try again. The correct answer is 'esse'."}, {'exercise_id': 'ex2', 'user_answer': 'df', 'correct_answer': '', 'status': 'incorrect', 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'."}, {'exercise_id': 'ex3', 'user_answer': 'essen', 'correct_answer': '', 'status': 'incorrect', 'feedback': "Try again. The correct answer is 'isst'."}], 'overall_feedback': ''}, 'ai_feedback': 'It seems like you haven\'t provided any student answers for me to review and provide feedback on. Please submit the answers you\'d like me to check, and I\'ll be happy to help you improve your German language skills. You can format your answers like this:\n\n**Student ID:**\n\n**Question:**\n\n**Student\'s Answer:**\n\nHere\'s an example:\n\n**Student ID:** A123\n\n**Question:** What is the German word for "book"?\n\n**Student\'s Answer:** Buch\n\nOnce you\'ve provided the answers, I\'ll give you personalized feedback using Markdown for tables, lists, and formatting.', 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:29:18 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:18 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:29:18 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:29:19 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:20 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:21 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:22 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:23 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:24 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:25 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:26 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:27 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:28 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:29 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:30 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:31 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:29:32 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:30:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:30:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:30:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:30:13 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:30:13 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:30:13 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:30:13 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:30:13 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:30:13 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:30:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:30:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:30:13 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:30:13 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 18:30:13 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:30:13 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:30:13 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:30:13 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:30:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:30:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:30:13 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:30:13 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:30:13 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:30:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:30:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:30:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:30:59 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:30:59 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:30:59 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:30:59 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:30:59 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:30:59 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:30:59 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:30:59 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:30:59 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:30:59 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 18:30:59 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:30:59 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:30:59 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:30:59 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:30:59 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:30:59 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:30:59 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:30:59 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:30:59 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:31:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:31:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:31:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:31:56 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:31:56 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:31:56 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:31:56 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:31:56 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:31:56 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:31:56 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:31:56 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:31:56 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:31:56 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 18:31:56 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:31:56 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:31:56 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:31:56 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:31:56 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:31:56 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:31:56 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:31:56 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:31:57 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:31:57 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:31:57 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:31:57 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:32:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:32:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:32:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:32:56 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:32:56 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:32:56 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:32:56 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:32:56 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:32:56 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:32:56 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:32:56 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:32:56 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:32:56 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 18:32:56 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'df'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'df', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du _____ ein Brot.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:32:56 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 0, 'accuracy_percentage': 0.0}, 'ai_feedback': 'Great job completing the exercises! You got 0 out of 3 correct. Keep practicing!', 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:32:56 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:32:56 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:33:20 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:33:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:33:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:33:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:34:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:34:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:34:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:34:14 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:34:14 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:34:14 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:34:14 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:34:14 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:34:14 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:34:14 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:34:14 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:34:14 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:34:14 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:34:14 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:34:14 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:34:14 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:34:14 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:34:14 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:34:14 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:34:14 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:34:14 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:34:15 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:34:15 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:34:15 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:34:15 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:34:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:34:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:34:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:35:04 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:35:04 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:35:04 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:35:04 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:35:04 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:35:04 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:35:04 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:35:04 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:35:04 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:35:04 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:35:04 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:35:04 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:35:04 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:35:04 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:35:04 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:35:04 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:35:04 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:35:04 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:35:05 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:35:05 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:35:05 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:35:05 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:35:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:35:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:35:40 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:35:46 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:35:46 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:35:46 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:35:46 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:35:46 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:35:46 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:35:46 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:35:46 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:35:46 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:35:46 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:35:46 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:35:46 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:35:46 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:35:46 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:35:46 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:35:46 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:35:46 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:35:46 - features.ai.feedback.feedback_generation - INFO - Successfully generated simple feedback for user testuser3
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'username': 'testuser3', 'summary': {'total_exercises': 3, 'correct_answers': 3, 'incorrect_answers': 0, 'skipped_answers': 0, 'accuracy_percentage': 100.0, 'exercise_details': [{'exercise_id': 'ex1', 'user_answer': 'esse', 'correct_answer': '', 'status': 'correct', 'feedback': ''}, {'exercise_id': 'ex2', 'user_answer': 'Ich trinke Wasser.', 'correct_answer': '', 'status': 'correct', 'feedback': ''}, {'exercise_id': 'ex3', 'user_answer': 'isst', 'correct_answer': '', 'status': 'correct', 'feedback': ''}], 'overall_feedback': ''}, 'ai_feedback': 'Excellent work! You got 3 out of 3 exercises correct. Keep up the great progress!', 'vocabulary_count': 0, 'topic_memory_count': 0, 'generated_at': '2025-01-27T12:00:00Z'}
2025-08-03 18:35:46 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Successfully generated and stored AI feedback for block blk0001
2025-08-03 18:35:46 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:36:14 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:36:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:36:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:36:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:37:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:37:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:37:04 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:37:10 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:37:10 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:37:10 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:37:10 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:37:10 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:37:10 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:37:10 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:37:10 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:37:10 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:37:10 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:37:10 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:37:10 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:37:10 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:37:10 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:37:10 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:37:10 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:37:10 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:37:10 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:37:11 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:37:11 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:37:11 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:37:11 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:37:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:37:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:37:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:37:45 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:37:45 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:37:45 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:37:45 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:37:45 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:37:45 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:37:45 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:37:45 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:37:45 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:37:45 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:37:45 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:37:45 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:37:45 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:37:45 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:37:45 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:37:45 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:37:45 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:37:45 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:37:45 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:38:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:38:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:38:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:38:17 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:38:17 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:38:17 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:38:17 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:38:17 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:38:17 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:38:17 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:38:17 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:38:17 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:38:17 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:38:17 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:38:17 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:38:17 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:38:17 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:38:17 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:38:17 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:38:17 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:38:17 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:38:17 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:38:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:38:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:38:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:38:52 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:38:52 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:38:52 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:38:52 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:38:52 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:38:52 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:38:52 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:38:52 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:38:52 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:38:52 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:38:52 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:38:52 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:38:52 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:38:52 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:38:52 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:38:52 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:38:52 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:38:52 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:38:52 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:39:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:39:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:39:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:39:35 - api.routes.ai.training - INFO - User testuser3 submitting training exercise
2025-08-03 18:39:35 - api.routes.ai.training - INFO - Found exercises for user testuser3
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - User testuser3 submitting exercise block blk0001
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: testuser3
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser3, block blk0001
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:39:35 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:39:35 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:39:35 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:39:35 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:39:35 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:39:35 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:39:35 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:39:35 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-03 18:39:35 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:39:35 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:39:35 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user testuser3
2025-08-03 18:39:35 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:39:35 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:39:35 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:39:35 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:39:35 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:39:35 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:40:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:40:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:40:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:41:24 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:41:24 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:41:24 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:41:24 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:41:25 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:41:25 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:41:25 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:41:25 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:41:38 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:41:38 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:41:38 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:41:38 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:41:38 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:41:38 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:41:38 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:41:38 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:41:38 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'jh'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'jh', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:41:38 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'jh', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 18:41:38 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'jh'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'jh', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'jh', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:41:38 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:41:38 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:41:38 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:41:38 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:41:38 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:41:38 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'jh'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'jh', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 18:41:38 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:41:38 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:41:39 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:41:39 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:41:39 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:41:39 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:41:39 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:41:40 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:41 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:42 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:43 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:44 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:45 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:46 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:47 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:48 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:49 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:50 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:51 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:52 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:53 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:41:54 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:42:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:42:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:42:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:42:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:42:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:42:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:42:13 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:42:13 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:42:13 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:42:13 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:42:13 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:42:13 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:42:13 - __main__ - INFO - Results table created/verified
2025-08-03 18:42:13 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:42:13 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:42:13 - __main__ - INFO - User progress table created/verified
2025-08-03 18:42:13 - __main__ - INFO - User settings table created/verified
2025-08-03 18:42:13 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:42:13 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:42:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:42:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:42:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:42:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:42:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:42:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:42:23 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:42:23 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:42:23 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:42:23 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:42:24 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:42:24 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:42:24 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:42:24 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:42:39 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:42:39 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:42:39 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:42:39 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:42:39 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:42:39 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:42:39 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:42:39 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:42:39 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'mn'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:42:39 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}]}
2025-08-03 18:42:39 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'mn'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}]})
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:42:39 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:42:39 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:42:39 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:42:39 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:42:39 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:42:39 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'mn'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:42:39 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:42:39 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:42:40 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:42:40 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:42:40 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:42:40 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:42:40 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:42:41 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:42 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:43 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:44 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:45 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:46 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:47 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:48 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:49 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:50 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:51 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:52 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:53 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:54 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:42:55 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:43:24 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:43:24 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:43:24 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:43:24 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:43:24 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:43:24 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:43:24 - __main__ - INFO - Results table created/verified
2025-08-03 18:43:24 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:43:24 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:43:24 - __main__ - INFO - User progress table created/verified
2025-08-03 18:43:24 - __main__ - INFO - User settings table created/verified
2025-08-03 18:43:24 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:43:24 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:43:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:43:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:43:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:43:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:43:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:43:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:43:41 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:43:41 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:43:41 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:43:41 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:43:41 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:43:41 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:43:41 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:43:41 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:43:48 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:43:48 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:43:48 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:43:48 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:43:48 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:43:48 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:43:48 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:43:48 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:43:48 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'm'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'm', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 18:43:48 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'm', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]}
2025-08-03 18:43:48 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'm'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'm', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'm', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]})
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:43:48 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:43:48 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:43:48 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:43:48 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:43:48 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:43:48 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'm'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'm', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 18:43:48 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:43:48 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:43:49 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:43:49 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:43:49 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:43:49 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:43:49 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:43:50 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:51 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:52 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:53 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:54 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:55 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:56 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:57 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:58 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:43:59 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:44:00 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:44:01 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:44:02 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:44:03 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:44:04 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:44:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:44:49 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:44:49 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:44:49 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:44:49 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:44:49 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:44:49 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:44:49 - __main__ - INFO - Results table created/verified
2025-08-03 18:44:49 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:44:49 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:44:49 - __main__ - INFO - User progress table created/verified
2025-08-03 18:44:49 - __main__ - INFO - User settings table created/verified
2025-08-03 18:44:49 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:44:49 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:44:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:44:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:44:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:44:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:44:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:44:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:44:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:44:56 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:44:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:45:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:45:10 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:45:10 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:45:10 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:45:10 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:45:10 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:45:10 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:45:10 - __main__ - INFO - Results table created/verified
2025-08-03 18:45:10 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:45:10 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:45:10 - __main__ - INFO - User progress table created/verified
2025-08-03 18:45:10 - __main__ - INFO - User settings table created/verified
2025-08-03 18:45:10 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:45:10 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:45:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:45:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:45:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:45:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:45:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:45:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:45:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:45:45 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:45:45 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:45:45 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:45:45 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:45:45 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:45:45 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:45:45 - __main__ - INFO - Results table created/verified
2025-08-03 18:45:45 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:45:45 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:45:45 - __main__ - INFO - User progress table created/verified
2025-08-03 18:45:45 - __main__ - INFO - User settings table created/verified
2025-08-03 18:45:45 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:45:45 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:45:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:45:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:45:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:45:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:45:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:45:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:46:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:46:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:46:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:46:22 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:46:22 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:46:22 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:46:22 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:46:23 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:46:23 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 18:46:23 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 18:46:23 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 18:46:30 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 18:46:30 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:46:30 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 18:46:30 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 18:46:30 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 18:46:30 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 18:46:30 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 18:46:30 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:46:30 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'essen'.", 'alternatives': ['Esse'], 'user_answer': 'essen', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'mn'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:46:30 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'essen', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}]}
2025-08-03 18:46:30 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'essen'.", 'alternatives': ['Esse'], 'user_answer': 'essen', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'mn'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'essen', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}]})
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 18:46:30 - external.redis.client - ERROR - Error setting Redis key with expiry: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 18:46:30 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 18:46:30 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 18:46:30 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 18:46:30 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 18:46:30 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'essen'.", 'alternatives': ['Esse'], 'user_answer': 'essen', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'mn'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'mn', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 18:46:30 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 18:46:30 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 18:46:31 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 18:46:31 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 18:46:31 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 18:46:31 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 18:46:31 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 18:46:32 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:33 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:34 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:35 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:36 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:37 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:38 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:39 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:40 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:41 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:42 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:43 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:44 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:45 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:46:46 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:47:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:47:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:47:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:47:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:47:48 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:47:48 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:47:48 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:47:48 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:47:48 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:47:48 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:47:48 - __main__ - INFO - Results table created/verified
2025-08-03 18:47:48 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:47:48 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:47:48 - __main__ - INFO - User progress table created/verified
2025-08-03 18:47:48 - __main__ - INFO - User settings table created/verified
2025-08-03 18:47:48 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:47:48 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:47:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:47:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:47:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:47:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:47:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:47:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:48:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:48:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:48:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:48:28 - features.support.system_support - INFO - Getting system status
2025-08-03 18:48:29 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 18:48:32 - features.support.system_support - INFO - Getting help topics for language en
2025-08-03 18:48:32 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-03 18:48:34 - features.support.system_support - INFO - Getting help topics for language en
2025-08-03 18:48:34 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-03 18:48:38 - features.translation.translation_jobs - INFO - Getting status for translation job trans_20250803_184836
2025-08-03 18:48:38 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:48:38 - features.translation.translation_jobs - WARNING - Translation job trans_20250803_184836 not found
2025-08-03 18:49:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:49:05 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:49:05 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:49:05 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:49:05 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:49:05 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:49:05 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:49:05 - __main__ - INFO - Results table created/verified
2025-08-03 18:49:05 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:49:05 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:49:05 - __main__ - INFO - User progress table created/verified
2025-08-03 18:49:05 - __main__ - INFO - User settings table created/verified
2025-08-03 18:49:05 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:49:05 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:49:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:49:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:49:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:49:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:49:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:49:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:49:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:49:37 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:49:37 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:49:37 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:49:37 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:49:37 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:49:37 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:49:37 - __main__ - INFO - Results table created/verified
2025-08-03 18:49:37 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:49:37 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:49:37 - __main__ - INFO - User progress table created/verified
2025-08-03 18:49:37 - __main__ - INFO - User settings table created/verified
2025-08-03 18:49:37 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:49:37 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:49:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:49:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:49:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:49:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:49:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:49:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:50:09 - features.support.system_support - INFO - Getting system status
2025-08-03 18:50:10 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 18:50:13 - features.support.system_support - INFO - Getting help topics for language en
2025-08-03 18:50:13 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-03 18:50:19 - features.translation.translation_jobs - INFO - Getting status for translation job trans_20250803_185016
2025-08-03 18:50:19 - external.redis.client - ERROR - Error getting Redis key: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 18:50:19 - features.translation.translation_jobs - WARNING - Translation job trans_20250803_185016 not found
2025-08-03 18:50:22 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 18:51:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:51:20 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:51:20 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:51:20 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:51:20 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:51:20 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:51:20 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:51:20 - __main__ - INFO - Results table created/verified
2025-08-03 18:51:20 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:51:20 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:51:20 - __main__ - INFO - User progress table created/verified
2025-08-03 18:51:20 - __main__ - INFO - User settings table created/verified
2025-08-03 18:51:20 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:51:20 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:51:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:51:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:51:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:51:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:51:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:51:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:51:57 - features.support.system_support - INFO - Getting system status
2025-08-03 18:51:58 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 18:52:02 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 18:52:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:52:53 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 18:52:53 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 18:52:53 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 18:52:53 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 18:52:53 - __main__ - INFO - Database directory: /app/database
2025-08-03 18:52:53 - __main__ - INFO - ✅ Database connection established
2025-08-03 18:52:53 - __main__ - INFO - Results table created/verified
2025-08-03 18:52:53 - __main__ - INFO - Topic memory table created/verified
2025-08-03 18:52:53 - __main__ - INFO - Sessions table created/verified
2025-08-03 18:52:53 - __main__ - INFO - User progress table created/verified
2025-08-03 18:52:53 - __main__ - INFO - User settings table created/verified
2025-08-03 18:52:53 - __main__ - INFO - Support requests table created/verified
2025-08-03 18:52:53 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 18:52:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:52:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:52:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:52:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 18:52:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 18:52:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 18:53:15 - features.support.system_support - INFO - Getting system status
2025-08-03 18:53:17 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 18:53:21 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:06:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:06:04 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:06:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:06:04 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:06:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:06:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:06:20 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:06:20 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:06:20 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:06:20 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:06:20 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:06:20 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:06:20 - __main__ - INFO - Results table created/verified
2025-08-03 19:06:20 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:06:20 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:06:20 - __main__ - INFO - User progress table created/verified
2025-08-03 19:06:20 - __main__ - INFO - User settings table created/verified
2025-08-03 19:06:20 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:06:20 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:06:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:06:20 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:06:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:06:20 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:06:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:06:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:06:21 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:06:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:06:21 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:06:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:07:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:07:05 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:07:05 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:07:05 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:07:05 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:07:05 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:07:05 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:07:05 - __main__ - INFO - Results table created/verified
2025-08-03 19:07:05 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:07:05 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:07:05 - __main__ - INFO - User progress table created/verified
2025-08-03 19:07:05 - __main__ - INFO - User settings table created/verified
2025-08-03 19:07:05 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:07:05 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:07:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:07:05 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:07:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:07:05 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:07:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:07:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:07:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:07:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:07:06 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:07:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:07:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:07:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:07:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:07:37 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:07:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:08:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:08:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:08:36 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:08:36 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:08:36 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:08:36 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:08:36 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:08:36 - __main__ - INFO - Results table created/verified
2025-08-03 19:08:36 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:08:36 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:08:36 - __main__ - INFO - User progress table created/verified
2025-08-03 19:08:36 - __main__ - INFO - User settings table created/verified
2025-08-03 19:08:36 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:08:36 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:08:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:08:36 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:08:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:08:36 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:08:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:08:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:08:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:08:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:08:37 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:08:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:09:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:09:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:09:15 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:09:15 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:09:15 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:09:15 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:09:15 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:09:15 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:09:15 - __main__ - INFO - Results table created/verified
2025-08-03 19:09:15 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:09:15 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:09:15 - __main__ - INFO - User progress table created/verified
2025-08-03 19:09:15 - __main__ - INFO - User settings table created/verified
2025-08-03 19:09:15 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:09:15 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:09:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:09:15 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:09:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:09:15 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:09:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:09:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:09:17 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:09:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:09:17 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:09:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:09:26 - features.support.system_support - INFO - Getting system status
2025-08-03 19:09:27 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:09:32 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:09:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:09:44 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://localhost:6379, REDIS_HOST: redis
2025-08-03 19:09:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:09:44 - external.redis.client - ERROR - Redis ping failed with REDIS_URL: Error 111 connecting to localhost:6379. Connection refused.
2025-08-03 19:09:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:12:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:12:30 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:12:30 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:12:30 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:12:30 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:12:30 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:12:30 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:12:30 - __main__ - INFO - Results table created/verified
2025-08-03 19:12:30 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:12:30 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:12:30 - __main__ - INFO - User progress table created/verified
2025-08-03 19:12:30 - __main__ - INFO - User settings table created/verified
2025-08-03 19:12:30 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:12:30 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:12:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:12:31 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:12:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:12:31 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:12:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:12:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:12:32 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:12:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:12:32 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:12:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:12:36 - features.support.system_support - INFO - Getting system status
2025-08-03 19:12:37 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:12:41 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:12:56 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:13:06 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:13:16 - features.support.system_support - INFO - Getting help topics for language en
2025-08-03 19:13:16 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-03 19:14:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:14:28 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:14:28 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:14:28 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-03 19:14:28 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-03 19:14:28 - __main__ - INFO - Database directory: /app/backend/database
2025-08-03 19:14:28 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:14:28 - __main__ - INFO - Added 'email' column to users table
2025-08-03 19:14:28 - __main__ - INFO - Added 'skill_level' column to users table
2025-08-03 19:14:28 - __main__ - INFO - Added 'is_admin' column to users table
2025-08-03 19:14:28 - __main__ - INFO - Results table created/verified
2025-08-03 19:14:28 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:14:28 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:14:28 - __main__ - INFO - User progress table created/verified
2025-08-03 19:14:28 - __main__ - INFO - User settings table created/verified
2025-08-03 19:14:28 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:14:28 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:14:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:15:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:15:16 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:15:16 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:15:16 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-03 19:15:16 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-03 19:15:16 - __main__ - INFO - Database directory: /app/backend/database
2025-08-03 19:15:16 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:15:16 - __main__ - INFO - Results table created/verified
2025-08-03 19:15:16 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:15:16 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:15:16 - __main__ - INFO - User progress table created/verified
2025-08-03 19:15:16 - __main__ - INFO - User settings table created/verified
2025-08-03 19:15:16 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:15:16 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:15:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:16:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:16:39 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:16:39 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:16:39 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:16:39 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:16:39 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:16:39 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:16:39 - __main__ - INFO - Results table created/verified
2025-08-03 19:16:39 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:16:39 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:16:39 - __main__ - INFO - User progress table created/verified
2025-08-03 19:16:39 - __main__ - INFO - User settings table created/verified
2025-08-03 19:16:39 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:16:39 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:16:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:16:39 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:16:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:16:39 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:16:40 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:16:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:16:40 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:16:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:16:40 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:16:41 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:17:26 - features.support.system_support - INFO - Getting system status
2025-08-03 19:17:27 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:17:30 - features.support.system_support - INFO - Getting help topics for language en
2025-08-03 19:17:30 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-03 19:17:34 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:18:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:18:11 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:18:11 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:18:11 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:18:11 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:18:11 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:18:11 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:18:11 - __main__ - INFO - Results table created/verified
2025-08-03 19:18:11 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:18:11 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:18:11 - __main__ - INFO - User progress table created/verified
2025-08-03 19:18:11 - __main__ - INFO - User settings table created/verified
2025-08-03 19:18:11 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:18:11 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:18:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:18:12 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:18:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:18:12 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:18:13 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:18:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:18:13 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:18:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:18:13 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:18:14 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:18:17 - features.support.system_support - INFO - Getting system status
2025-08-03 19:18:18 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:18:22 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:19:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:19:24 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:19:24 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:19:24 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:19:24 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:19:24 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:19:24 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:19:24 - __main__ - INFO - Results table created/verified
2025-08-03 19:19:24 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:19:24 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:19:24 - __main__ - INFO - User progress table created/verified
2025-08-03 19:19:24 - __main__ - INFO - User settings table created/verified
2025-08-03 19:19:24 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:19:24 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:19:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:19:24 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:19:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:19:24 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:19:25 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:19:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:19:26 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:19:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:19:26 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:19:27 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:19:30 - features.support.system_support - INFO - Getting system status
2025-08-03 19:19:31 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:19:34 - api.routes.ai.misc - ERROR - Error asking AI: ??? Unknown Error: None
2025-08-03 19:20:27 - features.support.system_support - INFO - Getting system status
2025-08-03 19:20:28 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:21:28 - features.support.system_support - INFO - Getting help topics for language en
2025-08-03 19:21:28 - features.support.system_support - INFO - Retrieved 4 help topics for language en
2025-08-03 19:21:43 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 19:21:43 - core.session.session_manager - INFO - Created session for user test4
2025-08-03 19:21:43 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-03 19:21:48 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:21:48 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:21:48 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:21:48 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:21:49 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:21:49 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:21:49 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:21:49 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:21:56 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:21:56 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:21:56 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 19:21:56 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 19:21:56 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 19:21:56 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 19:21:56 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:21:56 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'i'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'i', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 19:21:56 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat bread.', 'your_answer': 'i', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]}
2025-08-03 19:21:56 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'i'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'i', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat bread.', 'your_answer': 'i', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]})
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 19:21:56 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 19:21:56 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 19:21:56 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 19:21:56 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:21:56 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'i'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'i', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 19:21:56 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 19:21:56 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 19:21:58 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:21:58 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:21:58 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:21:58 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 19:21:58 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 19:21:59 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:00 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:01 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:02 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:03 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:04 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:05 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:06 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:07 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:08 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:09 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:10 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:11 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:12 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:13 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:22:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:22:49 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:22:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:22:49 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:22:50 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:23:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:23:09 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:23:09 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:23:09 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:23:09 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:23:09 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:23:09 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:23:09 - __main__ - INFO - Results table created/verified
2025-08-03 19:23:09 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:23:09 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:23:09 - __main__ - INFO - User progress table created/verified
2025-08-03 19:23:09 - __main__ - INFO - User settings table created/verified
2025-08-03 19:23:09 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:23:09 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:23:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:23:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:23:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:23:10 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:23:10 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:23:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:23:11 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:23:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:23:11 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:23:12 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:23:21 - features.support.system_support - INFO - Getting system status
2025-08-03 19:23:22 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:23:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:23:29 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:23:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:23:29 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:23:30 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:23:56 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:23:56 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:23:56 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:23:56 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:23:57 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:23:57 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:23:57 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:23:57 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:24:10 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:24:10 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 19:24:10 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 19:24:10 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 19:24:10 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 19:24:10 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:24:10 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 19:24:10 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'o'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'o', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 19:24:10 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'o', 'correct_answer': 'Ich esse Brot.'}]}
2025-08-03 19:24:10 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'o'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'o', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'o', 'correct_answer': 'Ich esse Brot.'}]})
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 19:24:10 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 19:24:10 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 19:24:10 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 19:24:10 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 19:24:10 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:24:10 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'o'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'o', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 19:24:11 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 19:24:11 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 19:24:11 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 19:24:11 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 19:24:12 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:24:12 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:24:12 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:24:12 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 19:24:12 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 19:24:13 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:14 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:15 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:16 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:17 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:18 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:19 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:20 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:21 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:22 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:23 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:24 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:25 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:26 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:27 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:24:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:24:42 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:24:42 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:24:42 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:24:43 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:24:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:24:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:24:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:24:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:24:58 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:25:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:25:04 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:25:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:25:04 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:25:05 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:25:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:25:21 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:25:21 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:25:21 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:25:21 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:25:21 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:25:21 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:25:21 - __main__ - INFO - Results table created/verified
2025-08-03 19:25:21 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:25:21 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:25:21 - __main__ - INFO - User progress table created/verified
2025-08-03 19:25:21 - __main__ - INFO - User settings table created/verified
2025-08-03 19:25:21 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:25:21 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:25:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:25:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:25:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:25:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:25:22 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:25:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:25:23 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:25:23 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:25:23 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:25:24 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:25:28 - features.support.system_support - INFO - Getting system status
2025-08-03 19:25:29 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:25:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:25:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:25:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:25:37 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:25:38 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:26:04 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:26:04 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:26:04 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:26:04 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:26:05 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:26:05 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:26:05 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:26:05 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:26:13 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:26:13 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:26:13 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 19:26:13 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 19:26:13 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 19:26:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 19:26:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:26:13 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'k'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'k', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 19:26:13 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'k', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]}
2025-08-03 19:26:13 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'k'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'k', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'k', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]})
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 19:26:13 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 19:26:13 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 19:26:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 19:26:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:26:13 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'k'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'k', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 19:26:13 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 19:26:13 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 19:26:14 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:26:14 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:26:14 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:26:14 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 19:26:14 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 19:26:15 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:16 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:17 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:18 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:19 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:20 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:21 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:22 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:23 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:25 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:25 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:26 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:27 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:28 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:26:29 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:28:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:28:47 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:28:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:28:47 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:28:48 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:29:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:29:09 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:29:09 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:29:09 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:29:09 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:29:09 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:29:09 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:29:09 - __main__ - INFO - Results table created/verified
2025-08-03 19:29:09 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:29:09 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:29:09 - __main__ - INFO - User progress table created/verified
2025-08-03 19:29:09 - __main__ - INFO - User settings table created/verified
2025-08-03 19:29:09 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:29:09 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:29:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:29:09 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:29:09 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:29:09 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:29:10 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:29:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:29:11 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:29:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:29:11 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:29:11 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:29:14 - features.support.system_support - INFO - Getting system status
2025-08-03 19:29:15 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:29:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:29:25 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:29:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:29:25 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:29:25 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:29:26 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:29:26 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:29:26 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:29:26 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:29:27 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:29:27 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:29:27 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:29:27 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:29:42 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:29:42 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:29:42 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 19:29:42 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 19:29:42 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 19:29:42 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 19:29:42 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:29:42 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was ',m'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': ',m', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 19:29:42 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': ',m', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]}
2025-08-03 19:29:42 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was ',m'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': ',m', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': ',m', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]})
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 19:29:42 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 19:29:42 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 19:29:42 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 19:29:42 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:29:42 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was ',m'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': ',m', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 19:29:42 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 19:29:42 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 19:29:43 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:29:43 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:29:43 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:29:43 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 19:29:43 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 19:29:44 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:45 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:46 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:47 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:48 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:49 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:50 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:51 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:53 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:53 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:54 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:55 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:56 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:57 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:29:58 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:30:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:30:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:30:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:30:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:30:44 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:30:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:30:50 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:30:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:30:50 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:30:50 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:31:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:31:00 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:31:00 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:31:00 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:31:00 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:31:00 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:31:00 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:31:00 - __main__ - INFO - Results table created/verified
2025-08-03 19:31:00 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:31:00 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:31:00 - __main__ - INFO - User progress table created/verified
2025-08-03 19:31:00 - __main__ - INFO - User settings table created/verified
2025-08-03 19:31:00 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:31:00 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:31:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:31:01 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:31:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:31:01 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:31:02 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:31:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:31:03 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:31:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:31:03 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:31:04 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:31:05 - features.support.system_support - INFO - Getting system status
2025-08-03 19:31:07 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:31:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:31:15 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:31:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:31:15 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:31:16 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:31:19 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:31:19 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:31:19 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:31:19 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:31:19 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:31:19 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:31:19 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:31:19 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:31:26 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:31:26 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:31:26 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 19:31:26 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 19:31:26 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 19:31:26 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 19:31:26 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:31:26 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'v'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'v', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 19:31:26 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat bread.', 'your_answer': 'v', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]}
2025-08-03 19:31:26 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'v'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'v', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat bread.', 'your_answer': 'v', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'essen', 'correct_answer': 'isst'}]})
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 19:31:26 - features.ai.feedback.feedback_generation - INFO - Generating simple AI feedback for user test4
2025-08-03 19:31:26 - features.ai.feedback.feedback_generation - INFO - Evaluating 3 exercises for feedback generation
2025-08-03 19:31:26 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 19:31:26 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:31:26 - features.ai.feedback.feedback_generation - INFO - Evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'v'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'v', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'essen'.", 'alternatives': ['Isst'], 'user_answer': 'essen', 'correct_answer': 'isst'}}
2025-08-03 19:31:26 - features.ai.feedback.feedback_generation - ERROR - Error generating simple feedback: name 'logger' is not defined
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 19:31:26 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 19:31:27 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:31:27 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:31:27 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:31:27 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 19:31:27 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 19:31:28 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:29 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:30 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:31 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:32 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:33 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:34 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:35 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:36 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:37 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:38 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:39 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:40 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:41 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:31:42 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:32:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:32:12 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:32:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:32:12 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:32:13 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:32:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:32:20 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:32:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:32:20 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:32:21 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:32:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:32:39 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:32:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:32:39 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:32:40 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:32:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:32:46 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:32:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:32:46 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:32:47 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:32:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:32:56 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:32:56 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:32:56 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:32:57 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:33:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:33:02 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:33:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:33:02 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:33:03 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:33:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:33:20 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:33:20 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:33:20 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:33:20 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:33:20 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:33:20 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:33:20 - __main__ - INFO - Results table created/verified
2025-08-03 19:33:20 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:33:20 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:33:20 - __main__ - INFO - User progress table created/verified
2025-08-03 19:33:20 - __main__ - INFO - User settings table created/verified
2025-08-03 19:33:20 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:33:20 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:33:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:33:21 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:33:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:33:21 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:33:22 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:33:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:33:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:33:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:33:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:33:23 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:33:26 - features.support.system_support - INFO - Getting system status
2025-08-03 19:33:27 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:33:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:33:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:33:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:33:37 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:33:37 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:33:43 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:33:43 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:33:43 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:33:43 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:33:43 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:33:43 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:33:43 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:33:43 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:33:51 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:33:51 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:33:51 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 19:33:51 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 19:33:51 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 19:33:51 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 19:33:51 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:33:51 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'k'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'k', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-03 19:33:51 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'k', 'correct_answer': 'Ich esse Brot.'}]}
2025-08-03 19:33:51 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'k'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'k', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'k', 'correct_answer': 'Ich esse Brot.'}]})
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Starting AI feedback generation for block blk0001
2025-08-03 19:33:51 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 19:33:51 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Feedback generation result for block blk0001: {'error': "name 'logger' is not defined"}
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - WARNING - Failed to generate AI feedback for block blk0001: name 'logger' is not defined
2025-08-03 19:33:51 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 19:33:52 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:33:52 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:33:52 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:33:52 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 19:33:52 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 19:33:53 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:33:54 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:33:55 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:33:56 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:33:57 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:33:58 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:33:59 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:00 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:01 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:02 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:03 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:04 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:05 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:06 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:07 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:34:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:34:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:34:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:34:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:34:20 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:34:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:34:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:34:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:34:37 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:34:38 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:34:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:34:40 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:34:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:34:40 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:34:41 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:34:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:34:56 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:34:56 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:34:56 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:34:56 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:34:56 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:34:56 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:34:56 - __main__ - INFO - Results table created/verified
2025-08-03 19:34:56 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:34:56 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:34:56 - __main__ - INFO - User progress table created/verified
2025-08-03 19:34:56 - __main__ - INFO - User settings table created/verified
2025-08-03 19:34:56 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:34:56 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:34:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:34:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:34:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:34:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:34:57 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:34:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:34:58 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:34:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:34:58 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:34:59 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:35:02 - features.support.system_support - INFO - Getting system status
2025-08-03 19:35:03 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:35:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:35:12 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:35:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:35:12 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:35:13 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:35:17 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:35:17 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:35:17 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:35:17 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:35:17 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:35:17 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:35:17 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:35:17 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-03 19:35:23 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:35:23 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - Background thread started
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-03 19:35:23 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-03 19:35:23 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-03 19:35:23 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-03 19:35:23 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-03 19:35:23 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:35:23 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'fg'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'fg', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-03 19:35:23 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'fg', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]}
2025-08-03 19:35:23 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse Brot.'.", 'explanation': "The correct answer is 'Ich esse Brot.'. Your answer was 'fg'.", 'alternatives': ['Ich esse Brot', 'ich esse brot.'], 'user_answer': 'fg', 'correct_answer': 'Ich esse Brot.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I eat bread.', 'your_answer': 'fg', 'correct_answer': 'Ich esse Brot.'}, {'question': 'Du _____ eine Banane.', 'your_answer': 'esse', 'correct_answer': 'isst'}]})
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-03 19:35:23 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-03 19:35:23 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-03 19:35:23 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-03 19:35:25 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:35:25 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:35:25 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:35:25 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-03 19:35:25 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-03 19:35:26 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:27 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:28 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:29 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:30 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:31 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:32 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:33 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:34 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:35 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:36 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:37 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:38 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:39 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:35:40 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-03 19:36:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:36:41 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:36:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:36:41 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:36:42 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:37:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:37:01 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:37:01 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:37:01 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:37:01 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:37:01 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:37:01 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:37:01 - __main__ - INFO - Results table created/verified
2025-08-03 19:37:01 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:37:01 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:37:01 - __main__ - INFO - User progress table created/verified
2025-08-03 19:37:01 - __main__ - INFO - User settings table created/verified
2025-08-03 19:37:01 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:37:01 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:37:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:37:02 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:37:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:37:02 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:37:02 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:37:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:37:03 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:37:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:37:03 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:37:03 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:37:07 - features.support.system_support - INFO - Getting system status
2025-08-03 19:37:08 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:37:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:37:33 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:37:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:37:33 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:37:34 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:37:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:37:49 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:37:49 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:37:49 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:37:49 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:37:49 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:37:49 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:37:49 - __main__ - INFO - Results table created/verified
2025-08-03 19:37:49 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:37:49 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:37:49 - __main__ - INFO - User progress table created/verified
2025-08-03 19:37:49 - __main__ - INFO - User settings table created/verified
2025-08-03 19:37:49 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:37:49 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:37:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:37:49 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:37:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:37:49 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:37:50 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:37:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:37:50 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:37:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:37:50 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:37:51 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:38:10 - api.routes.ai.feedback - ERROR - Error generating AI feedback: ??? Unknown Error: None
2025-08-03 19:38:38 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 19:38:38 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-03 19:38:48 - features.auth.user_accounts - INFO - Creating new user account for testuser
2025-08-03 19:38:48 - features.auth.user_accounts - INFO - Initialized topic memory for user testuser
2025-08-03 19:38:48 - features.auth.user_accounts - INFO - Successfully created user account for testuser
2025-08-03 19:38:52 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-03 19:38:52 - core.session.session_manager - INFO - Created session for user testuser
2025-08-03 19:38:52 - features.auth.authentication - INFO - Authentication successful for user testuser
2025-08-03 19:38:56 - api.routes.ai.feedback - INFO - Generating AI feedback for user testuser
2025-08-03 19:38:56 - core.services.exercise_service - INFO - Starting AI evaluation of 1 exercises in feedback mode
2025-08-03 19:38:56 - core.services.exercise_service - INFO - Completed AI evaluation with 1 results
2025-08-03 19:39:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:39:34 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:39:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:39:34 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:39:35 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:39:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:39:51 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:39:51 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:39:51 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:39:51 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:39:51 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:39:51 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:39:51 - __main__ - INFO - Results table created/verified
2025-08-03 19:39:51 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:39:51 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:39:51 - __main__ - INFO - User progress table created/verified
2025-08-03 19:39:51 - __main__ - INFO - User settings table created/verified
2025-08-03 19:39:51 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:39:51 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:39:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:39:51 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:39:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:39:51 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:39:52 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:39:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:39:52 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:39:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:39:52 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:39:53 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:39:56 - api.routes.ai.feedback - INFO - Generating AI feedback for user testuser
2025-08-03 19:39:56 - core.services.exercise_service - INFO - Starting AI evaluation of 1 exercises in feedback mode
2025-08-03 19:39:56 - core.services.exercise_service - INFO - Completed AI evaluation with 1 results
2025-08-03 19:39:57 - external.mistral.client - ERROR - Mistral API error: Mistral API error: 401 - {"detail":"Unauthorized"}
2025-08-03 19:40:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:40:30 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:40:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:40:30 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:40:31 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:41:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:41:25 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:41:25 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:41:25 - __main__ - INFO - Database path resolved to: /app/database/user_data.db
2025-08-03 19:41:25 - __main__ - INFO - Database path: /app/database/user_data.db
2025-08-03 19:41:25 - __main__ - INFO - Database directory: /app/database
2025-08-03 19:41:25 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:41:25 - __main__ - INFO - Results table created/verified
2025-08-03 19:41:25 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:41:25 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:41:25 - __main__ - INFO - User progress table created/verified
2025-08-03 19:41:25 - __main__ - INFO - User settings table created/verified
2025-08-03 19:41:25 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:41:25 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:41:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:41:26 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:41:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:41:26 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:41:26 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:41:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:41:27 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: redis
2025-08-03 19:41:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:41:27 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:41:28 - external.tts.client - ERROR - ELEVENLABS_API_KEY not configured
2025-08-03 19:42:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:42:18 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:42:18 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:42:18 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-03 19:42:18 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-03 19:42:18 - __main__ - INFO - Database directory: /app/backend/database
2025-08-03 19:42:18 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:42:18 - __main__ - INFO - Results table created/verified
2025-08-03 19:42:18 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:42:18 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:42:18 - __main__ - INFO - User progress table created/verified
2025-08-03 19:42:18 - __main__ - INFO - User settings table created/verified
2025-08-03 19:42:18 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:42:18 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:42:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:42:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-03 19:42:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:42:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:42:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:42:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:42:20 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-03 19:42:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:42:20 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:42:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:42:45 - features.support.system_support - INFO - Getting system status
2025-08-03 19:42:46 - features.support.system_support - INFO - Generated system status: healthy status
2025-08-03 19:42:51 - features.auth.authentication - INFO - Attempting authentication for user testuser
2025-08-03 19:42:51 - features.auth.authentication - WARNING - Authentication failed: user testuser not found
2025-08-03 19:42:56 - features.auth.user_accounts - INFO - Creating new user account for testuser2
2025-08-03 19:42:56 - features.auth.user_accounts - INFO - Initialized topic memory for user testuser2
2025-08-03 19:42:56 - features.auth.user_accounts - INFO - Successfully created user account for testuser2
2025-08-03 19:43:01 - features.auth.authentication - INFO - Attempting authentication for user testuser2
2025-08-03 19:43:01 - core.session.session_manager - INFO - Created session for user testuser2
2025-08-03 19:43:01 - features.auth.authentication - INFO - Authentication successful for user testuser2
2025-08-03 19:43:06 - api.routes.ai.feedback - INFO - Generating AI feedback for user testuser2
2025-08-03 19:43:06 - core.services.exercise_service - INFO - Starting AI evaluation of 1 exercises in feedback mode
2025-08-03 19:43:06 - core.services.exercise_service - INFO - Completed AI evaluation with 1 results
2025-08-03 19:43:08 - api.routes.ai.feedback - INFO - Successfully generated AI feedback for user testuser2
2025-08-03 19:43:23 - api.routes.ai.feedback - INFO - Generating AI feedback for user testuser2
2025-08-03 19:43:23 - core.services.exercise_service - INFO - Starting AI evaluation of 1 exercises in feedback mode
2025-08-03 19:43:23 - core.services.exercise_service - INFO - Completed AI evaluation with 1 results
2025-08-03 19:43:26 - api.routes.ai.feedback - INFO - Successfully generated AI feedback for user testuser2
2025-08-03 19:47:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:47:25 - __main__ - INFO - 🔄 Starting database migration...
2025-08-03 19:47:25 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-03 19:47:25 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-03 19:47:25 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-03 19:47:25 - __main__ - INFO - Database directory: /app/backend/database
2025-08-03 19:47:25 - __main__ - INFO - ✅ Database connection established
2025-08-03 19:47:25 - __main__ - INFO - Results table created/verified
2025-08-03 19:47:25 - __main__ - INFO - Topic memory table created/verified
2025-08-03 19:47:25 - __main__ - INFO - Sessions table created/verified
2025-08-03 19:47:25 - __main__ - INFO - User progress table created/verified
2025-08-03 19:47:25 - __main__ - INFO - User settings table created/verified
2025-08-03 19:47:25 - __main__ - INFO - Support requests table created/verified
2025-08-03 19:47:25 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-03 19:47:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:47:26 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-03 19:47:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:47:26 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:47:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:47:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-03 19:47:27 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-03 19:47:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-03 19:47:27 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-03 19:47:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-03 19:47:45 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 19:47:45 - features.auth.authentication - WARNING - Authentication failed: user test4 not found
2025-08-03 19:47:54 - features.auth.user_accounts - INFO - Creating new user account for test4
2025-08-03 19:47:55 - features.auth.user_accounts - INFO - Initialized topic memory for user test4
2025-08-03 19:47:55 - features.auth.user_accounts - INFO - Successfully created user account for test4
2025-08-03 19:47:55 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-03 19:47:55 - core.session.session_manager - INFO - Created session for user test4
2025-08-03 19:47:55 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-03 19:48:05 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:48:05 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:48:05 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:48:05 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 19:48:05 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 19:48:05 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 19:48:05 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 19:48:05 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 19:48:11 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 19:48:11 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 19:48:11 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 19:48:11 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 19:48:11 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 19:48:11 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 19:48:11 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:48:11 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-03 19:48:11 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-03 19:48:11 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 19:48:11 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 19:48:19 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-03 19:48:19 - api.routes.ai.training - INFO - No exercise data found for user test4
2025-08-03 19:48:20 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-03 19:48:20 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-03 19:48:20 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-03 19:48:20 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-03 19:48:20 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-03 19:48:20 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-03 19:48:20 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 19:48:20 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 19:48:21 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 19:48:21 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 19:48:21 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 19:48:24 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 19:48:24 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 19:48:24 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 19:48:24 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 19:48:24 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 19:48:24 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 19:48:24 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 19:48:24 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 19:48:24 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 19:48:24 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 19:48:24 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-03 19:48:24 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-03 19:48:27 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-03 19:48:27 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-03 19:48:27 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-03 19:48:27 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-03 19:48:27 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-03 19:48:27 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-03 19:48:27 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-03 19:48:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-03 19:48:30 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 19:48:30 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 19:48:30 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 19:48:34 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 19:48:34 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 19:48:34 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-03 19:48:34 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-03 19:48:34 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-03 19:48:34 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-04 07:28:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:28:55 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 07:28:55 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 07:28:55 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 07:28:55 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 07:28:55 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 07:28:55 - __main__ - INFO - ✅ Database connection established
2025-08-04 07:28:55 - __main__ - INFO - Results table created/verified
2025-08-04 07:28:55 - __main__ - INFO - Topic memory table created/verified
2025-08-04 07:28:55 - __main__ - INFO - Sessions table created/verified
2025-08-04 07:28:55 - __main__ - INFO - User progress table created/verified
2025-08-04 07:28:55 - __main__ - INFO - User settings table created/verified
2025-08-04 07:28:55 - __main__ - INFO - Support requests table created/verified
2025-08-04 07:28:55 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 07:28:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:28:55 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:28:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:28:55 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:28:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:28:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:28:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:28:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:28:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:28:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:29:05 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:29:05 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 07:29:05 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 07:29:05 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-04 07:29:05 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 07:29:05 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 07:29:05 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:29:05 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 07:29:12 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-04 07:29:12 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-04 07:29:12 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-04 07:29:12 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-04 07:29:12 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-04 07:29:12 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:29:12 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:29:12 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 07:29:12 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 07:29:12 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:29:12 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:29:29 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:29:29 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:29:29 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-04 07:29:37 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:29:37 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:29:37 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-04 07:29:37 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 07:29:37 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:29:37 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-04 07:29:37 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-04 07:29:37 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-04 07:29:37 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-04 07:29:37 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-04 07:29:37 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-04 07:29:37 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:29:43 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:29:43 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:29:43 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-04 07:30:02 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 07:30:02 - api.routes.ai.training - INFO - No exercise data found for user test4
2025-08-04 07:30:04 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:30:04 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 07:30:04 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-04 07:30:04 - api.routes.ai.training - INFO - No cached next exercises for user test4, generating new ones
2025-08-04 07:30:04 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 07:30:04 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 07:30:04 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:30:04 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 07:30:12 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-04 07:30:12 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-04 07:30:12 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-04 07:30:12 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-04 07:30:12 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-04 07:30:12 - api.routes.ai.training - INFO - Running prefetch next exercises for user test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:30:12 - api.routes.ai.training - INFO - Returning preloaded training exercises for user test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:30:12 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:30:18 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:30:18 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:30:18 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-04 07:30:19 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:30:19 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:30:19 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: test4
2025-08-04 07:31:21 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:31:21 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:31:34 - features.auth.authentication - INFO - Attempting authentication for user testuser2
2025-08-04 07:31:34 - core.session.session_manager - INFO - Created session for user testuser2
2025-08-04 07:31:34 - features.auth.authentication - INFO - Authentication successful for user testuser2
2025-08-04 07:31:38 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:31:38 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:31:38 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:31:38 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:31:38 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:31:38 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:31:38 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:31:38 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:31:44 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:31:44 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:31:44 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-04 07:31:44 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:31:44 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:31:44 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:31:44 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:31:44 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:31:44 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:31:44 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:31:44 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:31:44 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:31:50 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:31:50 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:31:50 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-04 07:31:50 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:31:50 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:35:30 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:35:30 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:36:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:36:00 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:36:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:36:00 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:36:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:36:08 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:36:08 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-04 07:36:08 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:36:33 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:36:33 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:36:33 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:36:33 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:36:33 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:36:33 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:36:33 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:36:33 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:36:39 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:36:39 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:36:39 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-04 07:36:39 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:36:39 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:36:39 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:36:39 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:36:39 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:36:39 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:36:39 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:36:39 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:36:39 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:36:40 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:36:40 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-04 07:36:40 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:36:45 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:36:45 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:36:45 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-04 07:37:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:37:12 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:37:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:37:12 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:37:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:37:27 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:37:27 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:37:27 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:37:27 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:37:27 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:37:27 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:37:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:37:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:37:33 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:37:33 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:37:33 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-04 07:37:33 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:37:33 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:37:33 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:37:33 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:37:33 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:37:33 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:37:33 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:37:33 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:37:33 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:37:39 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:37:39 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:37:39 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-04 07:37:58 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:37:58 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-04 07:37:58 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:38:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:38:24 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 07:38:24 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 07:38:24 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 07:38:24 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 07:38:24 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 07:38:24 - __main__ - INFO - ✅ Database connection established
2025-08-04 07:38:24 - __main__ - INFO - Results table created/verified
2025-08-04 07:38:24 - __main__ - INFO - Topic memory table created/verified
2025-08-04 07:38:24 - __main__ - INFO - Sessions table created/verified
2025-08-04 07:38:24 - __main__ - INFO - User progress table created/verified
2025-08-04 07:38:24 - __main__ - INFO - User settings table created/verified
2025-08-04 07:38:24 - __main__ - INFO - Support requests table created/verified
2025-08-04 07:38:24 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 07:38:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:38:24 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:38:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:38:24 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:38:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:38:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:38:26 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:38:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:38:26 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:38:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:38:28 - features.auth.authentication - INFO - Attempting authentication for user testuser2
2025-08-04 07:38:28 - core.session.session_manager - INFO - Created session for user testuser2
2025-08-04 07:38:28 - features.auth.authentication - INFO - Authentication successful for user testuser2
2025-08-04 07:38:35 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:38:35 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:38:35 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:38:35 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:38:35 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:38:35 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:38:35 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:38:35 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:38:41 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:38:41 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:38:41 - features.ai.generation.exercise_creation - INFO - Prefetching next exercises for user: testuser2
2025-08-04 07:38:41 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:38:41 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:38:41 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:38:41 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:38:41 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:38:41 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:38:41 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:38:41 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:38:41 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:38:43 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:38:43 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-04 07:38:43 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:38:48 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:38:48 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:38:48 - features.ai.generation.exercise_creation - INFO - Successfully prefetched exercises for user: testuser2
2025-08-04 07:39:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:39:17 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:39:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:39:17 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:39:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:39:24 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:39:24 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:39:24 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:39:24 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:39:24 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:39:24 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:39:24 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:39:24 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:39:30 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:39:30 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:39:30 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:39:30 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:39:30 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:39:30 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:39:30 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:39:30 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:39:30 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:39:32 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:39:32 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-04 07:39:32 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:39:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:39:51 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:39:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:39:51 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:39:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:39:57 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:39:57 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:39:57 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:39:57 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:39:57 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:39:57 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:39:57 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:39:57 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:40:02 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:40:02 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:40:02 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:40:02 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:40:02 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:40:02 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:40:02 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:40:02 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:40:02 - features.ai.generation.helpers - INFO - Verification after storing - row for user testuser2: None
2025-08-04 07:40:02 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:41:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:41:16 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:41:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:41:16 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:41:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:41:26 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:41:26 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:41:26 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:41:26 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:41:26 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:41:26 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:41:27 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:41:27 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:41:33 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:41:33 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:41:33 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:41:33 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - Data to insert: {'username': 'testuser2', 'exercises': '{"lessonId": "A1_food_shopping", "title": "Building confidence in basic phrases and vocabulary in the context of Food and Shopping", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich m\\u00f6chte _____ kaufen.", "options": ["ein Brot", "einen Apfel", "eine Milch", "ein Eis"], "correctAnswer": "ein Brot"}, {"id": "ex2", "type": "translation", "question": "I need to buy some milk.", "correctAnswer": "Ich muss Milch kaufen."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ist sehr lecker.", "options": ["Obst", "Gem\\u00fcse", "Fleisch", "Brot"], "correctAnswer": "Obst"}], "feedbackPrompt": "Great job! You are improving your German skills in the context of food and shopping.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:41:33.879379"}', 'next_exercises': '{"lessonId": "A1_food_shopping", "title": "Building confidence in basic phrases and vocabulary in the context of Food and Shopping", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich m\\u00f6chte _____ kaufen.", "options": ["ein Brot", "einen Apfel", "eine Milch", "ein Eis"], "correctAnswer": "ein Brot"}, {"id": "ex2", "type": "translation", "question": "I need to buy some milk.", "correctAnswer": "Ich muss Milch kaufen."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ist sehr lecker.", "options": ["Obst", "Gem\\u00fcse", "Fleisch", "Brot"], "correctAnswer": "Obst"}], "feedbackPrompt": "Great job! You are improving your German skills in the context of food and shopping.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:41:33.879379"}'}
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - Data keys: ['username', 'exercises', 'next_exercises']
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - Insert result: False
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:41:33 - features.ai.generation.helpers - INFO - Verification after storing - row for user testuser2: None
2025-08-04 07:41:33 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:41:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:41:58 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:41:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:41:58 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:41:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:42:13 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:42:13 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:42:13 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:42:13 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:42:13 - core.database.connection - ERROR - Query: SELECT exercises, next_exercises FROM ai_user_data WHERE username = ? LIMIT 1
2025-08-04 07:42:13 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:13 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:42:13 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:42:13 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:42:13 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:13 - core.database.connection - ERROR - Query: SELECT question FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 20
2025-08-04 07:42:13 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:42:13 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:13 - core.database.connection - ERROR - Query: SELECT question FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 10
2025-08-04 07:42:13 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:42:19 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: SELECT MAX(CAST(SUBSTR(id, 4) AS INTEGER)) as max_id FROM ai_exercise_blocks WHERE id LIKE 'blk%'
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ()
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_blocks (lessonId, title, level, topic, exercises, feedbackPrompt, id, username, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('food_A1', 'Building confidence in basic sentences and food vocabulary in the context of Food', 1, 'food', [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das ist _____ Apfel.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}], 'Great job! You are improving your German skills in the context of food.', 'blk0001', 'testuser2', '2025-08-04T07:42:19.656829')
2025-08-04 07:42:19 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('testuser2', 'Ich esse _____ Brot.', '2025-08-04T07:42:19.658832')
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('testuser2', 'I drink water.', '2025-08-04T07:42:19.660005')
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('testuser2', 'Das ist _____ Apfel.', '2025-08-04T07:42:19.661206')
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: SELECT id FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 20
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:19 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:42:19 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: SELECT username FROM ai_user_data WHERE username = ? LIMIT 1
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - Data to insert: {'username': 'testuser2', 'exercises': '{"lessonId": "food_A1", "title": "Building confidence in basic sentences and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das ist _____ Apfel.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}], "feedbackPrompt": "Great job! You are improving your German skills in the context of food.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:42:19.656829"}', 'next_exercises': '{"lessonId": "food_A1", "title": "Building confidence in basic sentences and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das ist _____ Apfel.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}], "feedbackPrompt": "Great job! You are improving your German skills in the context of food.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:42:19.656829"}'}
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - Data keys: ['username', 'exercises', 'next_exercises']
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: INSERT INTO ai_user_data (username, exercises, next_exercises) VALUES (?, ?, ?)
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('testuser2', '{"lessonId": "food_A1", "title": "Building confidence in basic sentences and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das ist _____ Apfel.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}], "feedbackPrompt": "Great job! You are improving your German skills in the context of food.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:42:19.656829"}', '{"lessonId": "food_A1", "title": "Building confidence in basic sentences and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das ist _____ Apfel.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}], "feedbackPrompt": "Great job! You are improving your German skills in the context of food.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:42:19.656829"}')
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - Insert result: False
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:42:19 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:42:19 - core.database.connection - ERROR - Query: SELECT exercises, next_exercises FROM ai_user_data WHERE username = ? LIMIT 1
2025-08-04 07:42:19 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:19 - features.ai.generation.helpers - INFO - Verification after storing - row for user testuser2: None
2025-08-04 07:42:19 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:42:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:42:43 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 07:42:43 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 07:42:43 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 07:42:43 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 07:42:43 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 07:42:43 - __main__ - INFO - ✅ Database connection established
2025-08-04 07:42:43 - __main__ - INFO - Results table created/verified
2025-08-04 07:42:43 - __main__ - INFO - Topic memory table created/verified
2025-08-04 07:42:43 - __main__ - INFO - Sessions table created/verified
2025-08-04 07:42:43 - __main__ - INFO - User progress table created/verified
2025-08-04 07:42:43 - __main__ - INFO - User settings table created/verified
2025-08-04 07:42:43 - __main__ - INFO - Support requests table created/verified
2025-08-04 07:42:43 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 07:42:57 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:42:57 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:42:57 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:42:57 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:42:57 - core.database.connection - ERROR - Query: SELECT exercises, next_exercises FROM ai_user_data WHERE username = ? LIMIT 1
2025-08-04 07:42:57 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:57 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:42:57 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:42:57 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:42:57 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:57 - core.database.connection - ERROR - Query: SELECT question FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 20
2025-08-04 07:42:57 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:57 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:42:57 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:42:57 - core.database.connection - ERROR - Query: SELECT question FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 10
2025-08-04 07:42:57 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:42:57 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:43:04 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: SELECT MAX(CAST(SUBSTR(id, 4) AS INTEGER)) as max_id FROM ai_exercise_blocks WHERE id LIKE 'blk%'
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ()
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_blocks (lessonId, title, level, topic, exercises, feedbackPrompt, id, username, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('food_and_drinks', 'Building confidence in basic sentences and vocabulary in the context of Food', 1, 'food', [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'options': ['esse', 'esst', 'isst', 'essen'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ lecker.', 'options': ['ist', 'sind', 'bin', 'seid'], 'correctAnswer': 'ist'}], 'Great job! You are improving your German skills with food vocabulary.', 'blk0001', 'testuser2', '2025-08-04T07:43:04.420667')
2025-08-04 07:43:04 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('testuser2', 'Ich _____ ein Apfel.', '2025-08-04T07:43:04.422351')
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('testuser2', 'I drink water.', '2025-08-04T07:43:04.423506')
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('testuser2', 'Das _____ lecker.', '2025-08-04T07:43:04.425743')
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: SELECT id FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 20
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:43:04 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:43:04 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: SELECT username FROM ai_user_data WHERE username = ? LIMIT 1
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - Data to insert: {'username': 'testuser2', 'exercises': '{"lessonId": "food_and_drinks", "title": "Building confidence in basic sentences and vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Apfel.", "options": ["esse", "esst", "isst", "essen"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ lecker.", "options": ["ist", "sind", "bin", "seid"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job! You are improving your German skills with food vocabulary.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:43:04.420667"}', 'next_exercises': '{"lessonId": "food_and_drinks", "title": "Building confidence in basic sentences and vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Apfel.", "options": ["esse", "esst", "isst", "essen"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ lecker.", "options": ["ist", "sind", "bin", "seid"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job! You are improving your German skills with food vocabulary.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:43:04.420667"}'}
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - Data keys: ['username', 'exercises', 'next_exercises']
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: INSERT INTO ai_user_data (username, exercises, next_exercises) VALUES (?, ?, ?)
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('testuser2', '{"lessonId": "food_and_drinks", "title": "Building confidence in basic sentences and vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Apfel.", "options": ["esse", "esst", "isst", "essen"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ lecker.", "options": ["ist", "sind", "bin", "seid"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job! You are improving your German skills with food vocabulary.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:43:04.420667"}', '{"lessonId": "food_and_drinks", "title": "Building confidence in basic sentences and vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Apfel.", "options": ["esse", "esst", "isst", "essen"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ lecker.", "options": ["ist", "sind", "bin", "seid"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job! You are improving your German skills with food vocabulary.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:43:04.420667"}')
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - Insert result: False
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:43:04 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:43:04 - core.database.connection - ERROR - Query: SELECT exercises, next_exercises FROM ai_user_data WHERE username = ? LIMIT 1
2025-08-04 07:43:04 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:43:04 - features.ai.generation.helpers - INFO - Verification after storing - row for user testuser2: None
2025-08-04 07:43:04 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:43:06 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:43:06 - core.database.connection - ERROR - Database execute_query error: no such table: ai_user_data
2025-08-04 07:43:06 - core.database.connection - ERROR - Query: SELECT exercises, next_exercises FROM ai_user_data WHERE username = ? LIMIT 1
2025-08-04 07:43:06 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:43:06 - api.routes.ai.training - INFO - Database row for user testuser2: None
2025-08-04 07:43:06 - api.routes.ai.training - INFO - No exercise data found for user testuser2
2025-08-04 07:43:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:43:51 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 07:43:51 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 07:43:51 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 07:43:51 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 07:43:51 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 07:43:51 - __main__ - INFO - ✅ Database connection established
2025-08-04 07:43:51 - __main__ - INFO - Results table created/verified
2025-08-04 07:43:51 - __main__ - INFO - Topic memory table created/verified
2025-08-04 07:43:51 - __main__ - INFO - Sessions table created/verified
2025-08-04 07:43:51 - __main__ - INFO - User progress table created/verified
2025-08-04 07:43:51 - __main__ - INFO - User settings table created/verified
2025-08-04 07:43:51 - __main__ - INFO - Support requests table created/verified
2025-08-04 07:43:51 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 07:44:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:44:34 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:44:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:44:34 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:44:35 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:44:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:44:35 - src.external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:44:35 - src.external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:44:35 - src.external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:44:35 - src.external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:44:49 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:44:49 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:44:49 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:44:49 - api.routes.ai.training - INFO - No cached next exercises for user testuser2, prefetching
2025-08-04 07:44:49 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 07:44:49 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 07:44:49 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:44:49 - core.database.connection - ERROR - Query: SELECT question FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 20
2025-08-04 07:44:49 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:44:49 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 07:44:49 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:44:49 - core.database.connection - ERROR - Query: SELECT question FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 10
2025-08-04 07:44:49 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:44:49 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 07:44:55 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 07:44:55 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:44:55 - core.database.connection - ERROR - Query: SELECT MAX(CAST(SUBSTR(id, 4) AS INTEGER)) as max_id FROM ai_exercise_blocks WHERE id LIKE 'blk%'
2025-08-04 07:44:55 - core.database.connection - ERROR - Params: ()
2025-08-04 07:44:55 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:44:55 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_blocks (lessonId, title, level, topic, exercises, feedbackPrompt, id, username, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 07:44:55 - core.database.connection - ERROR - Params: ('food_ basics', 'Building confidence in basic sentence structures and food vocabulary in the context of Food', 1, 'food', [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ Kaffee.', 'options': ['trinkst', 'trinkt', 'trinke', 'trinken'], 'correctAnswer': 'trinkst'}], 'Great job! You are improving your food vocabulary and basic sentence structures.', 'blk0001', 'testuser2', '2025-08-04T07:44:55.843932')
2025-08-04 07:44:55 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 07:44:55 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:44:55 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:44:55 - core.database.connection - ERROR - Params: ('testuser2', 'Ich esse _____ Brot.', '2025-08-04T07:44:55.849045')
2025-08-04 07:44:55 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:44:55 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:44:55 - core.database.connection - ERROR - Params: ('testuser2', 'I drink water.', '2025-08-04T07:44:55.855215')
2025-08-04 07:44:55 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:44:55 - core.database.connection - ERROR - Query: INSERT INTO exercise_history (username, question, created_at) VALUES (?, ?, ?)
2025-08-04 07:44:55 - core.database.connection - ERROR - Params: ('testuser2', 'Du _____ Kaffee.', '2025-08-04T07:44:55.859142')
2025-08-04 07:44:55 - core.database.connection - ERROR - Database execute_query error: no such table: exercise_history
2025-08-04 07:44:55 - core.database.connection - ERROR - Query: SELECT id FROM exercise_history WHERE username = ? ORDER BY created_at DESC LIMIT 20
2025-08-04 07:44:55 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:44:55 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 07:44:55 - api.routes.ai.training - INFO - Storing exercises for user testuser2
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - Storing AI data for user testuser2, data keys: ['exercises', 'next_exercises']
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - User testuser2 exists in ai_user_data: False
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - Inserting new row for user testuser2
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - Data to insert: {'username': 'testuser2', 'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - Data keys: ['username', 'exercises', 'next_exercises']
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - Insert result: True
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - Successfully stored AI data for user testuser2
2025-08-04 07:44:55 - features.ai.generation.helpers - INFO - Verification after storing - row for user testuser2: {'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 07:44:55 - api.routes.ai.training - INFO - Returning cached exercises for user testuser2
2025-08-04 07:44:57 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:44:57 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 07:44:57 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:44:57 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:44:57 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block blk0001
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 1 answers for user: testuser2
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block blk0001
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:44:57 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 1 answers
2025-08-04 07:44:57 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 07:44:57 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 07:44:57 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 07:44:57 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:44:57 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-04 07:44:57 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]}
2025-08-04 07:44:57 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}, {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]})
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 07:44:57 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_results
2025-08-04 07:44:57 - core.database.connection - ERROR - Query: SELECT block_id FROM ai_exercise_results WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:44:57 - core.database.connection - ERROR - Params: ('blk0001', 'testuser2')
2025-08-04 07:44:57 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_results
2025-08-04 07:44:57 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_results (block_id, username, results, summary, ai_feedback, created_at) VALUES (?, ?, ?, ?, ?, ?)
2025-08-04 07:44:57 - core.database.connection - ERROR - Params: ('blk0001', 'testuser2', '{"ex1": {"correct": false, "feedback": "Try again. The correct answer is \'ein\'.", "explanation": "The correct answer is \'ein\'. Your answer was \'test\'.", "alternatives": ["Ein"], "user_answer": "test", "correct_answer": "ein"}, "ex2": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}, "ex3": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}}', '{"total": 3, "correct": 0, "incorrect": 3, "accuracy": 0.0}', '{"status": "completed", "message": "Evaluation completed successfully"}', '2025-08-04T07:44:57.963854')
2025-08-04 07:44:57 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0001
2025-08-04 07:44:57 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 07:44:57 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:44:57 - core.database.connection - ERROR - Database execute_query error: no such column: last_reviewed
2025-08-04 07:44:57 - core.database.connection - ERROR - Query: SELECT vocab, created_at, last_reviewed FROM vocab_log WHERE username = ? ORDER BY created_at DESC LIMIT 50
2025-08-04 07:44:57 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:44:57 - core.database.connection - ERROR - Database execute_query error: no such column: strength
2025-08-04 07:44:57 - core.database.connection - ERROR - Query: SELECT topic, strength, last_reviewed FROM topic_memory WHERE username = ? ORDER BY last_reviewed DESC LIMIT 20
2025-08-04 07:44:57 - core.database.connection - ERROR - Params: ('testuser2',)
2025-08-04 07:45:05 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 07:45:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:45:16 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:45:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:45:16 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:45:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:49:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:49:27 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 07:49:27 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 07:49:27 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 07:49:27 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 07:49:27 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 07:49:27 - __main__ - INFO - ✅ Database connection established
2025-08-04 07:49:27 - __main__ - INFO - Results table created/verified
2025-08-04 07:49:27 - __main__ - INFO - Added 'last_reviewed' column to vocab_log table
2025-08-04 07:49:27 - __main__ - INFO - Added 'last_reviewed' column to topic_memory table
2025-08-04 07:49:27 - __main__ - INFO - Added 'strength' column to topic_memory table
2025-08-04 07:49:27 - __main__ - INFO - Topic memory table created/verified
2025-08-04 07:49:27 - __main__ - INFO - Sessions table created/verified
2025-08-04 07:49:27 - __main__ - INFO - User progress table created/verified
2025-08-04 07:49:27 - __main__ - INFO - User settings table created/verified
2025-08-04 07:49:27 - __main__ - INFO - Support requests table created/verified
2025-08-04 07:49:27 - __main__ - INFO - AI user data table created/verified
2025-08-04 07:49:27 - __main__ - INFO - Exercise history table created/verified
2025-08-04 07:49:27 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 07:49:36 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:49:36 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:49:36 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:49:36 - api.routes.ai.training - INFO - Parsed cached exercises for user testuser2: {'lessonId': 'food_ basics', 'title': 'Building confidence in basic sentence structures and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ Kaffee.', 'options': ['trinkst', 'trinkt', 'trinke', 'trinken'], 'correctAnswer': 'trinkst'}], 'feedbackPrompt': 'Great job! You are improving your food vocabulary and basic sentence structures.', 'id': 'blk0001', 'username': 'testuser2', 'created_at': '2025-08-04T07:44:55.843932'}
2025-08-04 07:49:36 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 07:49:36 - api.routes.ai.training - INFO - Found cached exercises for user testuser2
2025-08-04 07:49:38 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:49:38 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 07:49:38 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:49:38 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:49:38 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block blk0001
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 1 answers for user: testuser2
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block blk0001
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:49:38 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 1 answers
2025-08-04 07:49:38 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 07:49:38 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 07:49:38 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 07:49:38 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:49:38 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-04 07:49:38 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]}
2025-08-04 07:49:38 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}, {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]})
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 07:49:38 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_results
2025-08-04 07:49:38 - core.database.connection - ERROR - Query: SELECT block_id FROM ai_exercise_results WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:49:38 - core.database.connection - ERROR - Params: ('blk0001', 'testuser2')
2025-08-04 07:49:38 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_results
2025-08-04 07:49:38 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_results (block_id, username, results, summary, ai_feedback, created_at) VALUES (?, ?, ?, ?, ?, ?)
2025-08-04 07:49:38 - core.database.connection - ERROR - Params: ('blk0001', 'testuser2', '{"ex1": {"correct": false, "feedback": "Try again. The correct answer is \'ein\'.", "explanation": "The correct answer is \'ein\'. Your answer was \'test\'.", "alternatives": ["Ein"], "user_answer": "test", "correct_answer": "ein"}, "ex2": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}, "ex3": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}}', '{"total": 3, "correct": 0, "incorrect": 3, "accuracy": 0.0}', '{"status": "completed", "message": "Evaluation completed successfully"}', '2025-08-04T07:49:38.206317')
2025-08-04 07:49:38 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0001
2025-08-04 07:49:38 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 07:49:38 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:49:42 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 07:51:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:51:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:51:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:51:11 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:51:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:51:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:51:15 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 07:51:15 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 07:51:15 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 07:51:15 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 07:51:15 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 07:51:15 - __main__ - INFO - ✅ Database connection established
2025-08-04 07:51:15 - __main__ - INFO - Results table created/verified
2025-08-04 07:51:15 - __main__ - INFO - Topic memory table created/verified
2025-08-04 07:51:15 - __main__ - INFO - Sessions table created/verified
2025-08-04 07:51:15 - __main__ - INFO - User progress table created/verified
2025-08-04 07:51:15 - __main__ - INFO - User settings table created/verified
2025-08-04 07:51:15 - __main__ - INFO - Support requests table created/verified
2025-08-04 07:51:15 - __main__ - INFO - AI user data table created/verified
2025-08-04 07:51:15 - __main__ - INFO - Exercise history table created/verified
2025-08-04 07:51:15 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 07:51:15 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 07:51:28 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:51:28 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:51:28 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:51:28 - api.routes.ai.training - INFO - Parsed cached exercises for user testuser2: {'lessonId': 'food_ basics', 'title': 'Building confidence in basic sentence structures and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ Kaffee.', 'options': ['trinkst', 'trinkt', 'trinke', 'trinken'], 'correctAnswer': 'trinkst'}], 'feedbackPrompt': 'Great job! You are improving your food vocabulary and basic sentence structures.', 'id': 'blk0001', 'username': 'testuser2', 'created_at': '2025-08-04T07:44:55.843932'}
2025-08-04 07:51:28 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 07:51:28 - api.routes.ai.training - INFO - Found cached exercises for user testuser2
2025-08-04 07:51:31 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:51:31 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 07:51:31 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:51:31 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:51:31 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block blk0001
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 1 answers for user: testuser2
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 07:51:31 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block blk0001
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 1 answers
2025-08-04 07:51:31 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 07:51:31 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 07:51:31 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 07:51:31 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:51:31 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-04 07:51:31 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]}
2025-08-04 07:51:31 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}, {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]})
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 07:51:31 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0001
2025-08-04 07:51:31 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 07:51:31 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:51:35 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 07:52:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:52:00 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 07:52:01 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 07:52:01 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 07:52:01 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 07:52:01 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 07:52:01 - __main__ - INFO - ✅ Database connection established
2025-08-04 07:52:01 - __main__ - INFO - Results table created/verified
2025-08-04 07:52:01 - __main__ - INFO - Topic memory table created/verified
2025-08-04 07:52:01 - __main__ - INFO - Sessions table created/verified
2025-08-04 07:52:01 - __main__ - INFO - User progress table created/verified
2025-08-04 07:52:01 - __main__ - INFO - User settings table created/verified
2025-08-04 07:52:01 - __main__ - INFO - Support requests table created/verified
2025-08-04 07:52:01 - __main__ - INFO - AI user data table created/verified
2025-08-04 07:52:01 - __main__ - INFO - Exercise history table created/verified
2025-08-04 07:52:01 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 07:52:01 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 07:52:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:52:01 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:52:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:52:01 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:52:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:52:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:52:02 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:52:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:52:02 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:52:03 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:52:12 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:52:12 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 07:52:12 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 07:52:12 - api.routes.ai.training - INFO - No cached next exercises for user test4, prefetching
2025-08-04 07:52:12 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 07:52:12 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 07:52:12 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 07:52:12 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 07:52:19 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 07:52:19 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:52:19 - core.database.connection - ERROR - Query: SELECT MAX(CAST(SUBSTR(id, 4) AS INTEGER)) as max_id FROM ai_exercise_blocks WHERE id LIKE 'blk%'
2025-08-04 07:52:19 - core.database.connection - ERROR - Params: ()
2025-08-04 07:52:19 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 07:52:19 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_blocks (lessonId, title, level, topic, exercises, feedbackPrompt, id, username, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 07:52:19 - core.database.connection - ERROR - Params: ('A1_food_1', 'Building confidence in basic phrases and food vocabulary in the context of Food', 1, 'food', [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'Great job!', 'blk0001', 'test4', '2025-08-04T07:52:19.011341')
2025-08-04 07:52:19 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 07:52:19 - core.database.connection - ERROR - Database execute_query error: near "username": syntax error
2025-08-04 07:52:19 - core.database.connection - ERROR - Query: DELETE FROM exercise_history username = ? AND id NOT IN (?,?,?)
2025-08-04 07:52:19 - core.database.connection - ERROR - Params: ('test4', 3, 2, 1)
2025-08-04 07:52:19 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 07:52:19 - api.routes.ai.training - INFO - Storing exercises for user test4
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - Storing AI data for user test4, data keys: ['exercises', 'next_exercises']
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - User test4 exists in ai_user_data: False
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - Inserting new row for user test4
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - Data to insert: {'username': 'test4', 'exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}', 'next_exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}'}
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - Data keys: ['username', 'exercises', 'next_exercises']
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - Insert result: True
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - Successfully stored AI data for user test4
2025-08-04 07:52:19 - features.ai.generation.helpers - INFO - Verification after storing - row for user test4: {'exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}', 'next_exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}'}
2025-08-04 07:52:19 - api.routes.ai.training - INFO - Returning cached exercises for user test4
2025-08-04 07:52:19 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:52:19 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 07:52:19 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 07:52:19 - api.routes.ai.training - INFO - Parsed cached exercises for user test4: {'lessonId': 'A1_food_1', 'title': 'Building confidence in basic phrases and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'feedbackPrompt': 'Great job!', 'id': 'blk0001', 'username': 'test4', 'created_at': '2025-08-04T07:52:19.011341'}
2025-08-04 07:52:19 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 07:52:19 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-04 07:52:32 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 07:52:32 - api.routes.ai.training - INFO - Database row for user test4: {'exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}', 'next_exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}'}
2025-08-04 07:52:32 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}
2025-08-04 07:52:32 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}
2025-08-04 07:52:32 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:52:32 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 07:52:32 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 07:52:32 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 07:52:32 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 07:52:32 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:52:32 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse gern Äpfel.'.", 'explanation': "The correct answer is 'Ich esse gern Äpfel.'. Your answer was 'cx'.", 'alternatives': ['Ich esse gern Äpfel', 'ich esse gern äpfel.'], 'user_answer': 'cx', 'correct_answer': 'Ich esse gern Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}
2025-08-04 07:52:32 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I like to eat apples.', 'your_answer': 'cx', 'correct_answer': 'Ich esse gern Äpfel.'}, {'question': 'Das _____ ein Brot.', 'your_answer': 'bin', 'correct_answer': 'ist'}]}
2025-08-04 07:52:32 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse gern Äpfel.'.", 'explanation': "The correct answer is 'Ich esse gern Äpfel.'. Your answer was 'cx'.", 'alternatives': ['Ich esse gern Äpfel', 'ich esse gern äpfel.'], 'user_answer': 'cx', 'correct_answer': 'Ich esse gern Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I like to eat apples.', 'your_answer': 'cx', 'correct_answer': 'Ich esse gern Äpfel.'}, {'question': 'Das _____ ein Brot.', 'your_answer': 'bin', 'correct_answer': 'ist'}]})
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 07:52:32 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0001
2025-08-04 07:52:32 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 07:52:32 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:52:34 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:52:34 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 07:52:34 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-04 07:52:34 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-04 07:52:34 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-04 07:52:35 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:36 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:37 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:38 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:39 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:39 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 07:52:40 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:41 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:42 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:43 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:44 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:45 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:46 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:47 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:48 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:52:49 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:55:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:55:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:55:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:55:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:55:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:56:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:56:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:56:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:56:10 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:56:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:56:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:56:29 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:56:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:56:29 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:56:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:56:36 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 07:56:36 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 07:56:36 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 07:56:36 - api.routes.ai.training - INFO - Parsed cached exercises for user testuser2: {'lessonId': 'food_ basics', 'title': 'Building confidence in basic sentence structures and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ Kaffee.', 'options': ['trinkst', 'trinkt', 'trinke', 'trinken'], 'correctAnswer': 'trinkst'}], 'feedbackPrompt': 'Great job! You are improving your food vocabulary and basic sentence structures.', 'id': 'blk0001', 'username': 'testuser2', 'created_at': '2025-08-04T07:44:55.843932'}
2025-08-04 07:56:36 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 07:56:36 - api.routes.ai.training - INFO - Found cached exercises for user testuser2
2025-08-04 07:56:38 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 07:56:38 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 07:56:38 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:56:38 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 07:56:38 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block blk0001
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 1 answers for user: testuser2
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block blk0001
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:56:38 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 1 answers
2025-08-04 07:56:38 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 07:56:38 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 07:56:38 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 07:56:38 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:56:38 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-04 07:56:38 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]}
2025-08-04 07:56:38 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}, {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]})
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 07:56:38 - core.database.connection - ERROR - Database execute_query error: near "block_id": syntax error
2025-08-04 07:56:38 - core.database.connection - ERROR - Query: UPDATE ai_exercise_results SET block_id = ?, username = ?, results = ?, summary = ?, ai_feedback = ?, created_at = ? block_id = ? AND username = ?
2025-08-04 07:56:38 - core.database.connection - ERROR - Params: ('blk0001', 'testuser2', '{"ex1": {"correct": false, "feedback": "Try again. The correct answer is \'ein\'.", "explanation": "The correct answer is \'ein\'. Your answer was \'test\'.", "alternatives": ["Ein"], "user_answer": "test", "correct_answer": "ein"}, "ex2": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}, "ex3": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}}', '{"total": 3, "correct": 0, "incorrect": 3, "accuracy": 0.0}', '{"status": "completed", "message": "Evaluation completed successfully"}', '2025-08-04T07:56:38.341121', 'blk0001', 'testuser2')
2025-08-04 07:56:38 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-04 07:56:38 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 07:56:38 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:56:43 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 07:56:45 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:56:45 - api.routes.ai.exercise - ERROR - Error getting AI exercise results: 'list' object has no attribute 'items'
2025-08-04 07:57:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:57:01 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:57:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:57:01 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:57:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:57:16 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:57:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:57:26 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:57:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:57:26 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:57:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:57:32 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:57:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:57:53 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:57:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:57:53 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:57:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:57:58 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:58:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 07:58:24 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 07:58:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 07:58:24 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 07:58:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 07:58:31 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Parsed cached exercises for user test4: {'lessonId': 'A1_food_1', 'title': 'Building confidence in basic phrases and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'feedbackPrompt': 'Great job!', 'id': 'blk0001', 'username': 'test4', 'created_at': '2025-08-04T07:52:19.011341'}
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 07:58:31 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Parsed cached exercises for user test4: {'lessonId': 'A1_food_1', 'title': 'Building confidence in basic phrases and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'feedbackPrompt': 'Great job!', 'id': 'blk0001', 'username': 'test4', 'created_at': '2025-08-04T07:52:19.011341'}
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 07:58:31 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-04 07:58:37 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 07:58:37 - api.routes.ai.training - INFO - Database row for user test4: {'exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}', 'next_exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}'}
2025-08-04 07:58:37 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}
2025-08-04 07:58:37 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}
2025-08-04 07:58:37 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 07:58:37 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 07:58:37 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 07:58:37 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 07:58:37 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 07:58:37 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:58:37 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse gern Äpfel.'.", 'explanation': "The correct answer is 'Ich esse gern Äpfel.'. Your answer was 'df'.", 'alternatives': ['Ich esse gern Äpfel', 'ich esse gern äpfel.'], 'user_answer': 'df', 'correct_answer': 'Ich esse gern Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}
2025-08-04 07:58:37 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I like to eat apples.', 'your_answer': 'df', 'correct_answer': 'Ich esse gern Äpfel.'}, {'question': 'Das _____ ein Brot.', 'your_answer': 'bin', 'correct_answer': 'ist'}]}
2025-08-04 07:58:37 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse gern Äpfel.'.", 'explanation': "The correct answer is 'Ich esse gern Äpfel.'. Your answer was 'df'.", 'alternatives': ['Ich esse gern Äpfel', 'ich esse gern äpfel.'], 'user_answer': 'df', 'correct_answer': 'Ich esse gern Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I like to eat apples.', 'your_answer': 'df', 'correct_answer': 'Ich esse gern Äpfel.'}, {'question': 'Das _____ ein Brot.', 'your_answer': 'bin', 'correct_answer': 'ist'}]})
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 07:58:37 - core.database.connection - ERROR - Database execute_query error: near "block_id": syntax error
2025-08-04 07:58:37 - core.database.connection - ERROR - Query: UPDATE ai_exercise_results SET block_id = ?, username = ?, results = ?, summary = ?, ai_feedback = ?, created_at = ? block_id = ? AND username = ?
2025-08-04 07:58:37 - core.database.connection - ERROR - Params: ('blk0001', 'test4', '{"ex1": {"correct": false, "feedback": "Try again. The correct answer is \'esse\'.", "explanation": "The correct answer is \'esse\'. Your answer was \'isst\'.", "alternatives": ["Esse"], "user_answer": "isst", "correct_answer": "esse"}, "ex2": {"correct": false, "feedback": "Not quite right. The correct answer is \'Ich esse gern \\u00c4pfel.\'.", "explanation": "The correct answer is \'Ich esse gern \\u00c4pfel.\'. Your answer was \'df\'.", "alternatives": ["Ich esse gern \\u00c4pfel", "ich esse gern \\u00e4pfel."], "user_answer": "df", "correct_answer": "Ich esse gern \\u00c4pfel."}, "ex3": {"correct": false, "feedback": "Try again. The correct answer is \'ist\'.", "explanation": "The correct answer is \'ist\'. Your answer was \'bin\'.", "alternatives": ["Ist"], "user_answer": "bin", "correct_answer": "ist"}}', '{"total": 3, "correct": 0, "incorrect": 3, "accuracy": 0.0}', '{"status": "completed", "message": "Evaluation completed successfully"}', '2025-08-04T07:58:37.973914', 'blk0001', 'test4')
2025-08-04 07:58:37 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-04 07:58:37 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 07:58:37 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 07:58:39 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 07:58:39 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 07:58:39 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-04 07:58:39 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-04 07:58:39 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-04 07:58:40 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 07:58:42 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:42 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:42 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:43 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:43 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:43 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:44 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:44 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:44 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:44 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 07:58:44 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:44 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:45 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:45 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:45 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:45 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:47 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:47 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:47 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:48 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:48 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:48 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:49 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:49 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:49 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:50 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:50 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:50 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:51 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:51 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:51 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:52 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:52 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:52 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:53 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:53 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:53 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:54 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:54 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:54 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:55 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:55 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:55 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:56 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:56 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:56 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:56 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:56 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:56 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:57 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:57 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:57 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:58:58 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:58:59 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:58:59 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:00 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:00 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:00 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:01 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:01 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:01 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:02 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:02 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:02 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:03 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:03 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:03 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:04 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:04 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:04 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:05 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:05 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:05 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:06 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:06 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:06 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:07 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:07 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:07 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:08 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:08 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:08 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:09 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:09 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:09 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:10 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:10 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:10 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 07:59:11 - core.database.connection - ERROR - Database execute_query error: no such table: topic_memory_status
2025-08-04 07:59:11 - core.database.connection - ERROR - Query: SELECT * FROM topic_memory_status WHERE block_id = ? AND username = ? LIMIT 1
2025-08-04 07:59:11 - core.database.connection - ERROR - Params: ('training', 'test4')
2025-08-04 08:00:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:00:06 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 08:00:06 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 08:00:06 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 08:00:06 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 08:00:06 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 08:00:06 - __main__ - INFO - ✅ Database connection established
2025-08-04 08:00:06 - __main__ - INFO - Results table created/verified
2025-08-04 08:00:06 - __main__ - INFO - Topic memory table created/verified
2025-08-04 08:00:06 - __main__ - INFO - Sessions table created/verified
2025-08-04 08:00:06 - __main__ - INFO - User progress table created/verified
2025-08-04 08:00:06 - __main__ - INFO - User settings table created/verified
2025-08-04 08:00:06 - __main__ - INFO - Support requests table created/verified
2025-08-04 08:00:06 - __main__ - INFO - AI user data table created/verified
2025-08-04 08:00:06 - __main__ - INFO - Exercise history table created/verified
2025-08-04 08:00:06 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 08:00:06 - __main__ - INFO - Topic memory status table created/verified
2025-08-04 08:00:06 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 08:00:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:00:42 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 08:00:42 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 08:00:42 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 08:00:42 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 08:00:42 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 08:00:42 - __main__ - INFO - ✅ Database connection established
2025-08-04 08:00:42 - __main__ - INFO - Results table created/verified
2025-08-04 08:00:42 - __main__ - INFO - Topic memory table created/verified
2025-08-04 08:00:42 - __main__ - INFO - Sessions table created/verified
2025-08-04 08:00:42 - __main__ - INFO - User progress table created/verified
2025-08-04 08:00:42 - __main__ - INFO - User settings table created/verified
2025-08-04 08:00:42 - __main__ - INFO - Support requests table created/verified
2025-08-04 08:00:42 - __main__ - INFO - AI user data table created/verified
2025-08-04 08:00:42 - __main__ - INFO - Exercise history table created/verified
2025-08-04 08:00:42 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 08:00:42 - __main__ - INFO - Topic memory status table created/verified
2025-08-04 08:00:42 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 08:00:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:00:42 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:00:42 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:00:42 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:00:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:00:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:00:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:00:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:00:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:00:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:00:58 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:00:58 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:00:58 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 08:00:58 - api.routes.ai.training - INFO - Parsed cached exercises for user testuser2: {'lessonId': 'food_ basics', 'title': 'Building confidence in basic sentence structures and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ Kaffee.', 'options': ['trinkst', 'trinkt', 'trinke', 'trinken'], 'correctAnswer': 'trinkst'}], 'feedbackPrompt': 'Great job! You are improving your food vocabulary and basic sentence structures.', 'id': 'blk0001', 'username': 'testuser2', 'created_at': '2025-08-04T07:44:55.843932'}
2025-08-04 08:00:58 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 08:00:58 - api.routes.ai.training - INFO - Found cached exercises for user testuser2
2025-08-04 08:01:00 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 08:01:00 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 08:01:00 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 08:01:00 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 08:01:00 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block blk0001
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 1 answers for user: testuser2
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block blk0001
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:01:00 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 1 answers
2025-08-04 08:01:00 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:01:00 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:01:00 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:01:00 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:01:00 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-04 08:01:00 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]}
2025-08-04 08:01:00 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}, {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]})
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 08:01:00 - core.database.connection - ERROR - Database execute_query error: near "block_id": syntax error
2025-08-04 08:01:00 - core.database.connection - ERROR - Query: UPDATE ai_exercise_results SET block_id = ?, username = ?, results = ?, summary = ?, ai_feedback = ?, created_at = ? block_id = ? AND username = ?
2025-08-04 08:01:00 - core.database.connection - ERROR - Params: ('blk0001', 'testuser2', '{"ex1": {"correct": false, "feedback": "Try again. The correct answer is \'ein\'.", "explanation": "The correct answer is \'ein\'. Your answer was \'test\'.", "alternatives": ["Ein"], "user_answer": "test", "correct_answer": "ein"}, "ex2": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}, "ex3": {"correct": false, "feedback": "No answer provided", "explanation": "", "alternatives": []}}', '{"total": 3, "correct": 0, "incorrect": 3, "accuracy": 0.0}', '{"status": "completed", "message": "Evaluation completed successfully"}', '2025-08-04T08:01:00.310305', 'blk0001', 'testuser2')
2025-08-04 08:01:00 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-04 08:01:00 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:01:00 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:01:05 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 08:01:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:01:54 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:01:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:01:54 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:01:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:02:02 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:02:02 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:02:02 - api.routes.ai.training - INFO - User testuser2 has no answers, checking cached exercises
2025-08-04 08:02:02 - api.routes.ai.training - INFO - Parsed cached exercises for user testuser2: {'lessonId': 'food_ basics', 'title': 'Building confidence in basic sentence structures and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'eine', 'einen', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ Kaffee.', 'options': ['trinkst', 'trinkt', 'trinke', 'trinken'], 'correctAnswer': 'trinkst'}], 'feedbackPrompt': 'Great job! You are improving your food vocabulary and basic sentence structures.', 'id': 'blk0001', 'username': 'testuser2', 'created_at': '2025-08-04T07:44:55.843932'}
2025-08-04 08:02:02 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 08:02:02 - api.routes.ai.training - INFO - Found cached exercises for user testuser2
2025-08-04 08:02:04 - api.routes.ai.training - INFO - User testuser2 submitting training exercise
2025-08-04 08:02:04 - api.routes.ai.training - INFO - Database row for user testuser2: {'exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}', 'next_exercises': '{"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}'}
2025-08-04 08:02:04 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 08:02:04 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "food_ basics", "title": "Building confidence in basic sentence structures and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich esse _____ Brot.", "options": ["ein", "eine", "einen", "einem"], "correctAnswer": "ein"}, {"id": "ex2", "type": "translation", "question": "I drink water.", "correctAnswer": "Ich trinke Wasser."}, {"id": "ex3", "type": "gap-fill", "question": "Du _____ Kaffee.", "options": ["trinkst", "trinkt", "trinke", "trinken"], "correctAnswer": "trinkst"}], "feedbackPrompt": "Great job! You are improving your food vocabulary and basic sentence structures.", "id": "blk0001", "username": "testuser2", "created_at": "2025-08-04T07:44:55.843932"}
2025-08-04 08:02:04 - api.routes.ai.training - INFO - Found exercises for user testuser2
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - User testuser2 submitting exercise block blk0001
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 1 answers for user: testuser2
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 08:02:04 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user testuser2, block blk0001
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 1 answers
2025-08-04 08:02:04 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:02:04 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:02:04 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:02:04 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:02:04 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}
2025-08-04 08:02:04 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]}
2025-08-04 08:02:04 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'test'.", 'alternatives': ['Ein'], 'user_answer': 'test', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}, 'ex3': {'correct': False, 'feedback': 'No answer provided', 'explanation': '', 'alternatives': []}}, {'total': 3, 'correct': 0, 'incorrect': 1, 'skipped': 2, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'test', 'correct_answer': 'ein'}]})
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 08:02:04 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-04 08:02:04 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:02:04 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:02:18 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 08:02:37 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 08:03:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:03:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:03:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:03:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:03:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:03:16 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Parsed cached exercises for user test4: {'lessonId': 'A1_food_1', 'title': 'Building confidence in basic phrases and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'feedbackPrompt': 'Great job!', 'id': 'blk0001', 'username': 'test4', 'created_at': '2025-08-04T07:52:19.011341'}
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:03:16 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Parsed cached exercises for user test4: {'lessonId': 'A1_food_1', 'title': 'Building confidence in basic phrases and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'feedbackPrompt': 'Great job!', 'id': 'blk0001', 'username': 'test4', 'created_at': '2025-08-04T07:52:19.011341'}
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 08:03:16 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-04 08:03:23 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 08:03:23 - api.routes.ai.training - INFO - Database row for user test4: {'exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}', 'next_exercises': '{"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \\u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}'}
2025-08-04 08:03:23 - api.routes.ai.training - INFO - Exercises field: {"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}
2025-08-04 08:03:23 - api.routes.ai.training - INFO - Next exercises field: {"lessonId": "A1_food_1", "title": "Building confidence in basic phrases and food vocabulary in the context of Food", "level": 1, "topic": "food", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ eine Pizza.", "options": ["esse", "isst", "essen", "i\u00dft"], "correctAnswer": "esse"}, {"id": "ex2", "type": "translation", "question": "I like to eat apples.", "correctAnswer": "Ich esse gern \u00c4pfel."}, {"id": "ex3", "type": "gap-fill", "question": "Das _____ ein Brot.", "options": ["ist", "sind", "bin", "bist"], "correctAnswer": "ist"}], "feedbackPrompt": "Great job!", "id": "blk0001", "username": "test4", "created_at": "2025-08-04T07:52:19.011341"}
2025-08-04 08:03:23 - api.routes.ai.training - INFO - Found exercises for user test4
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0001
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:03:23 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0001
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0001
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0001
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 08:03:23 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:03:23 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:03:23 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:03:23 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:03:23 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse gern Äpfel.'.", 'explanation': "The correct answer is 'Ich esse gern Äpfel.'. Your answer was 'f'.", 'alternatives': ['Ich esse gern Äpfel', 'ich esse gern äpfel.'], 'user_answer': 'f', 'correct_answer': 'Ich esse gern Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}
2025-08-04 08:03:23 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I like to eat apples.', 'your_answer': 'f', 'correct_answer': 'Ich esse gern Äpfel.'}, {'question': 'Das _____ ein Brot.', 'your_answer': 'bin', 'correct_answer': 'ist'}]}
2025-08-04 08:03:23 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse gern Äpfel.'.", 'explanation': "The correct answer is 'Ich esse gern Äpfel.'. Your answer was 'f'.", 'alternatives': ['Ich esse gern Äpfel', 'ich esse gern äpfel.'], 'user_answer': 'f', 'correct_answer': 'Ich esse gern Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ eine Pizza.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'I like to eat apples.', 'your_answer': 'f', 'correct_answer': 'Ich esse gern Äpfel.'}, {'question': 'Das _____ ein Brot.', 'your_answer': 'bin', 'correct_answer': 'ist'}]})
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0001
2025-08-04 08:03:23 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0001
2025-08-04 08:03:23 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:03:23 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:03:25 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:03:25 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 08:03:25 - api.routes.ai.training - INFO - User test4 has answers, checking cached next exercises
2025-08-04 08:03:25 - api.routes.ai.training - INFO - Found cached next exercises for user test4
2025-08-04 08:03:25 - api.routes.ai.training - INFO - Successfully loaded cached next exercises for user test4
2025-08-04 08:03:26 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0001
2025-08-04 08:03:30 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0001
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:04:23 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Parsed cached exercises for user test4: {'lessonId': 'A1_food_1', 'title': 'Building confidence in basic phrases and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'feedbackPrompt': 'Great job!', 'id': 'blk0001', 'username': 'test4', 'created_at': '2025-08-04T07:52:19.011341'}
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:04:23 - api.routes.ai.training - INFO - User test4 has no answers, checking cached exercises
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Parsed cached exercises for user test4: {'lessonId': 'A1_food_1', 'title': 'Building confidence in basic phrases and food vocabulary in the context of Food', 'level': 1, 'topic': 'food', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like to eat apples.', 'correctAnswer': 'Ich esse gern Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Das _____ ein Brot.', 'options': ['ist', 'sind', 'bin', 'bist'], 'correctAnswer': 'ist'}], 'feedbackPrompt': 'Great job!', 'id': 'blk0001', 'username': 'test4', 'created_at': '2025-08-04T07:52:19.011341'}
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Cached exercises keys: ['lessonId', 'title', 'level', 'topic', 'exercises', 'feedbackPrompt', 'id', 'username', 'created_at']
2025-08-04 08:04:23 - api.routes.ai.training - INFO - Found cached exercises for user test4
2025-08-04 08:05:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:05:52 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:05:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:05:52 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:05:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:06:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:06:04 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:06:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:06:04 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:06:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:06:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:06:17 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:06:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:06:17 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:06:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:06:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:06:33 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:06:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:06:33 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:06:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:06:43 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:06:43 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:06:43 - api.routes.ai.training - INFO - User testuser2 has no answers, generating fresh exercises
2025-08-04 08:06:43 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 08:06:43 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 08:06:43 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 08:06:43 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 08:06:53 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 08:06:53 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 08:06:53 - core.database.connection - ERROR - Query: SELECT MAX(CAST(SUBSTR(id, 4) AS INTEGER)) as max_id FROM ai_exercise_blocks WHERE id LIKE 'blk%'
2025-08-04 08:06:53 - core.database.connection - ERROR - Params: ()
2025-08-04 08:06:53 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 08:06:53 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_blocks (lessonId, title, level, topic, exercises, feedbackPrompt, id, username, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:06:53 - core.database.connection - ERROR - Params: ('A1_food_1', 'Building confidence in basic sentences and food vocabulary in the context of Food', 1, 'food', [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich esse _____ Brot.', 'options': ['ein', 'einen', 'eines', 'einem'], 'correctAnswer': 'ein'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like apples.', 'correctAnswer': 'Ich mag Äpfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Wir trinken _____ Milch.', 'options': ['die', 'der', 'das', 'eine'], 'correctAnswer': 'die'}], "Great job! You're improving your food vocabulary and basic sentence structure.", 'blk0001', 'testuser2', '2025-08-04T08:06:53.475631')
2025-08-04 08:06:53 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 08:06:53 - core.database.connection - ERROR - Database execute_query error: near "username": syntax error
2025-08-04 08:06:53 - core.database.connection - ERROR - Query: DELETE FROM exercise_history username = ? AND id NOT IN (?,?,?)
2025-08-04 08:06:53 - core.database.connection - ERROR - Params: ('testuser2', 6, 5, 4)
2025-08-04 08:06:53 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 08:06:53 - api.routes.ai.training - INFO - Generated fresh exercises for user testuser2
2025-08-04 08:06:53 - api.routes.ai.training - INFO - Returning fresh exercises for user testuser2
2025-08-04 08:06:58 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:06:58 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:06:58 - api.routes.ai.training - INFO - User testuser2 has no answers, generating fresh exercises
2025-08-04 08:06:58 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 08:06:58 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 08:06:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 08:06:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 08:07:04 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 08:07:04 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 08:07:04 - core.database.connection - ERROR - Query: SELECT MAX(CAST(SUBSTR(id, 4) AS INTEGER)) as max_id FROM ai_exercise_blocks WHERE id LIKE 'blk%'
2025-08-04 08:07:04 - core.database.connection - ERROR - Params: ()
2025-08-04 08:07:04 - core.database.connection - ERROR - Database execute_query error: no such table: ai_exercise_blocks
2025-08-04 08:07:04 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_blocks (lessonId, title, level, topic, exercises, feedbackPrompt, id, username, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:07:04 - core.database.connection - ERROR - Params: ('A1_Family_Practice', 'Building confidence in present tense and nominative case in the context of Family', 1, 'family', [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Mein Vater _____ ein Auto.', 'options': ['hat', 'ist', 'fährt', 'macht'], 'correctAnswer': 'fährt'}, {'id': 'ex2', 'type': 'translation', 'question': 'My mother cooks dinner.', 'correctAnswer': 'Meine Mutter kocht das Abendessen.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Meine Schwester _____ in der Schule.', 'options': ['liest', 'spielt', 'schreibt', 'isst'], 'correctAnswer': 'liest'}], "Great job! You're improving your family vocabulary and present tense skills.", 'blk0001', 'testuser2', '2025-08-04T08:07:04.662675')
2025-08-04 08:07:04 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 08:07:04 - core.database.connection - ERROR - Database execute_query error: near "username": syntax error
2025-08-04 08:07:04 - core.database.connection - ERROR - Query: DELETE FROM exercise_history username = ? AND id NOT IN (?,?,?,?,?,?)
2025-08-04 08:07:04 - core.database.connection - ERROR - Params: ('testuser2', 9, 8, 7, 6, 5, 4)
2025-08-04 08:07:04 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 08:07:04 - api.routes.ai.training - INFO - Generated fresh exercises for user testuser2
2025-08-04 08:07:04 - api.routes.ai.training - INFO - Returning fresh exercises for user testuser2
2025-08-04 08:07:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:07:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 08:07:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 08:07:35 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 08:07:35 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 08:07:35 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 08:07:35 - __main__ - INFO - ✅ Database connection established
2025-08-04 08:07:35 - __main__ - INFO - Results table created/verified
2025-08-04 08:07:35 - __main__ - INFO - Topic memory table created/verified
2025-08-04 08:07:35 - __main__ - INFO - Sessions table created/verified
2025-08-04 08:07:35 - __main__ - INFO - User progress table created/verified
2025-08-04 08:07:35 - __main__ - INFO - User settings table created/verified
2025-08-04 08:07:35 - __main__ - INFO - Support requests table created/verified
2025-08-04 08:07:35 - __main__ - INFO - AI user data table created/verified
2025-08-04 08:07:35 - __main__ - INFO - Exercise history table created/verified
2025-08-04 08:07:35 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 08:07:35 - __main__ - INFO - Topic memory status table created/verified
2025-08-04 08:07:35 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-04 08:07:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 08:07:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:07:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:07:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:07:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:07:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:07:50 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:07:50 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:07:50 - api.routes.ai.training - INFO - User testuser2 has no answers, generating fresh exercises
2025-08-04 08:07:50 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 08:07:50 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 08:07:50 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 08:07:50 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 08:07:58 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 08:07:58 - core.database.connection - ERROR - Database execute_query error: Error binding parameter 5: type 'list' is not supported
2025-08-04 08:07:58 - core.database.connection - ERROR - Query: INSERT INTO ai_exercise_blocks (lessonId, title, level, topic, exercises, feedbackPrompt, id, username, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:07:58 - core.database.connection - ERROR - Params: ('A1_Food_PresentTense', 'Building confidence in present tense and basic food vocabulary', 1, 'food', [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Brot.', 'options': ['esse', 'isst', 'essen', 'isst'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I drink water.', 'correctAnswer': 'Ich trinke Wasser.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ eine Banane.', 'options': ['isst', 'esse', 'essen', 'trinkst'], 'correctAnswer': 'isst'}], 'Great job! You are improving your present tense and food vocabulary.', 'blk0001', 'testuser2', '2025-08-04T08:07:58.597437')
2025-08-04 08:07:58 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 08:07:58 - core.database.connection - ERROR - Database execute_query error: near "username": syntax error
2025-08-04 08:07:58 - core.database.connection - ERROR - Query: DELETE FROM exercise_history username = ? AND id NOT IN (?,?,?,?,?,?,?,?,?)
2025-08-04 08:07:58 - core.database.connection - ERROR - Params: ('testuser2', 12, 11, 10, 9, 8, 7, 6, 5, 4)
2025-08-04 08:07:58 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 08:07:58 - api.routes.ai.training - INFO - Generated fresh exercises for user testuser2
2025-08-04 08:07:58 - api.routes.ai.training - INFO - Returning fresh exercises for user testuser2
2025-08-04 08:08:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:08:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:08:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:08:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:08:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:08:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:08:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:08:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:08:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:08:35 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:08:41 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:08:41 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:08:41 - api.routes.ai.training - INFO - User testuser2 has no answers, generating fresh exercises
2025-08-04 08:08:41 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 08:08:41 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 08:08:41 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 08:08:41 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 08:08:47 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 08:08:47 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: testuser2
2025-08-04 08:08:47 - features.ai.generation.exercise_creation - ERROR - Error creating AI block for user testuser2: 'str' object has no attribute 'get'
2025-08-04 08:08:47 - api.routes.ai.training - ERROR - Failed to generate training exercises for user testuser2: Error creating AI block with variation: 'str' object has no attribute 'get'
2025-08-04 08:09:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:09:05 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:09:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:09:05 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:09:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:09:11 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:09:11 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:09:11 - api.routes.ai.training - INFO - User testuser2 has no answers, generating fresh exercises
2025-08-04 08:09:11 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 08:09:11 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 08:09:11 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 08:09:11 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 08:09:40 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 08:09:40 - features.ai.generation.exercise_creation - INFO - Created AI block blk0002 for user: testuser2
2025-08-04 08:09:40 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 08:09:40 - api.routes.ai.training - INFO - Generated fresh exercises for user testuser2
2025-08-04 08:09:40 - api.routes.ai.training - INFO - Returning fresh exercises for user testuser2
2025-08-04 08:09:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:10:00 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:10:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:10:00 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:10:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:10:08 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:10:08 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:10:08 - api.routes.ai.training - INFO - User testuser2 has no answers, generating fresh exercises
2025-08-04 08:10:08 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 08:10:08 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 08:10:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 08:10:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 08:10:21 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 08:10:21 - features.ai.generation.exercise_creation - INFO - Created AI block blk0003 for user: testuser2
2025-08-04 08:10:21 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 08:10:21 - api.routes.ai.training - INFO - Generated fresh exercises for user testuser2
2025-08-04 08:10:21 - api.routes.ai.training - INFO - Returning fresh exercises for user testuser2
2025-08-04 08:10:29 - api.routes.ai.training - INFO - Training exercises request from user: testuser2
2025-08-04 08:10:29 - api.routes.ai.training - INFO - Training request data for user testuser2: answers_count=0
2025-08-04 08:10:29 - api.routes.ai.training - INFO - User testuser2 has no answers, generating fresh exercises
2025-08-04 08:10:29 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: testuser2
2025-08-04 08:10:29 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: testuser2
2025-08-04 08:10:29 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: testuser2
2025-08-04 08:10:29 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: testuser2
2025-08-04 08:10:35 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: testuser2
2025-08-04 08:10:35 - features.ai.generation.exercise_creation - INFO - Created AI block blk0004 for user: testuser2
2025-08-04 08:10:35 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: testuser2
2025-08-04 08:10:35 - api.routes.ai.training - INFO - Generated fresh exercises for user testuser2
2025-08-04 08:10:35 - api.routes.ai.training - INFO - Returning fresh exercises for user testuser2
2025-08-04 08:10:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:10:51 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:10:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:10:51 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:10:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:11:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:11:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:11:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:11:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:11:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:12:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:12:00 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:12:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:12:00 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:12:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:12:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:12:16 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:12:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:12:16 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:12:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:12:23 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user testuser2
2025-08-04 08:12:23 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 12 tables for user testuser2
2025-08-04 08:12:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:12:46 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:12:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:12:46 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:12:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:13:04 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 08:13:04 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 12 tables for user test4
2025-08-04 08:13:12 - api.routes.ai.training - ERROR - Error getting training exercises: ??? Unknown Error: None
2025-08-04 08:15:12 - api.routes.ai.training - ERROR - Error getting training exercises: ??? Unknown Error: None
2025-08-04 08:15:58 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 08:15:58 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-04 08:16:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:16:08 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:16:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:16:08 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:16:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:16:26 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 08:16:27 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-04 08:17:00 - features.auth.user_accounts - INFO - Creating new user account for test5
2025-08-04 08:17:00 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-04 08:17:00 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-04 08:17:00 - core.database.connection - ERROR - Params: ('test5', 'personal pronouns')
2025-08-04 08:17:00 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-04 08:17:00 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:17:00 - core.database.connection - ERROR - Params: ('test5', 'personal pronouns', 'initial', 'signup', None, 2.5, 0, '2025-08-04T08:17:00.614467', 0, None, 0, 0)
2025-08-04 08:17:00 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-04 08:17:00 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-04 08:17:00 - core.database.connection - ERROR - Params: ('test5', 'sein')
2025-08-04 08:17:00 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-04 08:17:00 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:17:00 - core.database.connection - ERROR - Params: ('test5', 'sein', 'initial', 'signup', None, 2.5, 0, '2025-08-04T08:17:00.614467', 0, None, 0, 0)
2025-08-04 08:17:00 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-04 08:17:00 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-04 08:17:00 - core.database.connection - ERROR - Params: ('test5', 'haben')
2025-08-04 08:17:00 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-04 08:17:00 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:17:00 - core.database.connection - ERROR - Params: ('test5', 'haben', 'initial', 'signup', None, 2.5, 0, '2025-08-04T08:17:00.614467', 0, None, 0, 0)
2025-08-04 08:17:00 - features.auth.user_accounts - INFO - Initialized topic memory for user test5
2025-08-04 08:17:00 - features.auth.user_accounts - INFO - Successfully created user account for test5
2025-08-04 08:17:04 - features.auth.authentication - INFO - Attempting authentication for user test5
2025-08-04 08:17:04 - core.session.session_manager - INFO - Created session for user test5
2025-08-04 08:17:04 - features.auth.authentication - INFO - Authentication successful for user test5
2025-08-04 08:17:08 - api.routes.ai.training - INFO - Training exercises request from user: test5
2025-08-04 08:17:08 - api.routes.ai.training - INFO - Training request data for user test5: answers_count=0
2025-08-04 08:17:08 - api.routes.ai.training - INFO - User test5 has no answers, generating fresh exercises
2025-08-04 08:17:08 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test5
2025-08-04 08:17:08 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test5
2025-08-04 08:17:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test5
2025-08-04 08:17:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test5
2025-08-04 08:17:14 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test5
2025-08-04 08:17:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test5
2025-08-04 08:17:14 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test5
2025-08-04 08:17:14 - api.routes.ai.training - INFO - Generated fresh exercises for user test5
2025-08-04 08:17:14 - api.routes.ai.training - INFO - Returning fresh exercises for user test5
2025-08-04 08:17:22 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test5
2025-08-04 08:17:22 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 12 tables for user test5
2025-08-04 08:17:28 - features.auth.authentication - INFO - Attempting authentication for user test5
2025-08-04 08:17:28 - core.session.session_manager - INFO - Created session for user test5
2025-08-04 08:17:28 - features.auth.authentication - INFO - Authentication successful for user test5
2025-08-04 08:17:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:17:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:17:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:17:37 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:17:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:18:25 - api.routes.ai.training - ERROR - Error getting training exercises: ??? Unknown Error: None
2025-08-04 08:18:32 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 08:18:32 - core.session.session_manager - INFO - Created session for user test4
2025-08-04 08:18:32 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-04 08:18:49 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:18:49 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:18:49 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:18:49 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:18:49 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:18:49 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:18:49 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:18:55 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:18:55 - features.ai.generation.exercise_creation - INFO - Created AI block blk0001 for user: test4
2025-08-04 08:18:55 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:18:55 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:18:55 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:18:55 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:18:55 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:18:55 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:18:55 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:18:55 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:18:55 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:18:55 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:19:01 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:19:01 - features.ai.generation.exercise_creation - INFO - Created AI block blk0002 for user: test4
2025-08-04 08:19:01 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:19:01 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:19:01 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:19:07 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 08:19:07 - api.routes.ai.training - INFO - Database row for user test4: None
2025-08-04 08:19:07 - api.routes.ai.training - INFO - No exercise data found for user test4
2025-08-04 08:19:08 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:19:08 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 08:19:08 - api.routes.ai.training - INFO - User test4 has answers, generating fresh exercises
2025-08-04 08:19:08 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:19:08 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:19:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:19:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:19:14 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:19:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0003 for user: test4
2025-08-04 08:19:14 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:19:14 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:19:14 - api.routes.ai.training - INFO - Returning fresh training exercises for user test4
2025-08-04 08:19:49 - api.routes.ai.feedback - INFO - Generating AI feedback for user test5
2025-08-04 08:19:49 - core.services.exercise_service - INFO - Starting AI evaluation of 0 exercises in feedback mode
2025-08-04 08:19:49 - core.services.exercise_service - INFO - Completed AI evaluation with 0 results
2025-08-04 08:20:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:20:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:20:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:20:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:20:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:20:28 - api.routes.ai.feedback - INFO - Generating AI feedback for user test5
2025-08-04 08:20:28 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:20:28 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:20:34 - api.routes.ai.feedback - INFO - Successfully generated AI feedback for user test5
2025-08-04 08:20:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:20:58 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:20:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:20:58 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:20:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:20:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:20:59 - src.external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:20:59 - src.external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:20:59 - src.external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:20:59 - src.external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:21:11 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:21:11 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:21:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:21:11 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:21:12 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:21:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:21:12 - src.external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:21:12 - src.external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:21:12 - src.external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:21:12 - src.external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:21:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:21:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:21:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:21:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:21:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:21:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:21:20 - src.external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:21:20 - src.external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:21:20 - src.external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:21:20 - src.external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:21:45 - api.routes.ai.training - INFO - Training exercises request from user: test5
2025-08-04 08:21:45 - api.routes.ai.training - INFO - Training request data for user test5: answers_count=0
2025-08-04 08:21:45 - api.routes.ai.training - INFO - User test5 has no answers, generating fresh exercises
2025-08-04 08:21:45 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test5
2025-08-04 08:21:45 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test5
2025-08-04 08:21:45 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test5
2025-08-04 08:21:45 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test5
2025-08-04 08:21:51 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test5
2025-08-04 08:21:51 - features.ai.generation.exercise_creation - INFO - Created AI block blk0004 for user: test5
2025-08-04 08:21:51 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test5
2025-08-04 08:21:51 - api.routes.ai.training - INFO - Generated fresh exercises for user test5
2025-08-04 08:21:51 - api.routes.ai.training - INFO - Returning fresh exercises for user test5
2025-08-04 08:21:56 - api.routes.ai.feedback - INFO - Generating AI feedback for user test5
2025-08-04 08:21:56 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:21:56 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:22:01 - api.routes.ai.feedback - INFO - Successfully generated AI feedback for user test5
2025-08-04 08:22:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:22:11 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:22:11 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:22:11 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:22:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:23:37 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 08:23:37 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 12 tables for user test4
2025-08-04 08:23:39 - api.routes.ai.training - ERROR - Error getting training exercises: ??? Unknown Error: None
2025-08-04 08:24:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:24:41 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:24:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:24:41 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:24:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:24:48 - api.routes.ai.feedback - INFO - Generating AI feedback for user test5
2025-08-04 08:24:48 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:24:48 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:24:53 - api.routes.ai.feedback - INFO - Successfully generated AI feedback for user test5
2025-08-04 08:25:05 - api.routes.ai.training - INFO - User test5 submitting training exercise
2025-08-04 08:25:05 - api.routes.ai.training - INFO - Database row for user test5: None
2025-08-04 08:25:05 - api.routes.ai.training - INFO - No exercise data found for user test5
2025-08-04 08:25:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:25:31 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:25:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:25:31 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:25:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:25:46 - api.routes.ai.training - INFO - User test5 submitting training exercise
2025-08-04 08:25:47 - api.routes.ai.exercise - INFO - User test5 submitting exercise block blk0004
2025-08-04 08:25:47 - api.routes.ai.exercise - ERROR - Parse submission data error for user test5: blk0004
2025-08-04 08:27:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:27:15 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:27:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:27:15 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:27:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:27:23 - api.routes.ai.training - INFO - User test5 submitting training exercise
2025-08-04 08:27:23 - api.routes.ai.exercise - INFO - User test5 submitting exercise block blk0004
2025-08-04 08:27:23 - api.routes.ai.exercise - ERROR - Parse submission data error for user test5: blk0004
2025-08-04 08:27:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:27:46 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:27:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:27:46 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:27:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:27:54 - api.routes.ai.training - INFO - User test5 submitting training exercise
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - User test5 submitting exercise block blk0004
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test5
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test5, block blk0004
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0004
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:27:54 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0004
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 08:27:54 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:27:54 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:27:54 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:27:54 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:27:54 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-04 08:27:54 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-04 08:27:54 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke Wasser.', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0004
2025-08-04 08:27:54 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0004
2025-08-04 08:27:54 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:27:54 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:27:57 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0004
2025-08-04 08:28:00 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0004
2025-08-04 08:28:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:28:14 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:28:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:28:14 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:28:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:30:12 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 08:30:12 - core.session.session_manager - INFO - Created session for user test4
2025-08-04 08:30:12 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-04 08:30:25 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 08:30:25 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 12 tables for user test4
2025-08-04 08:30:27 - api.routes.ai.training - ERROR - Error getting training exercises: ??? Unknown Error: None
2025-08-04 08:31:58 - api.routes.ai.training - INFO - Training exercises request from user: test5
2025-08-04 08:31:58 - api.routes.ai.training - INFO - Training request data for user test5: answers_count=0
2025-08-04 08:31:58 - api.routes.ai.training - INFO - User test5 has no answers, generating fresh exercises
2025-08-04 08:31:58 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test5
2025-08-04 08:31:58 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test5
2025-08-04 08:31:58 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test5
2025-08-04 08:31:58 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test5
2025-08-04 08:32:05 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test5
2025-08-04 08:32:05 - features.ai.generation.exercise_creation - INFO - Created AI block blk0005 for user: test5
2025-08-04 08:32:05 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test5
2025-08-04 08:32:05 - api.routes.ai.training - INFO - Generated fresh exercises for user test5
2025-08-04 08:32:05 - api.routes.ai.training - INFO - Returning fresh exercises for user test5
2025-08-04 08:32:11 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 08:32:11 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-04 08:32:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:32:27 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:32:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:32:27 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:32:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:32:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:32:38 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:32:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:32:38 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:32:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:32:46 - api.routes.settings - ERROR - Error in debug delete user data route: ??? Unknown Error: None
2025-08-04 08:32:57 - api.routes.ai.training - ERROR - Error getting training exercises: ??? Unknown Error: None
2025-08-04 08:33:13 - features.auth.authentication - INFO - Attempting authentication for user test5
2025-08-04 08:33:14 - core.session.session_manager - INFO - Created session for user test5
2025-08-04 08:33:14 - features.auth.authentication - INFO - Authentication successful for user test5
2025-08-04 08:33:19 - api.routes.ai.training - INFO - Training exercises request from user: test5
2025-08-04 08:33:19 - api.routes.ai.training - INFO - Training request data for user test5: answers_count=0
2025-08-04 08:33:19 - api.routes.ai.training - INFO - User test5 has no answers, generating fresh exercises
2025-08-04 08:33:19 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test5
2025-08-04 08:33:19 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test5
2025-08-04 08:33:19 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test5
2025-08-04 08:33:19 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test5
2025-08-04 08:33:25 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test5
2025-08-04 08:33:25 - features.ai.generation.exercise_creation - INFO - Created AI block blk0006 for user: test5
2025-08-04 08:33:25 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test5
2025-08-04 08:33:25 - api.routes.ai.training - INFO - Generated fresh exercises for user test5
2025-08-04 08:33:25 - api.routes.ai.training - INFO - Returning fresh exercises for user test5
2025-08-04 08:33:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:33:39 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:33:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:33:39 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:33:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 08:34:58 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 08:34:58 - core.session.session_manager - INFO - Created session for user test4
2025-08-04 08:34:58 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-04 08:35:05 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 08:35:05 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-04 08:35:12 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:35:12 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:35:12 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:35:12 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:35:12 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:35:12 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:35:12 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:35:18 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:35:18 - features.ai.generation.exercise_creation - INFO - Created AI block blk0007 for user: test4
2025-08-04 08:35:18 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:35:18 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:35:18 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:35:18 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:35:18 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:35:18 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:35:18 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:35:18 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:35:18 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:35:18 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:35:28 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 08:35:28 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:35:28 - features.ai.generation.exercise_creation - INFO - Created AI block blk0008 for user: test4
2025-08-04 08:35:28 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:35:28 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:35:28 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:35:29 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:35:29 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 08:35:29 - api.routes.ai.training - INFO - User test4 has answers, generating fresh exercises
2025-08-04 08:35:29 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:35:29 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:35:29 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:35:29 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:35:36 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:35:36 - features.ai.generation.exercise_creation - INFO - Created AI block blk0009 for user: test4
2025-08-04 08:35:36 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:35:36 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:35:36 - api.routes.ai.training - INFO - Returning fresh training exercises for user test4
2025-08-04 08:37:16 - api.routes.ai.training - INFO - Training exercises request from user: test5
2025-08-04 08:37:16 - api.routes.ai.training - INFO - Training request data for user test5: answers_count=0
2025-08-04 08:37:16 - api.routes.ai.training - INFO - User test5 has no answers, generating fresh exercises
2025-08-04 08:37:16 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test5
2025-08-04 08:37:16 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test5
2025-08-04 08:37:16 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test5
2025-08-04 08:37:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test5
2025-08-04 08:37:22 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test5
2025-08-04 08:37:22 - features.ai.generation.exercise_creation - INFO - Created AI block blk0010 for user: test5
2025-08-04 08:37:22 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test5
2025-08-04 08:37:22 - api.routes.ai.training - INFO - Generated fresh exercises for user test5
2025-08-04 08:37:22 - api.routes.ai.training - INFO - Returning fresh exercises for user test5
2025-08-04 08:37:31 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 08:37:31 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-04 08:37:49 - features.auth.user_accounts - INFO - Creating new user account for test4_new
2025-08-04 08:37:49 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-04 08:37:49 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-04 08:37:49 - core.database.connection - ERROR - Params: ('test4_new', 'personal pronouns')
2025-08-04 08:37:49 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-04 08:37:49 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:37:49 - core.database.connection - ERROR - Params: ('test4_new', 'personal pronouns', 'initial', 'signup', None, 2.5, 0, '2025-08-04T08:37:49.695386', 0, None, 0, 0)
2025-08-04 08:37:49 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-04 08:37:49 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-04 08:37:49 - core.database.connection - ERROR - Params: ('test4_new', 'sein')
2025-08-04 08:37:49 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-04 08:37:49 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:37:49 - core.database.connection - ERROR - Params: ('test4_new', 'sein', 'initial', 'signup', None, 2.5, 0, '2025-08-04T08:37:49.695386', 0, None, 0, 0)
2025-08-04 08:37:49 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-04 08:37:49 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-04 08:37:49 - core.database.connection - ERROR - Params: ('test4_new', 'haben')
2025-08-04 08:37:49 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-04 08:37:49 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04 08:37:49 - core.database.connection - ERROR - Params: ('test4_new', 'haben', 'initial', 'signup', None, 2.5, 0, '2025-08-04T08:37:49.695386', 0, None, 0, 0)
2025-08-04 08:37:49 - features.auth.user_accounts - INFO - Initialized topic memory for user test4_new
2025-08-04 08:37:49 - features.auth.user_accounts - INFO - Successfully created user account for test4_new
2025-08-04 08:37:54 - features.auth.authentication - INFO - Attempting authentication for user test4_new
2025-08-04 08:37:54 - core.session.session_manager - INFO - Created session for user test4_new
2025-08-04 08:37:54 - features.auth.authentication - INFO - Authentication successful for user test4_new
2025-08-04 08:38:00 - api.routes.ai.training - INFO - Training exercises request from user: test4_new
2025-08-04 08:38:00 - api.routes.ai.training - INFO - Training request data for user test4_new: answers_count=0
2025-08-04 08:38:00 - api.routes.ai.training - INFO - User test4_new has no answers, generating fresh exercises
2025-08-04 08:38:00 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4_new
2025-08-04 08:38:00 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4_new
2025-08-04 08:38:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4_new
2025-08-04 08:38:00 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4_new
2025-08-04 08:38:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4_new
2025-08-04 08:38:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0011 for user: test4_new
2025-08-04 08:38:08 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4_new
2025-08-04 08:38:08 - api.routes.ai.training - INFO - Generated fresh exercises for user test4_new
2025-08-04 08:38:08 - api.routes.ai.training - INFO - Returning fresh exercises for user test4_new
2025-08-04 08:38:14 - api.routes.ai.training - INFO - User test4_new submitting training exercise
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - User test4_new submitting exercise block blk0011
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4_new
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4_new, block blk0011
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0011
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:38:14 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0011
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 08:38:14 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:38:14 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:38:14 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:38:14 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:38:14 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}
2025-08-04 08:38:14 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-04 08:38:14 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-04 08:38:14 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0011
2025-08-04 08:38:15 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0011
2025-08-04 08:38:15 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:38:15 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:38:18 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0011
2025-08-04 08:38:21 - api.routes.ai.feedback - INFO - Generating AI feedback for user test4_new
2025-08-04 08:38:21 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:38:21 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:38:26 - api.routes.ai.feedback - INFO - Successfully generated AI feedback for user test4_new
2025-08-04 08:39:00 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:39:00 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:39:00 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:39:00 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:39:00 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:39:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:39:00 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:39:07 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:39:07 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-04 08:39:07 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:39:07 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:39:07 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:39:07 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:39:07 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:39:07 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:39:07 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:39:07 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:39:07 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:39:07 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:39:13 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:39:13 - features.ai.generation.exercise_creation - INFO - Created AI block blk0013 for user: test4
2025-08-04 08:39:13 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:39:13 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:39:13 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:39:14 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 08:39:16 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:39:16 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 08:39:16 - api.routes.ai.training - INFO - User test4 has answers, generating fresh exercises
2025-08-04 08:39:16 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:39:16 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:39:16 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:39:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:39:28 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:39:28 - features.ai.generation.exercise_creation - INFO - Created AI block blk0014 for user: test4
2025-08-04 08:39:28 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:39:28 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:39:28 - api.routes.ai.training - INFO - Returning fresh training exercises for user test4
2025-08-04 08:40:07 - api.routes.ai.training - INFO - User test4_new submitting training exercise
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - User test4_new submitting exercise block blk0011
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4_new
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:40:07 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4_new, block blk0011
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0011
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0011
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 08:40:07 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:40:07 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:40:07 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:40:07 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:40:07 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}
2025-08-04 08:40:07 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-04 08:40:07 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0011
2025-08-04 08:40:07 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0011
2025-08-04 08:40:07 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:40:07 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:40:11 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0011
2025-08-04 08:42:19 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:42:19 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:42:19 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:42:19 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:42:19 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:42:19 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:42:19 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:42:25 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:42:25 - features.ai.generation.exercise_creation - INFO - Created AI block blk0015 for user: test4
2025-08-04 08:42:25 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:42:25 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:42:25 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:42:26 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:42:26 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:42:26 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:42:26 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:42:26 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:42:26 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:42:26 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:42:32 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:42:32 - features.ai.generation.exercise_creation - INFO - Created AI block blk0016 for user: test4
2025-08-04 08:42:32 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:42:32 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:42:32 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:42:54 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:42:54 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:42:54 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:42:54 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:42:54 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:42:54 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:42:54 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:43:00 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:43:00 - features.ai.generation.exercise_creation - INFO - Created AI block blk0017 for user: test4
2025-08-04 08:43:00 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:43:00 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:43:00 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:43:05 - api.routes.ai.training - INFO - User test4_new submitting training exercise
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - User test4_new submitting exercise block blk0011
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4_new
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4_new, block blk0011
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0011
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:43:05 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0011
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 08:43:05 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:43:05 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:43:05 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:43:05 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:43:05 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}
2025-08-04 08:43:05 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-04 08:43:05 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0011
2025-08-04 08:43:05 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0011
2025-08-04 08:43:05 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:43:05 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:43:09 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0011
2025-08-04 08:43:36 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 08:43:36 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-04 08:43:39 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:43:39 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:43:39 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:43:39 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:43:39 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:43:39 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:43:39 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:43:45 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:43:45 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-04 08:43:45 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:43:45 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:43:45 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:43:45 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:43:45 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:43:45 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:43:45 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:43:45 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:43:45 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:43:45 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:43:53 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 08:43:54 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:43:54 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 08:43:54 - api.routes.ai.training - INFO - User test4 has answers, generating fresh exercises
2025-08-04 08:43:54 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:43:54 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:43:54 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:43:54 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:43:58 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:43:58 - features.ai.generation.exercise_creation - INFO - Created AI block blk0013 for user: test4
2025-08-04 08:43:58 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:43:58 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:43:58 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:44:02 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:44:02 - features.ai.generation.exercise_creation - INFO - Created AI block blk0014 for user: test4
2025-08-04 08:44:02 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:44:02 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:44:02 - api.routes.ai.training - INFO - Returning fresh training exercises for user test4
2025-08-04 08:44:32 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:44:32 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:44:32 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:44:32 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:44:32 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:44:32 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:44:32 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:44:38 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:44:38 - features.ai.generation.exercise_creation - INFO - Created AI block blk0015 for user: test4
2025-08-04 08:44:38 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:44:38 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:44:38 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:45:08 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:45:08 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:45:08 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:45:08 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:45:08 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:45:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:45:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:45:14 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:45:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0016 for user: test4
2025-08-04 08:45:14 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:45:14 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:45:14 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - User test4_new submitting exercise block blk0011
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4_new
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - Exercise block from data: topic='None'
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4_new, block blk0011
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0011
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 08:45:16 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0011
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 08:45:16 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 08:45:16 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 08:45:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 08:45:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:45:16 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}
2025-08-04 08:45:16 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-04 08:45:16 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich trinke gerne Milch.', 'correct_answer': 'Ich trinke gerne Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0011
2025-08-04 08:45:16 - features.exercise.exercise_evaluation - INFO - Updated existing results for block blk0011
2025-08-04 08:45:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 08:45:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 08:45:20 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0011
2025-08-04 08:46:07 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:46:07 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:46:07 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:46:07 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:46:07 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:46:07 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:46:07 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:46:13 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:46:13 - features.ai.generation.exercise_creation - INFO - Created AI block blk0017 for user: test4
2025-08-04 08:46:13 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:46:13 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:46:13 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:46:13 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:46:13 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:46:13 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:46:13 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:46:13 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:46:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:46:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:46:19 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:46:19 - features.ai.generation.exercise_creation - INFO - Created AI block blk0018 for user: test4
2025-08-04 08:46:19 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:46:19 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:46:19 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:46:33 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 08:46:33 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-04 08:46:35 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:46:35 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:46:35 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:46:35 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:46:35 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:46:35 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:46:35 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:46:43 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:46:43 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-04 08:46:43 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:46:43 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:46:43 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:46:43 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:46:43 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 08:46:43 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 08:46:43 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:46:43 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:46:43 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:46:43 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:46:49 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:46:49 - features.ai.generation.exercise_creation - INFO - Created AI block blk0013 for user: test4
2025-08-04 08:46:49 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:46:49 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:46:49 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 08:47:14 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 08:47:15 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 08:47:15 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 08:47:15 - api.routes.ai.training - INFO - User test4 has answers, generating fresh exercises
2025-08-04 08:47:15 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 08:47:15 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 08:47:15 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 08:47:16 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 08:47:23 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 08:47:23 - features.ai.generation.exercise_creation - INFO - Created AI block blk0014 for user: test4
2025-08-04 08:47:23 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 08:47:23 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 08:47:23 - api.routes.ai.training - INFO - Returning fresh training exercises for user test4
2025-08-04 08:50:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 08:50:28 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 08:50:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 08:50:28 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 08:50:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 09:03:46 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 09:03:46 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 09:03:46 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 09:03:46 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 09:03:46 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 09:03:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 09:03:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 09:04:15 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 09:04:15 - features.ai.generation.exercise_creation - INFO - Created AI block blk0015 for user: test4
2025-08-04 09:04:15 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 09:04:15 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 09:04:15 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 09:04:15 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 09:04:15 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 09:04:15 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 09:04:15 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 09:04:15 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 09:04:15 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 09:04:15 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 09:04:21 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 09:04:21 - features.ai.generation.exercise_creation - INFO - Created AI block blk0016 for user: test4
2025-08-04 09:04:21 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 09:04:21 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 09:04:21 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 11:07:36 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 11:07:36 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 11:07:36 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 11:07:36 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 11:07:36 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 11:07:36 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 11:07:36 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 11:07:36 - features.ai.generation.exercise_creation - ERROR - Error generating new exercises for user test4: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f527010>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))
2025-08-04 11:07:36 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/socket.py", line 974, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 205, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0xffff7f527010>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f527010>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 88, in send_request
    response = requests.post(
               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f527010>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 129, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 144, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Mistral API request failed: {str(e)}")
shared.exceptions.AIEvaluationError: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f527010>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

2025-08-04 11:07:36 - api.routes.ai.training - ERROR - Failed to generate training exercises for user test4: Error generating new exercises: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f527010>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))
2025-08-04 13:02:13 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 13:02:13 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 13:02:13 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 13:02:13 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 13:02:13 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 13:02:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 13:02:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - INFO - Created AI block blk0017 for user: test4
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 13:02:22 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 13:02:22 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 13:02:22 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 13:02:22 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 13:02:22 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - ERROR - Error generating new exercises for user test4: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f5b0cd0>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))
2025-08-04 13:02:22 - features.ai.generation.exercise_creation - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/socket.py", line 974, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 205, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0xffff7f5b0cd0>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f5b0cd0>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/external/mistral/client.py", line 88, in send_request
    response = requests.post(
               ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f5b0cd0>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/ai/generation/exercise_creation.py", line 129, in generate_new_exercises
    resp = send_prompt(
           ^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 144, in send_prompt
    return send_request(messages, temperature, stream)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/external/mistral/client.py", line 106, in send_request
    raise AIEvaluationError(f"Mistral API request failed: {str(e)}")
shared.exceptions.AIEvaluationError: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f5b0cd0>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))

2025-08-04 13:02:22 - api.routes.ai.training - ERROR - Failed to generate training exercises for user test4: Error generating new exercises: Mistral API request failed: HTTPSConnectionPool(host='api.mistral.ai', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0xffff7f5b0cd0>: Failed to resolve 'api.mistral.ai' ([Errno -2] Name or service not known)"))
2025-08-04 15:14:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:14:41 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 15:14:41 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 15:14:41 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 15:14:41 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 15:14:41 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 15:14:41 - __main__ - INFO - ✅ Database connection established
2025-08-04 15:14:41 - __main__ - INFO - Results table created/verified
2025-08-04 15:14:41 - __main__ - INFO - Topic memory table created/verified
2025-08-04 15:14:41 - __main__ - INFO - Sessions table created/verified
2025-08-04 15:14:41 - __main__ - INFO - User progress table created/verified
2025-08-04 15:14:41 - __main__ - INFO - User settings table created/verified
2025-08-04 15:14:41 - __main__ - INFO - Support requests table created/verified
2025-08-04 15:14:41 - __main__ - INFO - AI user data table created/verified
2025-08-04 15:14:41 - __main__ - INFO - Exercise history table created/verified
2025-08-04 15:14:41 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 15:14:41 - __main__ - INFO - Topic memory status table created/verified
2025-08-04 15:14:41 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-04 15:14:41 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 15:14:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:14:41 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:14:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:14:41 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:14:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:14:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:14:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:14:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:14:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:14:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:14:53 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 15:14:53 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 15:14:53 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 15:14:53 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 15:14:53 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:14:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:14:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:15:01 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 15:15:01 - features.ai.generation.exercise_creation - INFO - Created AI block blk0018 for user: test4
2025-08-04 15:15:01 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 15:15:01 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 15:15:01 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 15:15:01 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 15:15:01 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=0
2025-08-04 15:15:01 - api.routes.ai.training - INFO - User test4 has no answers, generating fresh exercises
2025-08-04 15:15:01 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 15:15:01 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:15:01 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:15:01 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:15:07 - api.routes.ai.training - INFO - User test4 submitting training exercise
2025-08-04 15:15:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 15:15:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0019 for user: test4
2025-08-04 15:15:08 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 15:15:08 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 15:15:08 - api.routes.ai.training - INFO - Returning fresh exercises for user test4
2025-08-04 15:15:09 - api.routes.ai.training - INFO - Training exercises request from user: test4
2025-08-04 15:15:09 - api.routes.ai.training - INFO - Training request data for user test4: answers_count=3
2025-08-04 15:15:09 - api.routes.ai.training - INFO - User test4 has answers, generating fresh exercises
2025-08-04 15:15:09 - features.ai.generation.exercise_creation - INFO - Generating training exercises for user: test4
2025-08-04 15:15:09 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:15:09 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:15:09 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:15:26 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 15:15:26 - features.ai.generation.exercise_creation - INFO - Created AI block blk0020 for user: test4
2025-08-04 15:15:26 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 15:15:26 - api.routes.ai.training - INFO - Generated fresh exercises for user test4
2025-08-04 15:15:26 - api.routes.ai.training - INFO - Returning fresh training exercises for user test4
2025-08-04 15:18:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:18:54 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:18:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:18:54 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:18:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:05 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:05 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:16 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:16 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:21 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:21 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:27 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:27 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:40 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:40 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:47 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:47 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:47 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:19:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:19:58 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:19:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:19:58 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:19:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:20:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:20:07 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:20:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:20:07 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:20:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:20:14 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:20:14 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:20:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:20:14 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:20:15 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:20:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:20:24 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:20:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:20:24 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:20:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:21:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:21:17 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 15:21:17 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 15:21:17 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 15:21:17 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 15:21:17 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 15:21:17 - __main__ - INFO - ✅ Database connection established
2025-08-04 15:21:17 - __main__ - INFO - Results table created/verified
2025-08-04 15:21:17 - __main__ - INFO - Topic memory table created/verified
2025-08-04 15:21:17 - __main__ - INFO - Sessions table created/verified
2025-08-04 15:21:17 - __main__ - INFO - User progress table created/verified
2025-08-04 15:21:17 - __main__ - INFO - User settings table created/verified
2025-08-04 15:21:17 - __main__ - INFO - Support requests table created/verified
2025-08-04 15:21:17 - __main__ - INFO - AI user data table created/verified
2025-08-04 15:21:17 - __main__ - INFO - Exercise history table created/verified
2025-08-04 15:21:17 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 15:21:17 - __main__ - INFO - Topic memory status table created/verified
2025-08-04 15:21:17 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-04 15:21:17 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 15:21:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:21:18 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:21:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:21:18 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:21:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:21:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:21:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:21:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:21:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:21:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:21:38 - api.routes.ai.exercise - ERROR - Error submitting AI exercise: ??? Unknown Error: None
2025-08-04 15:21:38 - api.routes.ai.exercise - ERROR - Exception type: <class 'werkzeug.exceptions.HTTPException'>
2025-08-04 15:21:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:21:53 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:21:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:21:53 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:21:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:21:59 - api.routes.ai.exercise - ERROR - Error submitting AI exercise: ??? Unknown Error: None
2025-08-04 15:21:59 - api.routes.ai.exercise - ERROR - Exception type: <class 'werkzeug.exceptions.HTTPException'>
2025-08-04 15:21:59 - api.routes.ai.exercise - ERROR - Full traceback: Traceback (most recent call last):
  File "/app/src/api/routes/ai/exercise.py", line 89, in submit_ai_exercise
    username = require_user()
               ^^^^^^^^^^^^^^
  File "/app/src/api/middleware/auth.py", line 58, in require_user
    abort(make_response(jsonify({"msg": "Unauthorized"}), 401))
  File "/usr/local/lib/python3.11/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/werkzeug/exceptions.py", line 871, in __call__
    raise HTTPException(response=code)
werkzeug.exceptions.HTTPException: ??? Unknown Error: None

2025-08-04 15:22:39 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 15:22:39 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test4
2025-08-04 15:23:10 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0018
2025-08-04 15:23:10 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'exercise_1': 'test answer'}}
2025-08-04 15:23:10 - api.routes.ai.exercise - INFO - Data keys: ['answers']
2025-08-04 15:23:10 - api.routes.ai.exercise - ERROR - No exercises found in submission data for user test4
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0018
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'exercise_1': 'test answer'}, 'exercises': [{'id': 'exercise_1', 'question': 'Test question', 'type': 'multiple_choice'}]}
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercises']
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Successfully parsed 1 exercises with 1 answers for user: test4
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise exercise_1
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Exercise block from data: topic='None'
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0018
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0018
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Created immediate results for 1 exercises
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Created immediate results for 1 exercises
2025-08-04 15:23:31 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0018
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 1 exercises and 1 answers
2025-08-04 15:23:31 - features.ai.generation.exercise_processing - INFO - Evaluating 1 exercises
2025-08-04 15:23:31 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 1 exercises
2025-08-04 15:23:31 - core.services.exercise_service - INFO - Starting AI evaluation of 1 exercises in strict mode
2025-08-04 15:23:31 - core.services.exercise_service - INFO - Completed AI evaluation with 1 results
2025-08-04 15:23:31 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'exercise_1': {'correct': False, 'feedback': "Not quite right. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'test answer', 'correct_answer': ''}}
2025-08-04 15:23:31 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 1, 'correct': 0, 'incorrect': 1, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Test question', 'your_answer': 'test answer', 'correct_answer': ''}]}
2025-08-04 15:23:31 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'exercise_1': {'correct': False, 'feedback': "Not quite right. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'test answer', 'correct_answer': ''}}, {'total': 1, 'correct': 0, 'incorrect': 1, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Test question', 'your_answer': 'test answer', 'correct_answer': ''}]})
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0018
2025-08-04 15:23:31 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0018
2025-08-04 15:23:31 - core.services.exercise_service - INFO - Starting AI evaluation of 1 exercises in feedback mode
2025-08-04 15:23:31 - core.services.exercise_service - INFO - Completed AI evaluation with 1 results
2025-08-04 15:23:35 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0018
2025-08-04 15:23:46 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0018
2025-08-04 15:24:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:24:01 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:24:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:24:01 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:24:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:25:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:25:44 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:25:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:25:44 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:25:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:25:57 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:25:57 - core.database.connection - ERROR - Database execute_query error: no such column: status
2025-08-04 15:25:57 - core.database.connection - ERROR - Query: SELECT * FROM ai_exercise_blocks WHERE username = ? AND status = 'current' LIMIT 1
2025-08-04 15:25:57 - core.database.connection - ERROR - Params: ('test4',)
2025-08-04 15:25:57 - features.ai.generation.exercise_processing - INFO - No current block found, generating new exercises for user: test4
2025-08-04 15:25:57 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:25:57 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:25:57 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:26:31 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:26:31 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:26:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:26:31 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:26:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:26:46 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:26:46 - core.database.connection - ERROR - Database execute_query error: no such column: status
2025-08-04 15:26:46 - core.database.connection - ERROR - Query: SELECT * FROM ai_exercise_blocks WHERE username = ? AND status = 'current' LIMIT 1
2025-08-04 15:26:46 - core.database.connection - ERROR - Params: ('test4',)
2025-08-04 15:26:46 - features.ai.generation.exercise_processing - INFO - No current block found, generating new exercises for user: test4
2025-08-04 15:26:46 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:26:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:26:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:27:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 15:27:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0021 for user: test4
2025-08-04 15:27:08 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 15:27:08 - core.database.connection - ERROR - Database execute_query error: no such column: status
2025-08-04 15:27:08 - core.database.connection - ERROR - Query: UPDATE ai_exercise_blocks SET status = ? WHERE id = ?
2025-08-04 15:27:08 - core.database.connection - ERROR - Params: ('current', 'blk0021')
2025-08-04 15:27:08 - features.ai.generation.exercise_processing - INFO - Generated and set new current block for user: test4
2025-08-04 15:27:08 - api.routes.ai.exercise - ERROR - Error parsing exercises JSON for block blk0021
2025-08-04 15:27:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:27:52 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:27:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:27:52 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:27:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:27:58 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:27:58 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:27:58 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0021
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'esse', 'ex2': 'Du trinkst Milch.', 'ex3': 'trinken'}, 'exercise_block': {'id': 'blk0021', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'trinke', 'kaufe', 'mache'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'You drink milk.', 'correctAnswer': 'Du trinkst Milch.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Wir _____ Kaffee.', 'options': ['trinken', 'essen', 'kaufen', 'machen'], 'correctAnswer': 'trinken'}], 'title': 'Building confidence in present tense and basic food vocabulary in the context of Food', 'topic': 'food', 'level': 1}}
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 15:28:06 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0021
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0021
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0021
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 15:28:06 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 15:28:06 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 15:28:06 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 15:28:06 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 15:28:06 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Du trinkst Milch.', 'correct_answer': 'Du trinkst Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'trinken', 'correct_answer': 'trinken'}}
2025-08-04 15:28:06 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-04 15:28:06 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Du trinkst Milch.', 'correct_answer': 'Du trinkst Milch.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'trinken', 'correct_answer': 'trinken'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0021
2025-08-04 15:28:06 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0021
2025-08-04 15:28:06 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 15:28:06 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 15:28:10 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0021
2025-08-04 15:28:28 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0021
2025-08-04 15:28:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:28:45 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:28:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:28:45 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:28:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:29:23 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 15:29:23 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-04 15:30:48 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:30:48 - features.ai.generation.exercise_processing - INFO - No exercise blocks found, generating new exercises for user: test4
2025-08-04 15:30:48 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:30:48 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:30:48 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:30:56 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 15:30:56 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-04 15:30:56 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 15:30:56 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-04 15:30:56 - api.routes.ai.exercise - ERROR - Error parsing exercises JSON for block blk0012
2025-08-04 15:31:16 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 15:31:16 - core.session.session_manager - INFO - Created session for user test4
2025-08-04 15:31:16 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-04 15:31:22 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:31:22 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:31:22 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:31:24 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:31:24 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:31:24 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:31:25 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:31:25 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:31:25 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0012
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'esse', 'ex2': 'Ich esse einen Apfel.', 'ex3': 'isst'}, 'exercise_block': {'id': 'blk0012', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ eine Pizza.', 'options': ['esse', 'isst', 'essen', 'ißt'], 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I eat an apple.', 'correctAnswer': 'Ich esse einen Apfel.'}, {'id': 'ex3', 'type': 'gap-fill', 'question': 'Du _____ ein Brot.', 'options': ['isst', 'esse', 'essen', 'ißt'], 'correctAnswer': 'isst'}], 'title': 'Building confidence in present tense and nominative case in the context of Food', 'topic': 'food', 'level': 1}}
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0012
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0012
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Background thread started
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-04 15:31:32 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0012
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-04 15:31:32 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-04 15:31:32 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-04 15:31:32 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-04 15:31:32 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 15:31:32 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich esse einen Apfel.', 'correct_answer': 'Ich esse einen Apfel.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}
2025-08-04 15:31:32 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-04 15:31:32 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich esse einen Apfel.', 'correct_answer': 'Ich esse einen Apfel.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'isst', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0012
2025-08-04 15:31:32 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0012
2025-08-04 15:31:32 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-04 15:31:32 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-04 15:31:36 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0012
2025-08-04 15:31:46 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0012
2025-08-04 15:32:18 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 15:32:18 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-04 15:32:18 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 15:32:18 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-04 15:32:21 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:32:21 - features.ai.generation.exercise_processing - INFO - No exercise blocks found, generating new exercises for user: test4
2025-08-04 15:32:21 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:32:21 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:32:21 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:32:28 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 15:32:28 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-04 15:32:28 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 15:32:28 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-04 15:32:28 - api.routes.ai.exercise - ERROR - Error parsing exercises JSON for block blk0012
2025-08-04 15:34:49 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:34:49 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:34:49 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:35:56 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:35:56 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:35:56 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:39:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:39:32 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 15:39:32 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 15:39:32 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 15:39:32 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 15:39:32 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 15:39:32 - __main__ - INFO - ✅ Database connection established
2025-08-04 15:39:32 - __main__ - INFO - Results table created/verified
2025-08-04 15:39:32 - __main__ - INFO - Topic memory table created/verified
2025-08-04 15:39:32 - __main__ - INFO - Sessions table created/verified
2025-08-04 15:39:32 - __main__ - INFO - User progress table created/verified
2025-08-04 15:39:32 - __main__ - INFO - User settings table created/verified
2025-08-04 15:39:32 - __main__ - INFO - Support requests table created/verified
2025-08-04 15:39:32 - __main__ - INFO - AI user data table created/verified
2025-08-04 15:39:32 - __main__ - INFO - Exercise history table created/verified
2025-08-04 15:39:32 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 15:39:32 - __main__ - INFO - Topic memory status table created/verified
2025-08-04 15:39:32 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-04 15:39:32 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 15:39:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:39:32 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:39:32 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:39:32 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:39:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:39:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:39:34 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:39:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:39:34 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:39:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:41:18 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 15:41:18 - core.session.session_manager - INFO - Created session for user test4
2025-08-04 15:41:18 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-04 15:41:24 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:41:24 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:41:24 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:42:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:42:39 - __main__ - INFO - 🔄 Starting database migration...
2025-08-04 15:42:39 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-04 15:42:39 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-04 15:42:39 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-04 15:42:39 - __main__ - INFO - Database directory: /app/backend/database
2025-08-04 15:42:39 - __main__ - INFO - ✅ Database connection established
2025-08-04 15:42:39 - __main__ - INFO - Results table created/verified
2025-08-04 15:42:39 - __main__ - INFO - Topic memory table created/verified
2025-08-04 15:42:39 - __main__ - INFO - Sessions table created/verified
2025-08-04 15:42:39 - __main__ - INFO - User progress table created/verified
2025-08-04 15:42:39 - __main__ - INFO - User settings table created/verified
2025-08-04 15:42:39 - __main__ - INFO - Support requests table created/verified
2025-08-04 15:42:39 - __main__ - INFO - AI user data table created/verified
2025-08-04 15:42:39 - __main__ - INFO - Exercise history table created/verified
2025-08-04 15:42:39 - __main__ - INFO - AI exercise results table created/verified
2025-08-04 15:42:39 - __main__ - INFO - Topic memory status table created/verified
2025-08-04 15:42:39 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-04 15:42:39 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-04 15:42:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:42:39 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:42:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:42:39 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:42:40 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:42:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-04 15:42:41 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-04 15:42:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-04 15:42:41 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-04 15:42:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-04 15:43:09 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 15:43:09 - core.session.session_manager - INFO - Created session for user test4
2025-08-04 15:43:09 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-04 15:43:16 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:43:16 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:43:16 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:43:16 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:43:16 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:43:16 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:43:25 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-04 15:43:25 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-04 15:43:28 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:43:28 - features.ai.generation.exercise_processing - INFO - No exercise blocks found, generating new exercises for user: test4
2025-08-04 15:43:28 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-04 15:43:28 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-04 15:43:28 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-04 15:43:34 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-04 15:43:34 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-04 15:43:34 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-04 15:43:34 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-04 15:43:34 - api.routes.ai.exercise - ERROR - Error parsing exercises JSON for block blk0012
2025-08-04 15:45:18 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:45:18 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:45:18 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:45:27 - core.database.connection - ERROR - Database execute_query error: no such column: expires_at
2025-08-04 15:45:27 - core.database.connection - ERROR - Query: SELECT session_id, created_at, expires_at, active, last_activity FROM sessions WHERE session_id = ? AND active = 1 LIMIT 1
2025-08-04 15:45:27 - core.database.connection - ERROR - Params: ('1794e0e2-cb83-4815-95b4-c032e29b1166',)
2025-08-04 15:45:32 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-04 15:45:32 - core.session.session_manager - INFO - Created session for user test4
2025-08-04 15:45:32 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-04 15:45:36 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:45:36 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:45:36 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:47:21 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:47:21 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:47:21 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-04 15:47:21 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-04 15:47:21 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-04 15:47:21 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:12:43 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:12:43 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:12:43 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:12:43 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:12:43 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:12:43 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:27:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:27:31 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:27:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:27:31 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:27:32 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:27:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:27:47 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:27:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:27:47 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:27:48 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:28:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:28:01 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:28:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:28:01 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:28:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:28:13 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:28:13 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:28:13 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:28:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:28:46 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:28:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:28:46 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:28:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:28:58 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-05 07:28:58 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-05 07:29:02 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:29:02 - features.ai.generation.exercise_processing - INFO - No exercise blocks found, generating new exercises for user: test4
2025-08-05 07:29:02 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:29:02 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:29:02 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:29:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 07:29:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-05 07:29:08 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 07:29:08 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 07:29:08 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:29:08 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:29:08 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:29:08 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - User test4 submitting exercise block training
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'eine', 'ex2': 'n', 'ex3': 'bin'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'ein', 'id': 'ex1', 'options': ['ein', 'eine', 'einen', 'einem'], 'question': 'Ich kaufe _____ Brot.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich brauche eine Flasche Wasser.', 'id': 'ex2', 'question': 'I need a bottle of water.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'bin', 'sein'], 'question': 'Das _____ teuer.', 'type': 'gap-fill'}], 'vocabHelp': [], 'topic': 'shopping'}}
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Exercise block from data: topic='shopping'
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block training
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block training
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:29:15 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block training
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 07:29:15 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 07:29:15 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 07:29:15 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 07:29:15 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:29:15 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'eine'.", 'alternatives': ['Ein'], 'user_answer': 'eine', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich brauche eine Flasche Wasser.'.", 'explanation': "The correct answer is 'Ich brauche eine Flasche Wasser.'. Your answer was 'n'.", 'alternatives': ['Ich brauche eine Flasche Wasser', 'ich brauche eine flasche wasser.'], 'user_answer': 'n', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}
2025-08-05 07:29:15 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich kaufe _____ Brot.', 'your_answer': 'eine', 'correct_answer': 'ein'}, {'question': 'I need a bottle of water.', 'your_answer': 'n', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, {'question': 'Das _____ teuer.', 'your_answer': 'bin', 'correct_answer': 'ist'}]}
2025-08-05 07:29:15 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'eine'.", 'alternatives': ['Ein'], 'user_answer': 'eine', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich brauche eine Flasche Wasser.'.", 'explanation': "The correct answer is 'Ich brauche eine Flasche Wasser.'. Your answer was 'n'.", 'alternatives': ['Ich brauche eine Flasche Wasser', 'ich brauche eine flasche wasser.'], 'user_answer': 'n', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich kaufe _____ Brot.', 'your_answer': 'eine', 'correct_answer': 'ein'}, {'question': 'I need a bottle of water.', 'your_answer': 'n', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, {'question': 'Das _____ teuer.', 'your_answer': 'bin', 'correct_answer': 'ist'}]})
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block training
2025-08-05 07:29:15 - features.exercise.exercise_evaluation - INFO - Stored new results for block training
2025-08-05 07:29:15 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 07:29:15 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:29:17 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:29:17 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:29:17 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:29:18 - api.routes.ai.exercise - INFO - Found results in Redis for block training
2025-08-05 07:29:22 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block training
2025-08-05 07:29:31 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:29:31 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:29:31 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - User test4 submitting exercise block training
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'eine', 'ex2': 'hj', 'ex3': 'bin'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'ein', 'id': 'ex1', 'options': ['ein', 'eine', 'einen', 'einem'], 'question': 'Ich kaufe _____ Brot.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich brauche eine Flasche Wasser.', 'id': 'ex2', 'question': 'I need a bottle of water.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'bin', 'sein'], 'question': 'Das _____ teuer.', 'type': 'gap-fill'}], 'vocabHelp': [], 'topic': 'shopping'}}
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Exercise block from data: topic='shopping'
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 07:29:37 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block training
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block training
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block training
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 07:29:37 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 07:29:37 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 07:29:37 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 07:29:37 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:29:37 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'eine'.", 'alternatives': ['Ein'], 'user_answer': 'eine', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich brauche eine Flasche Wasser.'.", 'explanation': "The correct answer is 'Ich brauche eine Flasche Wasser.'. Your answer was 'hj'.", 'alternatives': ['Ich brauche eine Flasche Wasser', 'ich brauche eine flasche wasser.'], 'user_answer': 'hj', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}
2025-08-05 07:29:37 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich kaufe _____ Brot.', 'your_answer': 'eine', 'correct_answer': 'ein'}, {'question': 'I need a bottle of water.', 'your_answer': 'hj', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, {'question': 'Das _____ teuer.', 'your_answer': 'bin', 'correct_answer': 'ist'}]}
2025-08-05 07:29:37 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'eine'.", 'alternatives': ['Ein'], 'user_answer': 'eine', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich brauche eine Flasche Wasser.'.", 'explanation': "The correct answer is 'Ich brauche eine Flasche Wasser.'. Your answer was 'hj'.", 'alternatives': ['Ich brauche eine Flasche Wasser', 'ich brauche eine flasche wasser.'], 'user_answer': 'hj', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'bin'.", 'alternatives': ['Ist'], 'user_answer': 'bin', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich kaufe _____ Brot.', 'your_answer': 'eine', 'correct_answer': 'ein'}, {'question': 'I need a bottle of water.', 'your_answer': 'hj', 'correct_answer': 'Ich brauche eine Flasche Wasser.'}, {'question': 'Das _____ teuer.', 'your_answer': 'bin', 'correct_answer': 'ist'}]})
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block training
2025-08-05 07:29:37 - features.exercise.exercise_evaluation - INFO - Updated existing results for block training
2025-08-05 07:29:37 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 07:29:37 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:29:39 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:29:39 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:29:39 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:29:40 - api.routes.ai.exercise - INFO - Found results in Redis for block training
2025-08-05 07:29:43 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:29:43 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:29:43 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:29:44 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block training
2025-08-05 07:34:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:34:12 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:34:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:34:12 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:34:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:34:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:34:46 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:34:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:34:46 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:34:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:35:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:35:47 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:35:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:35:47 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:35:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:36:13 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:36:13 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 07:36:13 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:36:13 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:36:13 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:36:32 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 07:36:32 - features.ai.generation.exercise_creation - INFO - Created AI block blk0013 for user: test4
2025-08-05 07:36:32 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 07:36:32 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 07:36:32 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0013
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'esse', 'ex2': 'Ich möchte Äpfel kaufen.', 'ex3': 'ist'}, 'exercise_block': {'id': 'blk0013', 'exercises': [{'id': 'ex1', 'question': 'Ich _____ eine Pizza.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'question': 'I want to buy apples.', 'correctAnswer': 'Ich möchte Äpfel kaufen.'}, {'id': 'ex3', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}]}}
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Exercise block from data: topic='None'
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0013
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0013
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:36:41 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0013
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 07:36:41 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 07:36:41 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 07:36:41 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 07:36:41 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:36:41 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich möchte Äpfel kaufen.', 'correct_answer': 'Ich möchte Äpfel kaufen.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}
2025-08-05 07:36:41 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-05 07:36:41 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich möchte Äpfel kaufen.', 'correct_answer': 'Ich möchte Äpfel kaufen.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0013
2025-08-05 07:36:41 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0013
2025-08-05 07:36:41 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 07:36:41 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:36:44 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0013
2025-08-05 07:37:03 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:37:03 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:37:03 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:37:03 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:37:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:37:54 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-05 07:37:54 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-05 07:37:57 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:37:57 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 07:37:57 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:37:57 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:37:57 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:38:03 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 07:38:03 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-05 07:38:03 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 07:38:03 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 07:38:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:38:03 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:38:03 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:38:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:39:08 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:39:08 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:39:08 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:39:15 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:39:15 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:39:15 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:39:34 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:39:34 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:39:34 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:39:42 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:39:42 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:39:42 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:39:49 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:39:49 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:39:49 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:40:02 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:40:02 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:40:02 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:40:12 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:40:12 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:40:12 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:40:18 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:40:18 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:40:18 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:40:26 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:40:26 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:40:26 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0012
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'einen', 'ex2': 'mn', 'ex3': 'der'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'ein', 'id': 'ex1', 'options': ['ein', 'einen', 'eine', 'einem'], 'question': 'Ich esse _____ Brot.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich mag Äpfel.', 'id': 'ex2', 'question': 'I like apples.', 'type': 'translation'}, {'correctAnswer': 'die', 'id': 'ex3', 'options': ['die', 'der', 'das', 'eine'], 'question': 'Wir trinken _____ Milch.', 'type': 'gap-fill'}], 'vocabHelp': [], 'topic': 'food'}}
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0012
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:40:51 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0012
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0012
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 07:40:51 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 07:40:51 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 07:40:51 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 07:40:51 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:40:51 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'einen'.", 'alternatives': ['Ein'], 'user_answer': 'einen', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Äpfel.'.", 'explanation': "The correct answer is 'Ich mag Äpfel.'. Your answer was 'mn'.", 'alternatives': ['Ich mag Äpfel', 'ich mag äpfel.'], 'user_answer': 'mn', 'correct_answer': 'Ich mag Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'die'.", 'explanation': "The correct answer is 'die'. Your answer was 'der'.", 'alternatives': ['Die'], 'user_answer': 'der', 'correct_answer': 'die'}}
2025-08-05 07:40:51 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'einen', 'correct_answer': 'ein'}, {'question': 'I like apples.', 'your_answer': 'mn', 'correct_answer': 'Ich mag Äpfel.'}, {'question': 'Wir trinken _____ Milch.', 'your_answer': 'der', 'correct_answer': 'die'}]}
2025-08-05 07:40:51 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'ein'.", 'explanation': "The correct answer is 'ein'. Your answer was 'einen'.", 'alternatives': ['Ein'], 'user_answer': 'einen', 'correct_answer': 'ein'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Äpfel.'.", 'explanation': "The correct answer is 'Ich mag Äpfel.'. Your answer was 'mn'.", 'alternatives': ['Ich mag Äpfel', 'ich mag äpfel.'], 'user_answer': 'mn', 'correct_answer': 'Ich mag Äpfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'die'.", 'explanation': "The correct answer is 'die'. Your answer was 'der'.", 'alternatives': ['Die'], 'user_answer': 'der', 'correct_answer': 'die'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich esse _____ Brot.', 'your_answer': 'einen', 'correct_answer': 'ein'}, {'question': 'I like apples.', 'your_answer': 'mn', 'correct_answer': 'Ich mag Äpfel.'}, {'question': 'Wir trinken _____ Milch.', 'your_answer': 'der', 'correct_answer': 'die'}]})
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0012
2025-08-05 07:40:51 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0012
2025-08-05 07:40:51 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 07:40:51 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:40:53 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:40:53 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 07:40:53 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:40:53 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:40:53 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:40:54 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0012
2025-08-05 07:40:58 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 07:40:59 - features.ai.generation.exercise_creation - INFO - Created AI block blk0013 for user: test4
2025-08-05 07:40:59 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 07:40:59 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 07:40:59 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:40:59 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:40:59 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:40:59 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:41:00 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0012
2025-08-05 07:45:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:45:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:45:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:45:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:45:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:46:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:46:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:46:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:46:10 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:46:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:56:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:56:19 - __main__ - INFO - 🔄 Starting database migration...
2025-08-05 07:56:19 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-05 07:56:19 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-05 07:56:19 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-05 07:56:19 - __main__ - INFO - Database directory: /app/backend/database
2025-08-05 07:56:19 - __main__ - INFO - ✅ Database connection established
2025-08-05 07:56:19 - __main__ - INFO - Results table created/verified
2025-08-05 07:56:19 - __main__ - INFO - Topic memory table created/verified
2025-08-05 07:56:19 - __main__ - INFO - Sessions table created/verified
2025-08-05 07:56:19 - __main__ - INFO - User progress table created/verified
2025-08-05 07:56:19 - __main__ - INFO - User settings table created/verified
2025-08-05 07:56:19 - __main__ - INFO - Support requests table created/verified
2025-08-05 07:56:19 - __main__ - INFO - AI user data table created/verified
2025-08-05 07:56:19 - __main__ - INFO - Exercise history table created/verified
2025-08-05 07:56:19 - __main__ - INFO - AI exercise results table created/verified
2025-08-05 07:56:19 - __main__ - INFO - Topic memory status table created/verified
2025-08-05 07:56:19 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-05 07:56:19 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-05 07:56:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:56:20 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:56:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:56:20 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:56:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:56:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 07:56:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 07:56:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 07:56:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 07:56:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 07:56:32 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:56:32 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:56:32 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:56:32 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:56:32 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:56:32 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0013
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'lebe', 'ex2': 'cx', 'ex3': 'macht'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohne', 'id': 'ex1', 'options': ['wohne', 'lebe', 'schlafe', 'esse'], 'question': 'Ich _____ in einer kleinen Wohnung.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich wohne mit meiner Familie.', 'id': 'ex2', 'question': 'I live with my family.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'hat', 'macht', 'geht'], 'question': 'Meine Familie _____ groß.', 'type': 'gap-fill'}], 'vocabHelp': [], 'topic': 'living'}}
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Exercise block from data: topic='living'
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 07:56:41 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0013
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0013
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0013
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 07:56:41 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 07:56:41 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 07:56:41 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 07:56:41 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:56:41 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohne'.", 'explanation': "The correct answer is 'wohne'. Your answer was 'lebe'.", 'alternatives': ['Wohne'], 'user_answer': 'lebe', 'correct_answer': 'wohne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich wohne mit meiner Familie.'.", 'explanation': "The correct answer is 'Ich wohne mit meiner Familie.'. Your answer was 'cx'.", 'alternatives': ['Ich wohne mit meiner Familie', 'ich wohne mit meiner familie.'], 'user_answer': 'cx', 'correct_answer': 'Ich wohne mit meiner Familie.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'macht'.", 'alternatives': ['Ist'], 'user_answer': 'macht', 'correct_answer': 'ist'}}
2025-08-05 07:56:41 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ in einer kleinen Wohnung.', 'your_answer': 'lebe', 'correct_answer': 'wohne'}, {'question': 'I live with my family.', 'your_answer': 'cx', 'correct_answer': 'Ich wohne mit meiner Familie.'}, {'question': 'Meine Familie _____ groß.', 'your_answer': 'macht', 'correct_answer': 'ist'}]}
2025-08-05 07:56:41 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohne'.", 'explanation': "The correct answer is 'wohne'. Your answer was 'lebe'.", 'alternatives': ['Wohne'], 'user_answer': 'lebe', 'correct_answer': 'wohne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich wohne mit meiner Familie.'.", 'explanation': "The correct answer is 'Ich wohne mit meiner Familie.'. Your answer was 'cx'.", 'alternatives': ['Ich wohne mit meiner Familie', 'ich wohne mit meiner familie.'], 'user_answer': 'cx', 'correct_answer': 'Ich wohne mit meiner Familie.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'macht'.", 'alternatives': ['Ist'], 'user_answer': 'macht', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ in einer kleinen Wohnung.', 'your_answer': 'lebe', 'correct_answer': 'wohne'}, {'question': 'I live with my family.', 'your_answer': 'cx', 'correct_answer': 'Ich wohne mit meiner Familie.'}, {'question': 'Meine Familie _____ groß.', 'your_answer': 'macht', 'correct_answer': 'ist'}]})
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0013
2025-08-05 07:56:41 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0013
2025-08-05 07:56:41 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 07:56:41 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:56:43 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:56:43 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 07:56:43 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:56:43 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:56:43 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:56:44 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0013
2025-08-05 07:56:46 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:56:46 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:56:46 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:56:50 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 07:56:50 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0013
2025-08-05 07:56:50 - features.ai.generation.exercise_creation - INFO - Created AI block blk0014 for user: test4
2025-08-05 07:56:50 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 07:56:50 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 07:56:50 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:57:02 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:57:02 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:57:02 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:57:02 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:57:02 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:57:02 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:58:09 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:58:09 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:58:09 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:58:19 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:58:19 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 07:58:19 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:58:19 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:58:19 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:58:49 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 07:58:49 - features.ai.generation.exercise_creation - INFO - Created AI block blk0015 for user: test4
2025-08-05 07:58:49 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 07:58:49 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 07:58:49 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:59:04 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:59:04 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:59:04 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:59:12 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:59:12 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 07:59:12 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:59:12 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:59:12 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:59:22 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 07:59:22 - features.ai.generation.exercise_creation - INFO - Created AI block blk0016 for user: test4
2025-08-05 07:59:22 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 07:59:22 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 07:59:22 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:59:33 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:59:33 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:59:33 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0014
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'isst', 'ex2': 'fg', 'ex3': 'esse'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'esse', 'id': 'ex1', 'options': ['esse', 'esst', 'isst', 'essen'], 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill'}, {'correctAnswer': 'Wir trinken Wasser.', 'id': 'ex2', 'question': 'We drink water.', 'type': 'translation'}, {'correctAnswer': 'isst', 'id': 'ex3', 'options': ['isst', 'esse', 'esst', 'essen'], 'question': 'Du _____ Brot.', 'type': 'gap-fill'}], 'vocabHelp': [], 'topic': 'food'}}
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0014
2025-08-05 07:59:44 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0014
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0014
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 07:59:44 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 07:59:44 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 07:59:44 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 07:59:44 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:59:44 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wir trinken Wasser.'.", 'explanation': "The correct answer is 'Wir trinken Wasser.'. Your answer was 'fg'.", 'alternatives': ['Wir trinken Wasser', 'wir trinken wasser.'], 'user_answer': 'fg', 'correct_answer': 'Wir trinken Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-05 07:59:44 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'We drink water.', 'your_answer': 'fg', 'correct_answer': 'Wir trinken Wasser.'}, {'question': 'Du _____ Brot.', 'your_answer': 'esse', 'correct_answer': 'isst'}]}
2025-08-05 07:59:44 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'isst'.", 'alternatives': ['Esse'], 'user_answer': 'isst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wir trinken Wasser.'.", 'explanation': "The correct answer is 'Wir trinken Wasser.'. Your answer was 'fg'.", 'alternatives': ['Wir trinken Wasser', 'wir trinken wasser.'], 'user_answer': 'fg', 'correct_answer': 'Wir trinken Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'isst', 'correct_answer': 'esse'}, {'question': 'We drink water.', 'your_answer': 'fg', 'correct_answer': 'Wir trinken Wasser.'}, {'question': 'Du _____ Brot.', 'your_answer': 'esse', 'correct_answer': 'isst'}]})
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0014
2025-08-05 07:59:44 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0014
2025-08-05 07:59:44 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 07:59:44 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:59:46 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:59:46 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 07:59:46 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 07:59:46 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 07:59:46 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 07:59:47 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0014
2025-08-05 07:59:50 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 07:59:50 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 07:59:50 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0016
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'esse', 'ex2': 'sf', 'ex3': 'trinken'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'esse', 'id': 'ex1', 'options': ['esse', 'esst', 'isst', 'essen'], 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich esse einen Apfel.', 'id': 'ex2', 'question': 'I eat an apple.', 'type': 'translation'}, {'correctAnswer': 'trinkst', 'id': 'ex3', 'options': ['trinkst', 'trinkt', 'trinke', 'trinken'], 'question': 'Du _____ Wasser.', 'type': 'gap-fill'}], 'vocabHelp': [], 'topic': 'food'}}
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0016
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0016
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 07:59:58 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0016
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 07:59:58 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 07:59:58 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 07:59:58 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 07:59:58 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 07:59:58 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse einen Apfel.'.", 'explanation': "The correct answer is 'Ich esse einen Apfel.'. Your answer was 'sf'.", 'alternatives': ['Ich esse einen Apfel', 'ich esse einen apfel.'], 'user_answer': 'sf', 'correct_answer': 'Ich esse einen Apfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'trinkst'.", 'explanation': "The correct answer is 'trinkst'. Your answer was 'trinken'.", 'alternatives': ['Trinkst'], 'user_answer': 'trinken', 'correct_answer': 'trinkst'}}
2025-08-05 07:59:58 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat an apple.', 'your_answer': 'sf', 'correct_answer': 'Ich esse einen Apfel.'}, {'question': 'Du _____ Wasser.', 'your_answer': 'trinken', 'correct_answer': 'trinkst'}]}
2025-08-05 07:59:58 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich esse einen Apfel.'.", 'explanation': "The correct answer is 'Ich esse einen Apfel.'. Your answer was 'sf'.", 'alternatives': ['Ich esse einen Apfel', 'ich esse einen apfel.'], 'user_answer': 'sf', 'correct_answer': 'Ich esse einen Apfel.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'trinkst'.", 'explanation': "The correct answer is 'trinkst'. Your answer was 'trinken'.", 'alternatives': ['Trinkst'], 'user_answer': 'trinken', 'correct_answer': 'trinkst'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I eat an apple.', 'your_answer': 'sf', 'correct_answer': 'Ich esse einen Apfel.'}, {'question': 'Du _____ Wasser.', 'your_answer': 'trinken', 'correct_answer': 'trinkst'}]})
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0016
2025-08-05 07:59:58 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0016
2025-08-05 07:59:58 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 07:59:58 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 08:00:00 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:00:00 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 08:00:00 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 08:00:00 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 08:00:00 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 08:00:01 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0016
2025-08-05 08:00:01 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0016
2025-08-05 08:00:06 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:00:07 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:00:07 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:00:08 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 08:00:08 - features.ai.generation.exercise_creation - INFO - Created AI block blk0017 for user: test4
2025-08-05 08:00:08 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 08:00:08 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 08:00:08 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:00:09 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0014
2025-08-05 08:00:14 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 08:00:14 - features.ai.generation.exercise_creation - INFO - Created AI block blk0018 for user: test4
2025-08-05 08:00:14 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 08:00:14 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 08:00:14 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:00:45 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:00:45 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 08:00:45 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 08:00:45 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 08:00:45 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 08:00:51 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 08:00:51 - features.ai.generation.exercise_creation - INFO - Created AI block blk0019 for user: test4
2025-08-05 08:00:51 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 08:00:51 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 08:00:51 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:00:56 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:00:56 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 08:00:56 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 08:00:56 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 08:00:56 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 08:01:03 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 08:01:03 - features.ai.generation.exercise_creation - INFO - Created AI block blk0020 for user: test4
2025-08-05 08:01:03 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 08:01:03 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 08:01:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:01:34 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:01:34 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:01:34 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:01:43 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:01:43 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:01:43 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:01:52 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:01:52 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:01:52 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:02:02 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:02:02 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:02:02 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:02:16 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-05 08:02:16 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-05 08:02:29 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:02:29 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 08:02:29 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 08:02:29 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 08:02:29 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 08:02:54 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 08:02:54 - features.ai.generation.exercise_creation - INFO - Created AI block blk0012 for user: test4
2025-08-05 08:02:54 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 08:02:54 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 08:02:54 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:02:54 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:02:54 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:02:54 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk0012
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'esst', 'ex2': 'fg', 'ex3': 'esse'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'esse', 'id': 'ex1', 'options': ['esse', 'esst', 'isst', 'essen'], 'question': 'Ich ____ eine Pizza.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich trinke Wasser.', 'id': 'ex2', 'question': 'I drink water.', 'type': 'translation'}, {'correctAnswer': 'isst', 'id': 'ex3', 'options': ['isst', 'esse', 'esst', 'essen'], 'question': 'Du ____ ein Apfel.', 'type': 'gap-fill'}], 'vocabHelp': [], 'topic': 'food'}}
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Exercise block from data: topic='food'
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk0012
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk0012
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 08:03:07 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk0012
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 08:03:07 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 08:03:07 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 08:03:07 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 08:03:07 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 08:03:07 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'esst'.", 'alternatives': ['Esse'], 'user_answer': 'esst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'fg'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'fg', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}
2025-08-05 08:03:07 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich ____ eine Pizza.', 'your_answer': 'esst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'fg', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du ____ ein Apfel.', 'your_answer': 'esse', 'correct_answer': 'isst'}]}
2025-08-05 08:03:07 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'esst'.", 'alternatives': ['Esse'], 'user_answer': 'esst', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich trinke Wasser.'.", 'explanation': "The correct answer is 'Ich trinke Wasser.'. Your answer was 'fg'.", 'alternatives': ['Ich trinke Wasser', 'ich trinke wasser.'], 'user_answer': 'fg', 'correct_answer': 'Ich trinke Wasser.'}, 'ex3': {'correct': False, 'feedback': "Try again. The correct answer is 'isst'.", 'explanation': "The correct answer is 'isst'. Your answer was 'esse'.", 'alternatives': ['Isst'], 'user_answer': 'esse', 'correct_answer': 'isst'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich ____ eine Pizza.', 'your_answer': 'esst', 'correct_answer': 'esse'}, {'question': 'I drink water.', 'your_answer': 'fg', 'correct_answer': 'Ich trinke Wasser.'}, {'question': 'Du ____ ein Apfel.', 'your_answer': 'esse', 'correct_answer': 'isst'}]})
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk0012
2025-08-05 08:03:07 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk0012
2025-08-05 08:03:07 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 08:03:07 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 08:03:08 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:03:08 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 08:03:08 - features.ai.generation.exercise_creation - INFO - Generating blocks for existing user: test4
2025-08-05 08:03:08 - features.ai.generation.exercise_creation - INFO - Creating AI block with variation for user: test4
2025-08-05 08:03:08 - features.ai.generation.exercise_creation - INFO - Generating new exercises for user: test4
2025-08-05 08:03:09 - api.routes.ai.exercise - INFO - Found results in Redis for block blk0012
2025-08-05 08:03:16 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:03:16 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:03:16 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:03:25 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:26 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:27 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:28 - features.ai.generation.exercise_creation - INFO - Successfully generated exercise block for user: test4
2025-08-05 08:03:28 - features.ai.generation.exercise_creation - INFO - Created AI block blk0013 for user: test4
2025-08-05 08:03:28 - features.ai.generation.exercise_creation - INFO - Successfully generated blocks for existing user: test4
2025-08-05 08:03:28 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 08:03:28 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:03:28 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:29 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:30 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:30 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk0012
2025-08-05 08:03:31 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:32 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:33 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:34 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:35 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:36 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:37 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:38 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:39 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:03:40 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 08:34:28 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:34:28 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:34:28 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 08:34:29 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 08:34:29 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 08:34:29 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:23:58 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:23:58 - features.ai.generation.exercise_processing - INFO - Retrieved most recent exercise block for user: test4
2025-08-05 12:23:58 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:25:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:25:28 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:25:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:25:28 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:25:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:26:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:26:13 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:26:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:26:13 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:26:15 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:29:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:29:18 - __main__ - INFO - 🔄 Starting database migration...
2025-08-05 12:29:18 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-05 12:29:18 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-05 12:29:18 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-05 12:29:18 - __main__ - INFO - Database directory: /app/backend/database
2025-08-05 12:29:18 - __main__ - INFO - ✅ Database connection established
2025-08-05 12:29:18 - __main__ - INFO - Results table created/verified
2025-08-05 12:29:18 - __main__ - INFO - Topic memory table created/verified
2025-08-05 12:29:18 - __main__ - INFO - Sessions table created/verified
2025-08-05 12:29:18 - __main__ - INFO - User progress table created/verified
2025-08-05 12:29:18 - __main__ - INFO - User settings table created/verified
2025-08-05 12:29:18 - __main__ - INFO - Support requests table created/verified
2025-08-05 12:29:18 - __main__ - INFO - AI user data table created/verified
2025-08-05 12:29:18 - __main__ - INFO - Exercise history table created/verified
2025-08-05 12:29:18 - __main__ - INFO - AI exercise results table created/verified
2025-08-05 12:29:18 - __main__ - INFO - Topic memory status table created/verified
2025-08-05 12:29:18 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-05 12:29:18 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-05 12:29:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:29:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:29:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:29:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:29:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:29:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:29:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:29:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:29:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:29:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:29:27 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:29:27 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:29:27 - features.ai.generation.exercise_creation - ERROR - Error creating AI block for user test4: cannot import name 'generate_new_exercises' from 'features.ai.generation.exercise_processing' (/app/src/features/ai/generation/exercise_processing.py)
2025-08-05 12:29:27 - features.ai.generation.exercise_processing - WARNING - Failed to generate new exercises for user: test4
2025-08-05 12:29:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:29:41 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:29:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:29:41 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:29:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:29:55 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:29:55 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:29:55 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:29:55 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:30:12 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:30:12 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:30:13 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:30:13 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:30:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:30:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:30:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:30:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:30:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:31:32 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-05 12:31:32 - core.session.session_manager - INFO - Created session for user test4
2025-08-05 12:31:32 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-05 12:31:49 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:31:49 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:31:49 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754396982419
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Raw submission data: {'exercise_block': {'id': 'blk1754396982419', 'exercises': [{'id': 'ex1', 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill'}, {'id': 'ex2', 'question': 'I like bread.', 'type': 'translation'}, {'id': 'ex3', 'question': 'Das _____ lecker.', 'type': 'grammar'}]}, 'answers': {'ex1': 'esse', 'ex2': 'Ich mag Brot.', 'ex3': 'ist'}}
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Data keys: ['exercise_block', 'answers']
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Exercise block from data: topic='None'
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 12:31:59 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754396982419
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754396982419
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754396982419
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 12:31:59 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 12:31:59 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 12:31:59 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 12:31:59 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:31:59 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': ''}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'Ich mag Brot.', 'correct_answer': ''}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': ''}}
2025-08-05 12:31:59 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'esse', 'correct_answer': ''}, {'question': 'I like bread.', 'your_answer': 'Ich mag Brot.', 'correct_answer': ''}, {'question': 'Das _____ lecker.', 'your_answer': 'ist', 'correct_answer': ''}]}
2025-08-05 12:31:59 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': ''}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'Ich mag Brot.', 'correct_answer': ''}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is ''.", 'explanation': 'No answer provided.', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': ''}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'esse', 'correct_answer': ''}, {'question': 'I like bread.', 'your_answer': 'Ich mag Brot.', 'correct_answer': ''}, {'question': 'Das _____ lecker.', 'your_answer': 'ist', 'correct_answer': ''}]})
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754396982419
2025-08-05 12:31:59 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754396982419
2025-08-05 12:31:59 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 12:31:59 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:32:05 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754396982419
2025-08-05 12:32:11 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754396982419
2025-08-05 12:32:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:32:40 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:32:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:32:40 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:32:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:32:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:32:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:32:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:32:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:32:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:33:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:33:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:33:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:33:10 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:33:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:33:18 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:33:18 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:33:18 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:33:18 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754397190813
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Raw submission data: {'exercise_block': {'id': 'blk1754397190813', 'exercises': [{'id': 'ex1', 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill', 'correctAnswer': 'esse'}, {'id': 'ex2', 'question': 'I like bread.', 'type': 'translation', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'question': 'Das _____ lecker.', 'type': 'grammar', 'correctAnswer': 'ist'}]}, 'answers': {'ex1': 'esse', 'ex2': 'Ich mag Brot.', 'ex3': 'ist'}}
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Data keys: ['exercise_block', 'answers']
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Exercise block from data: topic='None'
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754397190813
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754397190813
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:33:34 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754397190813
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 12:33:34 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 12:33:34 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 12:33:34 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 12:33:34 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:33:34 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich mag Brot.', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}
2025-08-05 12:33:34 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-05 12:33:34 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich mag Brot.', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754397190813
2025-08-05 12:33:34 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754397190813
2025-08-05 12:33:34 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 12:33:34 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:33:35 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754397190813
2025-08-05 12:33:46 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754397190813
2025-08-05 12:33:58 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:33:58 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:33:58 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:33:58 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:34:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:34:13 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:34:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:34:13 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:34:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:34:45 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-05 12:34:45 - core.session.session_manager - INFO - Created session for user test4
2025-08-05 12:34:45 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-05 12:34:53 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:34:53 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:34:53 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754397190815
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Raw submission data: {'exercise_block': {'id': 'blk1754397190815', 'exercises': [{'id': 'ex1', 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill', 'correctAnswer': 'esse'}, {'id': 'ex2', 'question': 'I like bread.', 'type': 'translation', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'question': 'Das _____ lecker.', 'type': 'grammar', 'correctAnswer': 'ist'}]}, 'answers': {'ex1': 'esse', 'ex2': 'Ich mag Brot.', 'ex3': 'ist'}}
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Data keys: ['exercise_block', 'answers']
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Exercise block from data: topic='None'
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754397190815
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754397190815
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:35:08 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754397190815
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 12:35:08 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 12:35:08 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 12:35:08 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 12:35:08 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:35:08 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich mag Brot.', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}
2025-08-05 12:35:08 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []}
2025-08-05 12:35:08 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'Ich mag Brot.', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'ist', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 3, 'incorrect': 0, 'skipped': 0, 'accuracy': 100.0, 'mistakes': []})
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754397190815
2025-08-05 12:35:08 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754397190815
2025-08-05 12:35:08 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 12:35:08 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:35:10 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754397190815
2025-08-05 12:35:18 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754397190815
2025-08-05 12:35:25 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:35:25 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:35:25 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:35:25 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:35:32 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:35:32 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:35:32 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:35:32 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754397254398
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Raw submission data: {'exercise_block': {'id': 'blk1754397254398', 'exercises': [{'id': 'ex1', 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill', 'correctAnswer': 'esse'}, {'id': 'ex2', 'question': 'I like bread.', 'type': 'translation', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'question': 'Das _____ lecker.', 'type': 'grammar', 'correctAnswer': 'ist'}]}, 'answers': {'ex1': 'trinke', 'ex2': 'Ich esse Brot.', 'ex3': 'sind'}}
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Data keys: ['exercise_block', 'answers']
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Exercise block from data: topic='None'
2025-08-05 12:35:41 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754397254398
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754397254398
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754397254398
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 12:35:41 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 12:35:41 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 12:35:41 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 12:35:41 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:35:41 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'trinke'.", 'alternatives': ['Esse'], 'user_answer': 'trinke', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Brot.'.", 'explanation': "The correct answer is 'Ich mag Brot.'. Your answer was 'Ich esse Brot.'.", 'alternatives': ['Ich mag Brot', 'ich mag brot.'], 'user_answer': 'Ich esse Brot.', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'sind'.", 'alternatives': ['Ist'], 'user_answer': 'sind', 'correct_answer': 'ist'}}
2025-08-05 12:35:41 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'trinke', 'correct_answer': 'esse'}, {'question': 'I like bread.', 'your_answer': 'Ich esse Brot.', 'correct_answer': 'Ich mag Brot.'}, {'question': 'Das _____ lecker.', 'your_answer': 'sind', 'correct_answer': 'ist'}]}
2025-08-05 12:35:41 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'trinke'.", 'alternatives': ['Esse'], 'user_answer': 'trinke', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Brot.'.", 'explanation': "The correct answer is 'Ich mag Brot.'. Your answer was 'Ich esse Brot.'.", 'alternatives': ['Ich mag Brot', 'ich mag brot.'], 'user_answer': 'Ich esse Brot.', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'sind'.", 'alternatives': ['Ist'], 'user_answer': 'sind', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'trinke', 'correct_answer': 'esse'}, {'question': 'I like bread.', 'your_answer': 'Ich esse Brot.', 'correct_answer': 'Ich mag Brot.'}, {'question': 'Das _____ lecker.', 'your_answer': 'sind', 'correct_answer': 'ist'}]})
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754397254398
2025-08-05 12:35:41 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754397254398
2025-08-05 12:35:41 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 12:35:41 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 12:35:45 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754397254398
2025-08-05 12:35:50 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754397254398
2025-08-05 12:36:21 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-05 12:36:21 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-05 12:36:29 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:36:29 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:36:29 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:36:29 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:36:29 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:36:29 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:36:29 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:39:48 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:39:48 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:39:48 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:39:53 - api.routes.ai.exercise - ERROR - Error getting AI exercises: ??? Unknown Error: None
2025-08-05 12:40:23 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:40:23 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:40:23 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:40:24 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:40:24 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:40:24 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:40:47 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:40:47 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:40:47 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:40:48 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:40:48 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:40:48 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:41:24 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:41:24 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:41:24 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:41:25 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:41:25 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:41:25 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:41:43 - api.routes.ai.exercise - ERROR - Error getting AI exercises: ??? Unknown Error: None
2025-08-05 12:41:44 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:41:44 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:41:44 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:41:44 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:41:44 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:41:44 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:41:52 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-05 12:41:52 - core.session.session_manager - INFO - Created session for user test4
2025-08-05 12:41:52 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-05 12:42:03 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:42:03 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:42:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:42:57 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:42:57 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:42:57 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:42:57 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:42:57 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:42:57 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:44:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:44:56 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:44:56 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:44:56 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:44:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:45:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:45:05 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:45:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:45:05 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:45:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:45:13 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:45:13 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:45:13 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:45:13 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:45:13 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:45:20 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:45:20 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:45:20 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:45:20 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:45:20 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:46:14 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:46:14 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:46:14 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:46:14 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:46:14 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:46:15 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:46:15 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:46:15 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:46:15 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:46:15 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:46:48 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:46:48 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:46:48 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:46:48 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:46:48 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:47:37 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:47:37 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:47:38 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:47:38 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:47:38 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:47:45 - api.routes.ai.exercise - ERROR - Error getting AI exercises: ??? Unknown Error: None
2025-08-05 12:47:45 - api.routes.ai.exercise - ERROR - Error type: <class 'werkzeug.exceptions.HTTPException'>
2025-08-05 12:47:45 - api.routes.ai.exercise - ERROR - Error details: ??? Unknown Error: None
2025-08-05 12:47:45 - api.routes.ai.exercise - ERROR - Traceback: Traceback (most recent call last):
  File "/app/src/api/routes/ai/exercise.py", line 73, in get_ai_exercises_route
    username = require_user()
               ^^^^^^^^^^^^^^
  File "/app/src/api/middleware/auth.py", line 58, in require_user
    abort(make_response(jsonify({"msg": "Unauthorized"}), 401))
  File "/usr/local/lib/python3.11/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/werkzeug/exceptions.py", line 871, in __call__
    raise HTTPException(response=code)
werkzeug.exceptions.HTTPException: ??? Unknown Error: None

2025-08-05 12:47:59 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:47:59 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:47:59 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:47:59 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:47:59 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:48:00 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:48:00 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:48:00 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:48:00 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:48:00 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:49:07 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-05 12:49:07 - core.session.session_manager - INFO - Created session for user test4
2025-08-05 12:49:07 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-05 12:49:16 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:49:16 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:49:16 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:49:16 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:49:16 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:49:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:49:30 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:49:30 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:49:30 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:49:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:51:26 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:51:26 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:51:26 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:51:32 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:51:32 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:51:32 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:51:32 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:51:32 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:51:33 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:51:33 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:51:33 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:51:33 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:51:33 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:53:05 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:53:05 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:53:05 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:53:05 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:53:05 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:53:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:53:28 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:53:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:53:28 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:53:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:53:39 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:53:39 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:53:39 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:53:39 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:53:39 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:54:33 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:54:33 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:54:33 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:54:33 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:54:33 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:54:55 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:54:55 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:54:55 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:54:55 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:54:55 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:54:56 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:54:56 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:54:56 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:54:56 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:54:56 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:54:58 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:54:58 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:54:58 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:54:58 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:54:58 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:55:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:55:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:55:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:55:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:55:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:56:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:56:18 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:56:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:56:18 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:56:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:56:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:56:33 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:56:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:56:33 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:56:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 12:56:43 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:56:43 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 12:56:43 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 12:56:43 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse'}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist'}], 'id': 'blk1754397254400'}
2025-08-05 12:56:43 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:56:48 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:56:48 - api.routes.ai.exercise - INFO - Payload received: {'force_new': True}
2025-08-05 12:56:48 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:56:48 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:56:48 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398593905'}
2025-08-05 12:56:48 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:56:52 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 12:56:52 - api.routes.ai.exercise - INFO - Payload received: {'force_new': True}
2025-08-05 12:56:52 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 12:56:52 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 12:56:52 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398593907'}
2025-08-05 12:56:52 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 12:57:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 12:57:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 12:57:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 12:57:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 12:57:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 13:12:45 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398593907'}
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 13:12:45 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398593907'}
2025-08-05 13:12:45 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 14:12:47 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398593907'}
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 14:12:47 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398593907'}
2025-08-05 14:12:47 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754398593907
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'esse', 'ex2': 'kj', 'ex3': 'j'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'esse', 'id': 'ex1', 'options': ['esse', 'trinke', 'kaufe', 'sehe'], 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich mag Brot.', 'id': 'ex2', 'question': 'I like bread.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das _____ lecker.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 14:46:22 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754398593907
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754398593907
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754398593907
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 14:46:22 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 14:46:22 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 14:46:22 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 14:46:22 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 14:46:22 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Brot.'.", 'explanation': "The correct answer is 'Ich mag Brot.'. Your answer was 'kj'.", 'alternatives': ['Ich mag Brot', 'ich mag brot.'], 'user_answer': 'kj', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'j'.", 'alternatives': ['Ist'], 'user_answer': 'j', 'correct_answer': 'ist'}}
2025-08-05 14:46:22 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I like bread.', 'your_answer': 'kj', 'correct_answer': 'Ich mag Brot.'}, {'question': 'Das _____ lecker.', 'your_answer': 'j', 'correct_answer': 'ist'}]}
2025-08-05 14:46:22 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'esse', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Brot.'.", 'explanation': "The correct answer is 'Ich mag Brot.'. Your answer was 'kj'.", 'alternatives': ['Ich mag Brot', 'ich mag brot.'], 'user_answer': 'kj', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'j'.", 'alternatives': ['Ist'], 'user_answer': 'j', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I like bread.', 'your_answer': 'kj', 'correct_answer': 'Ich mag Brot.'}, {'question': 'Das _____ lecker.', 'your_answer': 'j', 'correct_answer': 'ist'}]})
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754398593907
2025-08-05 14:46:22 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754398593907
2025-08-05 14:46:22 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 14:46:22 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 14:46:24 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:46:24 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'esse', 'ex2': 'kj', 'ex3': 'j'}}
2025-08-05 14:46:24 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 14:46:24 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 14:46:24 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398627550'}
2025-08-05 14:46:24 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:46:25 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754398593907
2025-08-05 14:46:28 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754398593907
2025-08-05 14:46:47 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:46:47 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 14:46:47 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 14:46:47 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398627550'}
2025-08-05 14:46:47 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754398627550
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex3': 'kj', 'ex2': 'j', 'ex1': 'trinke'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'esse', 'id': 'ex1', 'options': ['esse', 'trinke', 'kaufe', 'sehe'], 'question': 'Ich _____ ein Apfel.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich mag Brot.', 'id': 'ex2', 'question': 'I like bread.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das _____ lecker.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754398627550
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754398627550
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Background thread started
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-05 14:47:01 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754398627550
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-05 14:47:01 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-05 14:47:01 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-05 14:47:01 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-05 14:47:01 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 14:47:01 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'trinke'.", 'alternatives': ['Esse'], 'user_answer': 'trinke', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Brot.'.", 'explanation': "The correct answer is 'Ich mag Brot.'. Your answer was 'j'.", 'alternatives': ['Ich mag Brot', 'ich mag brot.'], 'user_answer': 'j', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'kj'.", 'alternatives': ['Ist'], 'user_answer': 'kj', 'correct_answer': 'ist'}}
2025-08-05 14:47:01 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'trinke', 'correct_answer': 'esse'}, {'question': 'I like bread.', 'your_answer': 'j', 'correct_answer': 'Ich mag Brot.'}, {'question': 'Das _____ lecker.', 'your_answer': 'kj', 'correct_answer': 'ist'}]}
2025-08-05 14:47:01 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'esse'.", 'explanation': "The correct answer is 'esse'. Your answer was 'trinke'.", 'alternatives': ['Esse'], 'user_answer': 'trinke', 'correct_answer': 'esse'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich mag Brot.'.", 'explanation': "The correct answer is 'Ich mag Brot.'. Your answer was 'j'.", 'alternatives': ['Ich mag Brot', 'ich mag brot.'], 'user_answer': 'j', 'correct_answer': 'Ich mag Brot.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'kj'.", 'alternatives': ['Ist'], 'user_answer': 'kj', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Apfel.', 'your_answer': 'trinke', 'correct_answer': 'esse'}, {'question': 'I like bread.', 'your_answer': 'j', 'correct_answer': 'Ich mag Brot.'}, {'question': 'Das _____ lecker.', 'your_answer': 'kj', 'correct_answer': 'ist'}]})
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754398627550
2025-08-05 14:47:01 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754398627550
2025-08-05 14:47:01 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-05 14:47:01 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-05 14:47:02 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:47:02 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex3': 'kj', 'ex2': 'j', 'ex1': 'trinke'}}
2025-08-05 14:47:02 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 14:47:02 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 14:47:02 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398627552'}
2025-08-05 14:47:02 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:47:03 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754398627550
2025-08-05 14:47:05 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754398627550
2025-08-05 14:47:25 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:26 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:27 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:28 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:29 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:30 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:31 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:32 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:33 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:47:34 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-05 14:48:03 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:48:03 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 14:48:03 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 14:48:03 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 Exercises', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754398627552'}
2025-08-05 14:48:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:49:20 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 14:49:20 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 14:49:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 14:49:20 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 14:49:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 14:49:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 14:49:33 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 14:49:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 14:49:33 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 14:49:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 14:49:46 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:49:46 - api.routes.ai.exercise - INFO - Payload received: {'force_new': True}
2025-08-05 14:49:46 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 14:49:46 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 14:49:46 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754405374228'}
2025-08-05 14:49:46 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:49:50 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:49:50 - api.routes.ai.exercise - INFO - Payload received: {'force_new': True}
2025-08-05 14:49:50 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 14:49:50 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 14:49:50 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Food & Eating', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Apfel.', 'correctAnswer': 'esse', 'options': ['esse', 'trinke', 'kaufe', 'sehe']}, {'id': 'ex2', 'type': 'translation', 'question': 'I like bread.', 'correctAnswer': 'Ich mag Brot.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Essen _____ lecker.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754405374230'}
2025-08-05 14:49:50 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:49:53 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:49:53 - api.routes.ai.exercise - INFO - Payload received: {'force_new': True}
2025-08-05 14:49:53 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 14:49:54 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 14:49:54 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Weather & Seasons', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Es _____ heute.', 'correctAnswer': 'regnet', 'options': ['regnet', 'geregnet', 'regnete', 'regnen']}, {'id': 'ex2', 'type': 'translation', 'question': "It's cold today.", 'correctAnswer': 'Es ist kalt heute.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Der Winter _____ kalt.', 'correctAnswer': 'ist', 'options': ['ist', 'waren', 'war', 'sind']}], 'id': 'blk1754405374232'}
2025-08-05 14:49:54 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:49:59 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:49:59 - api.routes.ai.exercise - INFO - Payload received: {'force_new': True}
2025-08-05 14:49:59 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-05 14:49:59 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-05 14:49:59 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'gewohnt', 'wohnen', 'wohnte']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['sind', 'war', 'waren', 'ist']}], 'id': 'blk1754405374234'}
2025-08-05 14:49:59 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:50:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-05 14:50:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-05 14:50:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-05 14:50:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-05 14:50:21 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 14:55:54 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'gewohnt', 'wohnen', 'wohnte']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['sind', 'war', 'waren', 'ist']}], 'id': 'blk1754405374234'}
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-05 14:55:54 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'gewohnt', 'wohnen', 'wohnte']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['sind', 'war', 'waren', 'ist']}], 'id': 'blk1754405374234'}
2025-08-05 14:55:54 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-05 21:19:37 - api.routes.ai.exercise - ERROR - Error getting AI exercises: ??? Unknown Error: None
2025-08-05 21:19:37 - api.routes.ai.exercise - ERROR - Error type: <class 'werkzeug.exceptions.HTTPException'>
2025-08-05 21:19:37 - api.routes.ai.exercise - ERROR - Error details: ??? Unknown Error: None
2025-08-05 21:19:37 - api.routes.ai.exercise - ERROR - Traceback: Traceback (most recent call last):
  File "/app/src/api/routes/ai/exercise.py", line 73, in get_ai_exercises_route
    username = require_user()
               ^^^^^^^^^^^^^^
  File "/app/src/api/middleware/auth.py", line 58, in require_user
    abort(make_response(jsonify({"msg": "Unauthorized"}), 401))
  File "/usr/local/lib/python3.11/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/werkzeug/exceptions.py", line 871, in __call__
    raise HTTPException(response=code)
werkzeug.exceptions.HTTPException: ??? Unknown Error: None

2025-08-07 07:17:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 07:17:10 - __main__ - INFO - 🔄 Starting database migration...
2025-08-07 07:17:10 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-07 07:17:10 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-07 07:17:10 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-07 07:17:10 - __main__ - INFO - Database directory: /app/backend/database
2025-08-07 07:17:10 - __main__ - INFO - ✅ Database connection established
2025-08-07 07:17:10 - __main__ - INFO - Results table created/verified
2025-08-07 07:17:10 - __main__ - INFO - Topic memory table created/verified
2025-08-07 07:17:10 - __main__ - INFO - Sessions table created/verified
2025-08-07 07:17:10 - __main__ - INFO - User progress table created/verified
2025-08-07 07:17:10 - __main__ - INFO - User settings table created/verified
2025-08-07 07:17:10 - __main__ - INFO - Support requests table created/verified
2025-08-07 07:17:10 - __main__ - INFO - AI user data table created/verified
2025-08-07 07:17:10 - __main__ - INFO - Exercise history table created/verified
2025-08-07 07:17:10 - __main__ - INFO - AI exercise results table created/verified
2025-08-07 07:17:10 - __main__ - INFO - Topic memory status table created/verified
2025-08-07 07:17:10 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-07 07:17:10 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-07 07:17:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 07:17:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 07:17:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 07:17:10 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 07:17:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 07:17:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 07:17:12 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 07:17:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 07:17:12 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 07:17:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 07:18:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 07:18:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 07:18:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 07:18:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 07:18:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 07:21:49 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-07 07:21:49 - features.auth.authentication - WARNING - Authentication failed: user test not found
2025-08-07 07:22:29 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-07 07:22:29 - features.auth.authentication - WARNING - Authentication failed: user test not found
2025-08-07 07:37:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 07:37:32 - __main__ - INFO - 🔄 Starting database migration...
2025-08-07 07:37:32 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-07 07:37:32 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-07 07:37:32 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-07 07:37:32 - __main__ - INFO - Database directory: /app/backend/database
2025-08-07 07:37:32 - __main__ - INFO - ✅ Database connection established
2025-08-07 07:37:32 - __main__ - INFO - Results table created/verified
2025-08-07 07:37:32 - __main__ - INFO - Topic memory table created/verified
2025-08-07 07:37:32 - __main__ - INFO - Sessions table created/verified
2025-08-07 07:37:32 - __main__ - INFO - User progress table created/verified
2025-08-07 07:37:32 - __main__ - INFO - User settings table created/verified
2025-08-07 07:37:32 - __main__ - INFO - Support requests table created/verified
2025-08-07 07:37:32 - __main__ - INFO - AI user data table created/verified
2025-08-07 07:37:32 - __main__ - INFO - Exercise history table created/verified
2025-08-07 07:37:32 - __main__ - INFO - AI exercise results table created/verified
2025-08-07 07:37:32 - __main__ - INFO - Topic memory status table created/verified
2025-08-07 07:37:32 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-07 07:37:32 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-07 07:37:32 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 07:37:33 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 07:37:33 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 07:37:33 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 07:37:33 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 07:37:33 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 07:37:34 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 07:37:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 07:37:34 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 07:37:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 07:40:46 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-07 07:40:46 - features.auth.authentication - WARNING - Authentication failed: user test not found
2025-08-07 07:41:34 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-07 07:41:34 - features.auth.authentication - WARNING - Authentication failed: user test not found
2025-08-07 07:44:19 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-07 07:44:19 - features.auth.authentication - WARNING - Authentication failed: user test not found
2025-08-07 07:45:01 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-07 07:45:01 - core.session.session_manager - INFO - Created session for user test4
2025-08-07 07:45:01 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-07 07:49:19 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-07 07:49:19 - core.session.session_manager - INFO - Created session for user test4
2025-08-07 07:49:19 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-07 07:49:35 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-07 07:49:35 - core.session.session_manager - INFO - Created session for user test4
2025-08-07 07:49:35 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-07 07:49:43 - features.auth.authentication - INFO - Attempting authentication for user test4
2025-08-07 07:49:43 - core.session.session_manager - INFO - Created session for user test4
2025-08-07 07:49:43 - features.auth.authentication - INFO - Authentication successful for user test4
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 07:50:00 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'gewohnt', 'wohnen', 'wohnte']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['sind', 'war', 'waren', 'ist']}], 'id': 'blk1754405374234'}
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 07:50:00 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'gewohnt', 'wohnen', 'wohnte']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['sind', 'war', 'waren', 'ist']}], 'id': 'blk1754405374234'}
2025-08-07 07:50:00 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754405374234
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnt', 'ex2': 'mn', 'ex3': ',m'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'gewohnt', 'wohnen', 'wohnte'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['sind', 'war', 'waren', 'ist'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754405374234
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754405374234
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 07:50:13 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754405374234
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 07:50:13 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 07:50:13 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 07:50:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 07:50:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 07:50:13 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'mn'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'mn', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was ',m'.", 'alternatives': ['Ist'], 'user_answer': ',m', 'correct_answer': 'ist'}}
2025-08-07 07:50:13 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'mn', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': ',m', 'correct_answer': 'ist'}]}
2025-08-07 07:50:13 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'mn'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'mn', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was ',m'.", 'alternatives': ['Ist'], 'user_answer': ',m', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'mn', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': ',m', 'correct_answer': 'ist'}]})
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754405374234
2025-08-07 07:50:13 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754405374234
2025-08-07 07:50:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 07:50:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 07:50:14 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:50:15 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnt', 'ex2': 'mn', 'ex3': ',m'}}
2025-08-07 07:50:15 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 07:50:15 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 07:50:15 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254654'}
2025-08-07 07:50:15 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:50:16 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754405374234
2025-08-07 07:50:17 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754405374234
2025-08-07 07:57:37 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:57:37 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 07:57:37 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 07:57:37 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254654'}
2025-08-07 07:57:37 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:58:13 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:58:13 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 07:58:13 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 07:58:13 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254654'}
2025-08-07 07:58:13 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:58:47 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:58:47 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 07:58:47 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 07:58:47 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254654'}
2025-08-07 07:58:47 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754552254654
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'kaufen', 'ex2': 'df', 'ex3': 'd'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'kaufe', 'id': 'ex1', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft'], 'question': 'Ich _____ ein Buch.', 'type': 'gap-fill'}, {'correctAnswer': 'Wie viel kostet es?', 'id': 'ex2', 'question': 'How much does it cost?', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Buch _____ teuer.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754552254654
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754552254654
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 07:58:54 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754552254654
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 07:58:54 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 07:58:54 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 07:58:54 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 07:58:54 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 07:58:54 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'kaufe'.", 'explanation': "The correct answer is 'kaufe'. Your answer was 'kaufen'.", 'alternatives': ['Kaufe'], 'user_answer': 'kaufen', 'correct_answer': 'kaufe'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wie viel kostet es?'.", 'explanation': "The correct answer is 'Wie viel kostet es?'. Your answer was 'df'.", 'alternatives': ['Wie viel kostet es', 'wie viel kostet es?'], 'user_answer': 'df', 'correct_answer': 'Wie viel kostet es?'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'd'.", 'alternatives': ['Ist'], 'user_answer': 'd', 'correct_answer': 'ist'}}
2025-08-07 07:58:54 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Buch.', 'your_answer': 'kaufen', 'correct_answer': 'kaufe'}, {'question': 'How much does it cost?', 'your_answer': 'df', 'correct_answer': 'Wie viel kostet es?'}, {'question': 'Das Buch _____ teuer.', 'your_answer': 'd', 'correct_answer': 'ist'}]}
2025-08-07 07:58:54 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'kaufe'.", 'explanation': "The correct answer is 'kaufe'. Your answer was 'kaufen'.", 'alternatives': ['Kaufe'], 'user_answer': 'kaufen', 'correct_answer': 'kaufe'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wie viel kostet es?'.", 'explanation': "The correct answer is 'Wie viel kostet es?'. Your answer was 'df'.", 'alternatives': ['Wie viel kostet es', 'wie viel kostet es?'], 'user_answer': 'df', 'correct_answer': 'Wie viel kostet es?'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'd'.", 'alternatives': ['Ist'], 'user_answer': 'd', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Buch.', 'your_answer': 'kaufen', 'correct_answer': 'kaufe'}, {'question': 'How much does it cost?', 'your_answer': 'df', 'correct_answer': 'Wie viel kostet es?'}, {'question': 'Das Buch _____ teuer.', 'your_answer': 'd', 'correct_answer': 'ist'}]})
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754552254654
2025-08-07 07:58:54 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754552254654
2025-08-07 07:58:54 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 07:58:54 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 07:58:55 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:58:55 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'kaufen', 'ex2': 'df', 'ex3': 'd'}}
2025-08-07 07:58:55 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 07:58:55 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 07:58:55 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754552254656'}
2025-08-07 07:58:55 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:58:56 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754552254654
2025-08-07 07:58:59 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754552254654
2025-08-07 07:59:09 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:59:09 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 07:59:09 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 07:59:09 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754552254656'}
2025-08-07 07:59:09 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:59:18 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:19 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:20 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:21 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:22 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:23 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754552254656
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex2': 'op', 'ex1': 'lerne', 'ex3': 'o'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754552254656
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754552254656
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 07:59:24 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754552254656
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 07:59:24 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 07:59:24 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 07:59:24 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 07:59:24 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 07:59:24 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'lerne', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'op'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'op', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'o'.", 'alternatives': ['Arbeitet'], 'user_answer': 'o', 'correct_answer': 'arbeitet'}}
2025-08-07 07:59:24 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I go to work.', 'your_answer': 'op', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'o', 'correct_answer': 'arbeitet'}]}
2025-08-07 07:59:24 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'lerne', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'op'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'op', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'o'.", 'alternatives': ['Arbeitet'], 'user_answer': 'o', 'correct_answer': 'arbeitet'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I go to work.', 'your_answer': 'op', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'o', 'correct_answer': 'arbeitet'}]})
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754552254656
2025-08-07 07:59:24 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754552254656
2025-08-07 07:59:24 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 07:59:24 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 07:59:25 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:59:25 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex2': 'op', 'ex1': 'lerne', 'ex3': 'o'}}
2025-08-07 07:59:25 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 07:59:25 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 07:59:25 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 07:59:25 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:59:26 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754552254656
2025-08-07 07:59:28 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:29 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:30 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:30 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754552254656
2025-08-07 07:59:31 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:32 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:33 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:34 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:35 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:36 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:37 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:38 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:39 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:40 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:41 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:41 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 07:59:41 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 07:59:41 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 07:59:41 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 07:59:41 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 07:59:42 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:43 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:44 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:45 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:46 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:47 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:48 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:49 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:50 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:51 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:52 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:53 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:54 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:55 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:56 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 07:59:57 - flask-limiter - INFO - ratelimit 50 per 1 hour (172.18.0.2) exceeded at endpoint: ai.get_topic_memory_status_route
2025-08-07 08:03:48 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:03:48 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:03:48 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:03:48 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:03:49 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:04:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:04:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:04:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:04:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:04:06 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:04:24 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:04:24 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:04:24 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:04:24 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:04:24 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:04:25 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:04:25 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:04:25 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:04:25 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:04:25 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:04:38 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:04:38 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:04:38 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:04:38 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:04:38 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:04:39 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:04:39 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:04:39 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:04:39 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:04:39 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:04:50 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:04:50 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:04:50 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:04:50 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:04:50 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:04:52 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:04:52 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:04:52 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:04:52 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:04:52 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:05:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:05:18 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:05:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:05:18 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:05:18 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:06:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:06:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:06:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:06:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:06:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:06:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:06:41 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:06:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:06:41 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:06:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:07:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:07:01 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:07:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:07:01 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:07:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:07:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:07:28 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:07:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:07:28 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:07:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:07:31 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:07:31 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754552254658'}
2025-08-07 08:07:31 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754552254658
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnt', 'ex2': ',m', 'ex3': 'm'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754552254658
2025-08-07 08:07:40 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754552254658
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754552254658
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 08:07:40 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 08:07:40 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 08:07:40 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 08:07:40 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:07:40 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was ',m'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': ',m', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'm'.", 'alternatives': ['Ist'], 'user_answer': 'm', 'correct_answer': 'ist'}}
2025-08-07 08:07:40 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': ',m', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'm', 'correct_answer': 'ist'}]}
2025-08-07 08:07:40 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was ',m'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': ',m', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'm'.", 'alternatives': ['Ist'], 'user_answer': 'm', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': ',m', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'm', 'correct_answer': 'ist'}]})
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754552254658
2025-08-07 08:07:40 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754552254658
2025-08-07 08:07:40 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 08:07:40 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:07:41 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:07:41 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnt', 'ex2': ',m', 'ex3': 'm'}}
2025-08-07 08:07:41 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:07:41 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:07:41 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754554049247'}
2025-08-07 08:07:41 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:07:41 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754552254658
2025-08-07 08:07:41 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 08:07:41 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 08:07:41 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: test4, block: blk1754552254658, answers_count: 3
2025-08-07 08:07:41 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 08:07:41 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 08:07:41 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'wohnt'
2025-08-07 08:07:41 - features.exercise.exercise_evaluation - ERROR - Error processing AI answers for topic memory: name '_normalize_umlauts' is not defined
2025-08-07 08:07:41 - features.exercise.exercise_evaluation - ERROR - Full traceback: Traceback (most recent call last):
  File "/app/src/features/exercise/exercise_evaluation.py", line 231, in _evaluate_all_exercises
    result = process_ai_answers(username, block_id, answers, exercise_block_for_processing)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/features/ai/evaluation/exercise_processing.py", line 75, in process_ai_answers
    user_ans = _normalize_umlauts(user_answer.strip().lower())
               ^^^^^^^^^^^^^^^^^^
NameError: name '_normalize_umlauts' is not defined

2025-08-07 08:07:42 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754552254658
2025-08-07 08:07:46 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:07:46 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:07:46 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:02:46.130190')
2025-08-07 08:07:49 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:07:49 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:07:49 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:02:49.169940')
2025-08-07 08:07:52 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:07:52 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:07:52 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:02:52.166609')
2025-08-07 08:07:55 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:07:55 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:07:55 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:02:55.131039')
2025-08-07 08:07:58 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:07:58 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:07:58 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:02:58.137066')
2025-08-07 08:08:01 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:08:01 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:08:01 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:03:01.165963')
2025-08-07 08:08:04 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:08:04 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:08:04 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:03:04.162823')
2025-08-07 08:08:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:08:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:08:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:08:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:08:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:08:07 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:08:07 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:08:07 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:03:07.799516')
2025-08-07 08:08:10 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:08:10 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:08:10 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:03:10.137019')
2025-08-07 08:08:13 - core.database.connection - ERROR - Database execute_query error: no such column: timestamp
2025-08-07 08:08:13 - core.database.connection - ERROR - Query: SELECT COUNT(*) as count FROM vocab_log WHERE username = ? AND timestamp >= ?
2025-08-07 08:08:13 - core.database.connection - ERROR - Params: ('test4', '2025-08-07T08:03:13.152293')
2025-08-07 08:08:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:08:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:08:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:08:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:08:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:08:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:08:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:08:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:08:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:08:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:08:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:08:58 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:08:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:08:58 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:08:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:09:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:09:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:09:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:09:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:09:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:09:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:09:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:09:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:09:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:09:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:10:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:10:16 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:10:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:10:16 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:10:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:17:39 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:17:39 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:17:39 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:17:39 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754554049247'}
2025-08-07 08:17:39 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754554049247
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnt', 'ex2': 'k', 'ex3': 'k'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 08:17:46 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754554049247
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754554049247
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754554049247
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 08:17:46 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 08:17:46 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 08:17:46 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 08:17:46 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:17:46 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'k'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'k', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'k'.", 'alternatives': ['Ist'], 'user_answer': 'k', 'correct_answer': 'ist'}}
2025-08-07 08:17:46 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'k', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'k', 'correct_answer': 'ist'}]}
2025-08-07 08:17:46 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'k'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'k', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'k'.", 'alternatives': ['Ist'], 'user_answer': 'k', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'k', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'k', 'correct_answer': 'ist'}]})
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754554049247
2025-08-07 08:17:46 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754554049247
2025-08-07 08:17:46 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 08:17:46 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:17:48 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:17:48 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnt', 'ex2': 'k', 'ex3': 'k'}}
2025-08-07 08:17:48 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:17:48 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:17:48 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['gewohnt', 'wohnte', 'wohnt', 'wohnen']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754554216970'}
2025-08-07 08:17:48 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:17:49 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754554049247
2025-08-07 08:17:50 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754554049247
2025-08-07 08:17:50 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 08:17:50 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: test4, block: blk1754554049247, answers_count: 3
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'wohnt'
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 08:17:50 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 08:17:53 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 5.00
2025-08-07 08:17:53 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-07 08:17:53 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:17:53 - core.database.connection - ERROR - Params: ('test4', 'prepositions', 'gap-fill', 'gap-fill-exercise-ex1', None, 2.6, 1, '2025-08-08T08:17:53.203802', 1, '2025-08-07T08:17:53.203762', 1, 5)
2025-08-07 08:17:53 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-07 08:17:53 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:17:53 - core.database.connection - ERROR - Params: ('test4', 'present tense', 'gap-fill', 'gap-fill-exercise-ex1', None, 2.6, 1, '2025-08-08T08:17:53.207065', 1, '2025-08-07T08:17:53.207054', 1, 5)
2025-08-07 08:17:53 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named lesson_content_id
2025-08-07 08:17:53 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, lesson_content_id, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:17:53 - core.database.connection - ERROR - Params: ('test4', 'word order', 'gap-fill', 'gap-fill-exercise-ex1', None, 2.6, 1, '2025-08-08T08:17:53.209871', 1, '2025-08-07T08:17:53.209864', 1, 5)
2025-08-07 08:18:03 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=True, quality=5.0
2025-08-07 08:18:03 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'k'
2025-08-07 08:18:10 - core.database.connection - ERROR - Database execute_query error: Error binding parameter 6: type 'dict' is not supported
2025-08-07 08:18:10 - core.database.connection - ERROR - Query: INSERT INTO vocab_log (username, vocab, translation, word_type, article, details, context, exercise, next_review, created_at, last_review) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:18:10 - core.database.connection - ERROR - Params: ('test4', 'Schwester', 'sister', 'noun', 'die', {'plural': 'Schwestern', 'genus': 'feminine', 'additional_info': "The word 'Schwester' is a feminine noun. Its plural form is 'Schwestern'. It can also be used in compound words, such as 'Krankenschwester' (nurse) or 'Schwesternschaft' (sisterhood)."}, None, 'ai', '2025-08-07T08:18:10.331804', '2025-08-07T08:18:10.331804', '2025-08-07T08:18:10.331804')
2025-08-07 08:18:15 - core.database.connection - ERROR - Database execute_query error: Error binding parameter 6: type 'dict' is not supported
2025-08-07 08:18:15 - core.database.connection - ERROR - Query: INSERT INTO vocab_log (username, vocab, translation, word_type, article, details, context, exercise, next_review, created_at, last_review) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:18:15 - core.database.connection - ERROR - Params: ('test4', 'Schwester', 'sister', 'noun', 'die', {'plural': 'Schwestern', 'gender': 'feminine', 'additional_meanings': ['nurse (in some contexts)']}, None, 'ai', '2025-08-07T08:18:15.908095', '2025-08-07T08:18:15.908095', '2025-08-07T08:18:15.908095')
2025-08-07 08:18:15 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 08:18:15 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'k'
2025-08-07 08:18:23 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 08:18:23 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user test4
2025-08-07 08:18:23 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'wohnt', 'correct_answer': 'wohnt', 'is_correct': True, 'quality': 5.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'k', 'correct_answer': 'Ich habe eine Schwester.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'k', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 08:18:39 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:18:39 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:18:39 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:18:39 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:18:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:18:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:18:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:18:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:18:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:18:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:19:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:19:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:19:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:19:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:19:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:19:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:19:34 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:19:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:19:34 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:19:34 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:19:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:19:52 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:19:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:19:52 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:19:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:20:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:20:16 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:20:16 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:20:16 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:20:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:21:05 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:21:05 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:21:05 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:21:05 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['gewohnt', 'wohnte', 'wohnt', 'wohnen']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754554216970'}
2025-08-07 08:21:05 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:21:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:21:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:21:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:21:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:21:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754554216970
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnte', 'ex2': 'f', 'ex3': 'ee'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['gewohnt', 'wohnte', 'wohnt', 'wohnen'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754554216970
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754554216970
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:21:16 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754554216970
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 08:21:16 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 08:21:16 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 08:21:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 08:21:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:21:16 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohnt'.", 'explanation': "The correct answer is 'wohnt'. Your answer was 'wohnte'.", 'alternatives': ['Wohnt'], 'user_answer': 'wohnte', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'f'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'f', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'ee'.", 'alternatives': ['Ist'], 'user_answer': 'ee', 'correct_answer': 'ist'}}
2025-08-07 08:21:16 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Meine Familie _____ in Berlin.', 'your_answer': 'wohnte', 'correct_answer': 'wohnt'}, {'question': 'I have a sister.', 'your_answer': 'f', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'ee', 'correct_answer': 'ist'}]}
2025-08-07 08:21:16 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohnt'.", 'explanation': "The correct answer is 'wohnt'. Your answer was 'wohnte'.", 'alternatives': ['Wohnt'], 'user_answer': 'wohnte', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'f'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'f', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'ee'.", 'alternatives': ['Ist'], 'user_answer': 'ee', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Meine Familie _____ in Berlin.', 'your_answer': 'wohnte', 'correct_answer': 'wohnt'}, {'question': 'I have a sister.', 'your_answer': 'f', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'ee', 'correct_answer': 'ist'}]})
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754554216970
2025-08-07 08:21:16 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754554216970
2025-08-07 08:21:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 08:21:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:21:17 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:21:17 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnte', 'ex2': 'f', 'ex3': 'ee'}}
2025-08-07 08:21:17 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:21:17 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:21:17 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754554867274'}
2025-08-07 08:21:17 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:21:18 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754554216970
2025-08-07 08:21:19 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754554216970
2025-08-07 08:21:19 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 08:21:19 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['gewohnt', 'wohnte', 'wohnt', 'wohnen'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 08:21:19 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: test4, block: blk1754554216970, answers_count: 3
2025-08-07 08:21:19 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 08:21:19 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 08:21:19 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'wohnte'
2025-08-07 08:21:19 - features.ai.evaluation.gap_fill_check - ERROR - Error checking gap fill correctness: name '_normalize_umlauts' is not defined
2025-08-07 08:21:19 - features.exercise.exercise_evaluation - ERROR - Error processing AI answers for topic memory: Error checking gap fill correctness: name '_normalize_umlauts' is not defined
2025-08-07 08:21:19 - features.exercise.exercise_evaluation - ERROR - Full traceback: Traceback (most recent call last):
  File "/app/src/features/ai/evaluation/gap_fill_check.py", line 109, in check_gap_fill_correctness
    user_normalized = _normalize_umlauts(user_ans)
                      ^^^^^^^^^^^^^^^^^^
NameError: name '_normalize_umlauts' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/features/exercise/exercise_evaluation.py", line 231, in _evaluate_all_exercises
    result = process_ai_answers(username, block_id, answers, exercise_block_for_processing)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/features/ai/evaluation/exercise_processing.py", line 86, in process_ai_answers
    is_correct = check_gap_fill_correctness(ex, user_ans, correct_ans_norm)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/src/features/ai/evaluation/gap_fill_check.py", line 131, in check_gap_fill_correctness
    raise ValidationError(f"Error checking gap fill correctness: {str(e)}")
shared.exceptions.ValidationError: Error checking gap fill correctness: name '_normalize_umlauts' is not defined

2025-08-07 08:21:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:21:47 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:21:47 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:21:47 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:21:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:22:05 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:22:05 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:22:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:22:05 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:22:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:22:09 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:22:09 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:22:09 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:22:09 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754554867274'}
2025-08-07 08:22:09 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754554867274
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'lernt', 'ex2': 'ds', 'ex3': 'd'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 08:22:16 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754554867274
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754554867274
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754554867274
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 08:22:16 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 08:22:16 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 08:22:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 08:22:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:22:16 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'lerne'.", 'explanation': "The correct answer is 'lerne'. Your answer was 'lernt'.", 'alternatives': ['Lerne'], 'user_answer': 'lernt', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'ds'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'ds', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'd'.", 'alternatives': ['Arbeitet'], 'user_answer': 'd', 'correct_answer': 'arbeitet'}}
2025-08-07 08:22:16 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ Deutsch.', 'your_answer': 'lernt', 'correct_answer': 'lerne'}, {'question': 'I go to work.', 'your_answer': 'ds', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'd', 'correct_answer': 'arbeitet'}]}
2025-08-07 08:22:16 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'lerne'.", 'explanation': "The correct answer is 'lerne'. Your answer was 'lernt'.", 'alternatives': ['Lerne'], 'user_answer': 'lernt', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'ds'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'ds', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'd'.", 'alternatives': ['Arbeitet'], 'user_answer': 'd', 'correct_answer': 'arbeitet'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ Deutsch.', 'your_answer': 'lernt', 'correct_answer': 'lerne'}, {'question': 'I go to work.', 'your_answer': 'ds', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'd', 'correct_answer': 'arbeitet'}]})
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754554867274
2025-08-07 08:22:16 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754554867274
2025-08-07 08:22:16 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 08:22:16 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:22:17 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:22:17 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'lernt', 'ex2': 'ds', 'ex3': 'd'}}
2025-08-07 08:22:17 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:22:17 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:22:17 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754554925948'}
2025-08-07 08:22:17 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:22:18 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754554867274
2025-08-07 08:22:19 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754554867274
2025-08-07 08:22:19 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 08:22:19 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: test4, block: blk1754554867274, answers_count: 3
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'lernt'
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Ich lerne_ Deutsch.'
2025-08-07 08:22:19 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Ich lernt_ Deutsch.'
2025-08-07 08:22:21 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 3.00
2025-08-07 08:22:21 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:21 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:21 - core.database.connection - ERROR - Params: ('test4', 'present tense', 'gap-fill', 'gap-fill-exercise-ex1', 2.36, 1, '2025-08-08T08:22:21.762782', 1, '2025-08-07T08:22:21.762763', 1, 3)
2025-08-07 08:22:21 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:21 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:21 - core.database.connection - ERROR - Params: ('test4', 'verb conjugation', 'gap-fill', 'gap-fill-exercise-ex1', 2.5, 1, '2025-08-08T08:22:21.766322', 0, '2025-08-07T08:22:21.766316', 0, 1)
2025-08-07 08:22:21 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:21 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:21 - core.database.connection - ERROR - Params: ('test4', 'word order', 'gap-fill', 'gap-fill-exercise-ex1', 2.6, 1, '2025-08-08T08:22:21.769105', 1, '2025-08-07T08:22:21.769094', 1, 5)
2025-08-07 08:22:28 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=3.0
2025-08-07 08:22:28 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'ds'
2025-08-07 08:22:28 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 08:22:29 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:29 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:29 - core.database.connection - ERROR - Params: ('test4', 'dative case', 'translation', 'translation-exercise-ex2', 2.5, 1, '2025-08-08T08:22:29.048000', 0, '2025-08-07T08:22:29.047976', 0, 2)
2025-08-07 08:22:29 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:29 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:29 - core.database.connection - ERROR - Params: ('test4', 'prepositions', 'translation', 'translation-exercise-ex2', 2.5, 1, '2025-08-08T08:22:29.050892', 0, '2025-08-07T08:22:29.050887', 0, 2)
2025-08-07 08:22:29 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:29 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:29 - core.database.connection - ERROR - Params: ('test4', 'present tense', 'translation', 'translation-exercise-ex2', 2.5, 1, '2025-08-08T08:22:29.053347', 0, '2025-08-07T08:22:29.053344', 0, 2)
2025-08-07 08:22:29 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:29 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:29 - core.database.connection - ERROR - Params: ('test4', 'word order', 'translation', 'translation-exercise-ex2', 2.5, 1, '2025-08-08T08:22:29.055958', 0, '2025-08-07T08:22:29.055953', 0, 2)
2025-08-07 08:22:46 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 08:22:46 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'd'
2025-08-07 08:22:46 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 08:22:47 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:47 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:47 - core.database.connection - ERROR - Params: ('test4', 'present tense', 'grammar', 'grammar-exercise-ex3', 2.5, 1, '2025-08-08T08:22:47.128716', 0, '2025-08-07T08:22:47.128702', 0, 2)
2025-08-07 08:22:47 - core.database.connection - ERROR - Database execute_query error: table topic_memory has no column named intervall
2025-08-07 08:22:47 - core.database.connection - ERROR - Query: INSERT INTO topic_memory (username, grammar, skill_type, context, ease_factor, intervall, next_repeat, repetitions, last_review, correct, quality) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 08:22:47 - core.database.connection - ERROR - Params: ('test4', 'word order', 'grammar', 'grammar-exercise-ex3', 2.5, 1, '2025-08-08T08:22:47.130640', 0, '2025-08-07T08:22:47.130637', 0, 2)
2025-08-07 08:22:54 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:22:55 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:22:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:22:55 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:22:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:23:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:23:17 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:23:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:23:17 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:23:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:23:41 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:23:41 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:23:41 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:23:41 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:23:42 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:23:57 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:23:58 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:23:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:23:58 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:23:58 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:24:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:24:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:24:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:24:10 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:24:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:24:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:24:24 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:24:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:24:24 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:24:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:24:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:24:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:24:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:24:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:24:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:25:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:25:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:25:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:25:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:25:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:25:15 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:25:15 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:25:15 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:25:15 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754554925948'}
2025-08-07 08:25:15 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - User test4 submitting exercise block blk1754554925948
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnt', 'ex2': 'cxv', 'ex3': 'd'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: test4
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user test4, block blk1754554925948
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754554925948
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 08:25:24 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754554925948
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 08:25:24 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 08:25:24 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 08:25:24 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 08:25:24 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:25:24 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'cxv'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'cxv', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'd'.", 'alternatives': ['Ist'], 'user_answer': 'd', 'correct_answer': 'ist'}}
2025-08-07 08:25:24 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'cxv', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'd', 'correct_answer': 'ist'}]}
2025-08-07 08:25:24 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'cxv'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'cxv', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'd'.", 'alternatives': ['Ist'], 'user_answer': 'd', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'cxv', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'd', 'correct_answer': 'ist'}]})
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754554925948
2025-08-07 08:25:24 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754554925948
2025-08-07 08:25:24 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 08:25:24 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 08:25:25 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:25:25 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnt', 'ex2': 'cxv', 'ex3': 'd'}}
2025-08-07 08:25:25 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:25:25 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:25:25 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754555107499'}
2025-08-07 08:25:25 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:25:26 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754554925948
2025-08-07 08:25:31 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754554925948
2025-08-07 08:25:31 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 08:25:31 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: test4, block: blk1754554925948, answers_count: 3
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'wohnt'
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 08:25:31 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 08:25:36 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 5.00
2025-08-07 08:25:45 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=True, quality=5.0
2025-08-07 08:25:45 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'cxv'
2025-08-07 08:25:45 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 08:25:56 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 08:25:56 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'd'
2025-08-07 08:25:56 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 08:25:59 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 08:25:59 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user test4
2025-08-07 08:25:59 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'wohnt', 'correct_answer': 'wohnt', 'is_correct': True, 'quality': 5.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'cxv', 'correct_answer': 'Ich habe eine Schwester.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'd', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 08:26:21 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-07 08:26:21 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-07 08:26:25 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:26:25 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:26:25 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:26:26 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:26:26 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555107501'}
2025-08-07 08:26:26 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:26:26 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:26:26 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:26:26 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:26:26 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555107501'}
2025-08-07 08:26:26 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:26:36 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-07 08:26:36 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables for user test4
2025-08-07 08:26:38 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:26:38 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:26:38 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:26:38 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:26:38 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754555107503'}
2025-08-07 08:26:38 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:26:39 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:26:39 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:26:39 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:26:39 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754555107503'}
2025-08-07 08:26:39 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:27:43 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:27:44 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:27:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:27:44 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:27:44 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:28:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:28:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:28:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:28:37 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:28:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:28:46 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:28:46 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:28:46 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:28:46 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:28:47 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:28:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:28:55 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:28:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:28:55 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:28:55 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:29:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:29:05 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:29:05 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:29:05 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:29:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:29:22 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:29:22 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:29:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:29:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:29:23 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:29:40 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 08:29:40 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 08:29:40 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 08:29:40 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 08:29:41 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 08:34:15 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-07 08:34:15 - features.debug.cache_management - INFO - Cleared 8 cache entries for user test4
2025-08-07 08:34:15 - features.settings.account_management - INFO - DEBUG: Cleared 8 cache entries for user test4
2025-08-07 08:34:15 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables and cleared 8 cache entries for user test4
2025-08-07 08:34:19 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:34:19 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:34:19 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test4
2025-08-07 08:34:19 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test4
2025-08-07 08:34:19 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufen', 'kaufe', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381585'}
2025-08-07 08:34:19 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:34:20 - api.routes.ai.exercise - INFO - User test4 requesting AI exercises
2025-08-07 08:34:20 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:34:20 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test4
2025-08-07 08:34:20 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufen', 'kaufe', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381585'}
2025-08-07 08:34:20 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test4
2025-08-07 08:34:59 - features.settings.account_management - WARNING - DEBUG: Deleting all data for user test4
2025-08-07 08:34:59 - features.debug.cache_management - INFO - Cleared 0 cache entries for user test4
2025-08-07 08:34:59 - features.settings.account_management - INFO - DEBUG: Cleared 0 cache entries for user test4
2025-08-07 08:34:59 - features.settings.account_management - WARNING - DEBUG: Successfully deleted data from 11 tables and cleared 0 cache entries for user test4
2025-08-07 08:35:11 - features.auth.authentication - INFO - Attempting authentication for user test5
2025-08-07 08:35:11 - features.auth.authentication - WARNING - Authentication failed: invalid password for user test5
2025-08-07 08:35:23 - features.auth.user_accounts - INFO - Creating new user account for test8
2025-08-07 08:35:23 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-07 08:35:23 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-07 08:35:23 - core.database.connection - ERROR - Params: ('test8', 'personal pronouns')
2025-08-07 08:35:23 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-07 08:35:23 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-07 08:35:23 - core.database.connection - ERROR - Params: ('test8', 'sein')
2025-08-07 08:35:23 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-07 08:35:23 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-07 08:35:23 - core.database.connection - ERROR - Params: ('test8', 'haben')
2025-08-07 08:35:23 - features.auth.user_accounts - INFO - Initialized topic memory for user test8
2025-08-07 08:35:23 - features.auth.user_accounts - INFO - Successfully created user account for test8
2025-08-07 08:35:23 - features.auth.authentication - INFO - Attempting authentication for user test8
2025-08-07 08:35:23 - core.session.session_manager - INFO - Created session for user test8
2025-08-07 08:35:23 - features.auth.authentication - INFO - Authentication successful for user test8
2025-08-07 08:35:30 - api.routes.ai.exercise - INFO - User test8 requesting AI exercises
2025-08-07 08:35:30 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:35:30 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: test8
2025-08-07 08:35:30 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: test8
2025-08-07 08:35:30 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381587'}
2025-08-07 08:35:30 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test8
2025-08-07 08:35:31 - api.routes.ai.exercise - INFO - User test8 requesting AI exercises
2025-08-07 08:35:31 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 08:35:31 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test8
2025-08-07 08:35:31 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381587'}
2025-08-07 08:35:31 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test8
2025-08-07 09:38:45 - features.auth.authentication - INFO - Attempting authentication for user test8
2025-08-07 09:38:45 - core.session.session_manager - INFO - Created session for user test8
2025-08-07 09:38:45 - features.auth.authentication - INFO - Authentication successful for user test8
2025-08-07 09:38:50 - api.routes.ai.exercise - INFO - User test8 requesting AI exercises
2025-08-07 09:38:50 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 09:38:50 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test8
2025-08-07 09:38:50 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381587'}
2025-08-07 09:38:50 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test8
2025-08-07 09:38:51 - api.routes.ai.exercise - INFO - User test8 requesting AI exercises
2025-08-07 09:38:51 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 09:38:51 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: test8
2025-08-07 09:38:51 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381587'}
2025-08-07 09:38:51 - api.routes.ai.exercise - INFO - Returning 3 exercises for user test8
2025-08-07 09:40:53 - features.auth.authentication - INFO - Attempting authentication for user aa
2025-08-07 09:40:53 - features.auth.authentication - WARNING - Authentication failed: user aa not found
2025-08-07 09:41:22 - features.auth.user_accounts - INFO - Creating new user account for asdf
2025-08-07 09:41:22 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-07 09:41:22 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-07 09:41:22 - core.database.connection - ERROR - Params: ('asdf', 'personal pronouns')
2025-08-07 09:41:22 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-07 09:41:22 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-07 09:41:22 - core.database.connection - ERROR - Params: ('asdf', 'sein')
2025-08-07 09:41:22 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-07 09:41:22 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-07 09:41:22 - core.database.connection - ERROR - Params: ('asdf', 'haben')
2025-08-07 09:41:22 - features.auth.user_accounts - INFO - Initialized topic memory for user asdf
2025-08-07 09:41:22 - features.auth.user_accounts - INFO - Successfully created user account for asdf
2025-08-07 09:41:22 - features.auth.authentication - INFO - Attempting authentication for user asdf
2025-08-07 09:41:22 - core.session.session_manager - INFO - Created session for user asdf
2025-08-07 09:41:22 - features.auth.authentication - INFO - Authentication successful for user asdf
2025-08-07 09:41:30 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 09:41:30 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 09:41:30 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 09:41:30 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 09:41:30 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381589'}
2025-08-07 09:41:30 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 09:41:31 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 09:41:31 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 09:41:31 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 09:41:31 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381589'}
2025-08-07 09:41:31 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754555381589
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnt', 'ex2': 'df', 'ex3': 'df'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 09:42:02 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754555381589
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754555381589
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754555381589
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 09:42:02 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 09:42:02 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 09:42:02 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 09:42:02 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 09:42:02 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'df'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'df', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'df'.", 'alternatives': ['Ist'], 'user_answer': 'df', 'correct_answer': 'ist'}}
2025-08-07 09:42:02 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'df', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'df', 'correct_answer': 'ist'}]}
2025-08-07 09:42:02 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'wohnt', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'df'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'df', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'df'.", 'alternatives': ['Ist'], 'user_answer': 'df', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I have a sister.', 'your_answer': 'df', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'df', 'correct_answer': 'ist'}]})
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754555381589
2025-08-07 09:42:02 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754555381589
2025-08-07 09:42:02 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 09:42:02 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 09:42:03 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 09:42:03 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnt', 'ex2': 'df', 'ex3': 'df'}}
2025-08-07 09:42:03 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 09:42:03 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 09:42:03 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381591'}
2025-08-07 09:42:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 09:42:04 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754555381589
2025-08-07 09:42:06 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754555381589
2025-08-07 09:42:06 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 09:42:06 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754555381589, answers_count: 3
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'wohnt'
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 09:42:06 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 09:42:09 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 5.00
2025-08-07 09:42:23 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=True, quality=5.0
2025-08-07 09:42:23 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'df'
2025-08-07 09:42:23 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 09:42:35 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 09:42:35 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'df'
2025-08-07 09:42:35 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 09:42:44 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 09:42:44 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 09:42:44 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'wohnt', 'correct_answer': 'wohnt', 'is_correct': True, 'quality': 5.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'df', 'correct_answer': 'Ich habe eine Schwester.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'df', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 09:45:07 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:45:07 - core.database.connection - ERROR - Database execute_query error: no such column: quality
2025-08-07 09:45:07 - core.database.connection - ERROR - Query: SELECT vocab, translation, article, word_type, details, created_at, next_review, context, exercise, repetitions, quality, last_review FROM vocab_log WHERE username = ? ORDER BY datetime(next_review) ASC
2025-08-07 09:45:07 - core.database.connection - ERROR - Params: ('asdf',)
2025-08-07 09:45:07 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'asdf'
2025-08-07 09:47:47 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:47:47 - core.database.connection - ERROR - Database execute_query error: no such column: quality
2025-08-07 09:47:47 - core.database.connection - ERROR - Query: SELECT vocab, translation, article, word_type, details, created_at, next_review, context, exercise, repetitions, quality, last_review FROM vocab_log WHERE username = ? ORDER BY datetime(next_review) ASC
2025-08-07 09:47:47 - core.database.connection - ERROR - Params: ('asdf',)
2025-08-07 09:47:47 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'asdf'
2025-08-07 09:48:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 09:48:07 - __main__ - INFO - 🔄 Starting database migration...
2025-08-07 09:48:07 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-07 09:48:07 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-07 09:48:07 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-07 09:48:07 - __main__ - INFO - Database directory: /app/backend/database
2025-08-07 09:48:07 - __main__ - INFO - ✅ Database connection established
2025-08-07 09:48:07 - __main__ - INFO - Results table created/verified
2025-08-07 09:48:07 - __main__ - INFO - Topic memory table created/verified
2025-08-07 09:48:07 - __main__ - INFO - Sessions table created/verified
2025-08-07 09:48:07 - __main__ - INFO - User progress table created/verified
2025-08-07 09:48:07 - __main__ - INFO - User settings table created/verified
2025-08-07 09:48:07 - __main__ - INFO - Support requests table created/verified
2025-08-07 09:48:07 - __main__ - INFO - AI user data table created/verified
2025-08-07 09:48:07 - __main__ - INFO - Exercise history table created/verified
2025-08-07 09:48:07 - __main__ - INFO - AI exercise results table created/verified
2025-08-07 09:48:07 - __main__ - INFO - Topic memory status table created/verified
2025-08-07 09:48:07 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-07 09:48:07 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-07 09:48:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 09:48:08 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 09:48:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 09:48:08 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 09:48:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 09:48:10 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 09:48:10 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 09:48:10 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 09:48:10 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 09:48:11 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 09:48:45 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:48:45 - core.database.connection - ERROR - Database execute_query error: no such column: quality
2025-08-07 09:48:45 - core.database.connection - ERROR - Query: SELECT vocab, translation, article, word_type, details, created_at, next_review, context, exercise, repetitions, quality, last_review FROM vocab_log WHERE username = ? ORDER BY datetime(next_review) ASC
2025-08-07 09:48:45 - core.database.connection - ERROR - Params: ('asdf',)
2025-08-07 09:48:45 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'asdf'
2025-08-07 09:48:46 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:48:46 - core.database.connection - ERROR - Database execute_query error: no such column: quality
2025-08-07 09:48:46 - core.database.connection - ERROR - Query: SELECT vocab, translation, article, word_type, details, created_at, next_review, context, exercise, repetitions, quality, last_review FROM vocab_log WHERE username = ? ORDER BY datetime(next_review) ASC
2025-08-07 09:48:46 - core.database.connection - ERROR - Params: ('asdf',)
2025-08-07 09:48:46 - core.services.vocabulary_service - INFO - No vocabulary entries found for user 'asdf'
2025-08-07 09:50:16 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 09:50:16 - __main__ - INFO - 🔄 Starting database migration...
2025-08-07 09:50:16 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-07 09:50:16 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-07 09:50:16 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-07 09:50:16 - __main__ - INFO - Database directory: /app/backend/database
2025-08-07 09:50:16 - __main__ - INFO - ✅ Database connection established
2025-08-07 09:50:16 - __main__ - INFO - Results table created/verified
2025-08-07 09:50:16 - __main__ - INFO - Added 'quality' column to vocab_log table
2025-08-07 09:50:16 - __main__ - INFO - Topic memory table created/verified
2025-08-07 09:50:16 - __main__ - INFO - Sessions table created/verified
2025-08-07 09:50:16 - __main__ - INFO - User progress table created/verified
2025-08-07 09:50:16 - __main__ - INFO - User settings table created/verified
2025-08-07 09:50:16 - __main__ - INFO - Support requests table created/verified
2025-08-07 09:50:16 - __main__ - INFO - AI user data table created/verified
2025-08-07 09:50:16 - __main__ - INFO - Exercise history table created/verified
2025-08-07 09:50:16 - __main__ - INFO - AI exercise results table created/verified
2025-08-07 09:50:16 - __main__ - INFO - Topic memory status table created/verified
2025-08-07 09:50:16 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-07 09:50:16 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-07 09:50:17 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 09:50:17 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 09:50:17 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 09:50:17 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 09:50:17 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 09:50:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 09:50:18 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 09:50:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 09:50:18 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 09:50:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 09:50:24 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:50:24 - core.services.vocabulary_service - INFO - Retrieved 10 vocabulary entries for user 'asdf'
2025-08-07 09:50:25 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:50:25 - core.services.vocabulary_service - INFO - Retrieved 10 vocabulary entries for user 'asdf'
2025-08-07 09:50:32 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:50:32 - core.services.vocabulary_service - INFO - Retrieved 10 vocabulary entries for user 'asdf'
2025-08-07 09:50:57 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:50:57 - core.services.vocabulary_service - INFO - Retrieved 10 vocabulary entries for user 'asdf'
2025-08-07 09:53:06 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 09:53:06 - core.services.vocabulary_service - INFO - Retrieved 10 vocabulary entries for user 'asdf'
2025-08-07 09:58:05 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 09:58:05 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 09:58:05 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 09:58:05 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381591'}
2025-08-07 09:58:05 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 09:58:06 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 09:58:06 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 09:58:06 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 09:58:06 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754555381591'}
2025-08-07 09:58:06 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754555381591
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'kaufen', 'ex2': 'xf', 'ex3': 'fd'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'kaufe', 'id': 'ex1', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft'], 'question': 'Ich _____ ein Buch.', 'type': 'gap-fill'}, {'correctAnswer': 'Wie viel kostet es?', 'id': 'ex2', 'question': 'How much does it cost?', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Buch _____ teuer.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 09:58:13 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754555381591
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754555381591
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754555381591
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 09:58:13 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 09:58:13 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 09:58:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 09:58:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 09:58:13 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'kaufe'.", 'explanation': "The correct answer is 'kaufe'. Your answer was 'kaufen'.", 'alternatives': ['Kaufe'], 'user_answer': 'kaufen', 'correct_answer': 'kaufe'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wie viel kostet es?'.", 'explanation': "The correct answer is 'Wie viel kostet es?'. Your answer was 'xf'.", 'alternatives': ['Wie viel kostet es', 'wie viel kostet es?'], 'user_answer': 'xf', 'correct_answer': 'Wie viel kostet es?'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'fd'.", 'alternatives': ['Ist'], 'user_answer': 'fd', 'correct_answer': 'ist'}}
2025-08-07 09:58:13 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Buch.', 'your_answer': 'kaufen', 'correct_answer': 'kaufe'}, {'question': 'How much does it cost?', 'your_answer': 'xf', 'correct_answer': 'Wie viel kostet es?'}, {'question': 'Das Buch _____ teuer.', 'your_answer': 'fd', 'correct_answer': 'ist'}]}
2025-08-07 09:58:13 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'kaufe'.", 'explanation': "The correct answer is 'kaufe'. Your answer was 'kaufen'.", 'alternatives': ['Kaufe'], 'user_answer': 'kaufen', 'correct_answer': 'kaufe'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wie viel kostet es?'.", 'explanation': "The correct answer is 'Wie viel kostet es?'. Your answer was 'xf'.", 'alternatives': ['Wie viel kostet es', 'wie viel kostet es?'], 'user_answer': 'xf', 'correct_answer': 'Wie viel kostet es?'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'fd'.", 'alternatives': ['Ist'], 'user_answer': 'fd', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Buch.', 'your_answer': 'kaufen', 'correct_answer': 'kaufe'}, {'question': 'How much does it cost?', 'your_answer': 'xf', 'correct_answer': 'Wie viel kostet es?'}, {'question': 'Das Buch _____ teuer.', 'your_answer': 'fd', 'correct_answer': 'ist'}]})
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754555381591
2025-08-07 09:58:13 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754555381591
2025-08-07 09:58:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 09:58:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 09:58:14 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 09:58:14 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'kaufen', 'ex2': 'xf', 'ex3': 'fd'}}
2025-08-07 09:58:14 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 09:58:14 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 09:58:14 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560219296'}
2025-08-07 09:58:14 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 09:58:15 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754555381591
2025-08-07 09:58:17 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754555381591
2025-08-07 09:58:17 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 09:58:17 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'kaufe', 'id': 'ex1', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft'], 'question': 'Ich _____ ein Buch.', 'type': 'gap-fill'}, {'correctAnswer': 'Wie viel kostet es?', 'id': 'ex2', 'question': 'How much does it cost?', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Buch _____ teuer.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754555381591, answers_count: 3
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'kaufen'
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Ich kaufe_ ein Buch.'
2025-08-07 09:58:17 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Ich kaufen_ ein Buch.'
2025-08-07 09:58:28 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 1.17
2025-08-07 09:58:45 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=1.1666666666666667
2025-08-07 09:58:45 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'xf'
2025-08-07 09:58:45 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 09:59:29 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 09:59:29 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'fd'
2025-08-07 09:59:29 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 09:59:41 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 09:59:41 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 09:59:41 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'kaufen', 'correct_answer': 'kaufe', 'is_correct': False, 'quality': 1.1666666666666667, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'xf', 'correct_answer': 'Wie viel kostet es?', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'fd', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:00:00 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:00:00 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:00:00 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:00:00 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:00:01 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:00:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:00:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:00:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:00:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:00:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:00:30 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:00:31 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:00:31 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:00:31 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:00:31 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:02:55 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:02:55 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:02:55 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:02:55 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:02:56 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:03:02 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:03:02 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:03:02 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:03:02 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560219296'}
2025-08-07 10:03:02 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:03:03 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:03:03 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:03:03 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:03:03 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560219296'}
2025-08-07 10:03:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754560219296
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'lernt', 'ex2': 'xsd', 'ex3': 'sd'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:03:09 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754560219296
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754560219296
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754560219296
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:03:09 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:03:09 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:03:09 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:03:09 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:03:09 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'lerne'.", 'explanation': "The correct answer is 'lerne'. Your answer was 'lernt'.", 'alternatives': ['Lerne'], 'user_answer': 'lernt', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'xsd'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'xsd', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'sd'.", 'alternatives': ['Arbeitet'], 'user_answer': 'sd', 'correct_answer': 'arbeitet'}}
2025-08-07 10:03:09 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ Deutsch.', 'your_answer': 'lernt', 'correct_answer': 'lerne'}, {'question': 'I go to work.', 'your_answer': 'xsd', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'sd', 'correct_answer': 'arbeitet'}]}
2025-08-07 10:03:09 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'lerne'.", 'explanation': "The correct answer is 'lerne'. Your answer was 'lernt'.", 'alternatives': ['Lerne'], 'user_answer': 'lernt', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'xsd'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'xsd', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'sd'.", 'alternatives': ['Arbeitet'], 'user_answer': 'sd', 'correct_answer': 'arbeitet'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ Deutsch.', 'your_answer': 'lernt', 'correct_answer': 'lerne'}, {'question': 'I go to work.', 'your_answer': 'xsd', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'sd', 'correct_answer': 'arbeitet'}]})
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754560219296
2025-08-07 10:03:09 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754560219296
2025-08-07 10:03:09 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:03:09 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:03:10 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:03:10 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'lernt', 'ex2': 'xsd', 'ex3': 'sd'}}
2025-08-07 10:03:10 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:03:10 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:03:10 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976272'}
2025-08-07 10:03:10 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:03:11 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754560219296
2025-08-07 10:03:15 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754560219296
2025-08-07 10:03:15 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:03:15 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754560219296, answers_count: 3
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'lernt'
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Ich lerne_ Deutsch.'
2025-08-07 10:03:15 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Ich lernt_ Deutsch.'
2025-08-07 10:03:23 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 3.00
2025-08-07 10:03:32 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=3.0
2025-08-07 10:03:32 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'xsd'
2025-08-07 10:03:32 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:03:59 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:03:59 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'sd'
2025-08-07 10:03:59 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:04:15 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:04:15 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:04:15 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'lernt', 'correct_answer': 'lerne', 'is_correct': False, 'quality': 3.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'xsd', 'correct_answer': 'Ich gehe zur Arbeit.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'sd', 'correct_answer': 'arbeitet', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:08:44 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:08:44 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:08:44 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:08:44 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976272'}
2025-08-07 10:08:44 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:08:45 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:08:45 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:08:45 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:08:45 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976272'}
2025-08-07 10:08:45 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754560976272
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'kaufen', 'ex2': 'rg', 'ex3': 'frg '}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'kaufe', 'id': 'ex1', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft'], 'question': 'Ich _____ ein Buch.', 'type': 'gap-fill'}, {'correctAnswer': 'Wie viel kostet es?', 'id': 'ex2', 'question': 'How much does it cost?', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Buch _____ teuer.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754560976272
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754560976272
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754560976272
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:08:54 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:08:54 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:08:54 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:08:54 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:08:54 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'kaufe'.", 'explanation': "The correct answer is 'kaufe'. Your answer was 'kaufen'.", 'alternatives': ['Kaufe'], 'user_answer': 'kaufen', 'correct_answer': 'kaufe'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wie viel kostet es?'.", 'explanation': "The correct answer is 'Wie viel kostet es?'. Your answer was 'rg'.", 'alternatives': ['Wie viel kostet es', 'wie viel kostet es?'], 'user_answer': 'rg', 'correct_answer': 'Wie viel kostet es?'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'frg'.", 'alternatives': ['Ist'], 'user_answer': 'frg', 'correct_answer': 'ist'}}
2025-08-07 10:08:54 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Buch.', 'your_answer': 'kaufen', 'correct_answer': 'kaufe'}, {'question': 'How much does it cost?', 'your_answer': 'rg', 'correct_answer': 'Wie viel kostet es?'}, {'question': 'Das Buch _____ teuer.', 'your_answer': 'frg', 'correct_answer': 'ist'}]}
2025-08-07 10:08:54 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'kaufe'.", 'explanation': "The correct answer is 'kaufe'. Your answer was 'kaufen'.", 'alternatives': ['Kaufe'], 'user_answer': 'kaufen', 'correct_answer': 'kaufe'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Wie viel kostet es?'.", 'explanation': "The correct answer is 'Wie viel kostet es?'. Your answer was 'rg'.", 'alternatives': ['Wie viel kostet es', 'wie viel kostet es?'], 'user_answer': 'rg', 'correct_answer': 'Wie viel kostet es?'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'frg'.", 'alternatives': ['Ist'], 'user_answer': 'frg', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ ein Buch.', 'your_answer': 'kaufen', 'correct_answer': 'kaufe'}, {'question': 'How much does it cost?', 'your_answer': 'rg', 'correct_answer': 'Wie viel kostet es?'}, {'question': 'Das Buch _____ teuer.', 'your_answer': 'frg', 'correct_answer': 'ist'}]})
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754560976272
2025-08-07 10:08:54 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:08:54 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754560976272
2025-08-07 10:08:54 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:08:54 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:08:55 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:08:55 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'kaufen', 'ex2': 'rg', 'ex3': 'frg '}}
2025-08-07 10:08:55 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:08:55 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:08:55 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Weather & Seasons', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Es _____ heute.', 'correctAnswer': 'regnet', 'options': ['regnet', 'regnen', 'regnete', 'geregnet']}, {'id': 'ex2', 'type': 'translation', 'question': "It's cold today.", 'correctAnswer': 'Es ist kalt heute.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Der Winter _____ kalt.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976274'}
2025-08-07 10:08:55 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:08:56 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754560976272
2025-08-07 10:08:57 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754560976272
2025-08-07 10:08:57 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:08:57 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'kaufe', 'id': 'ex1', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft'], 'question': 'Ich _____ ein Buch.', 'type': 'gap-fill'}, {'correctAnswer': 'Wie viel kostet es?', 'id': 'ex2', 'question': 'How much does it cost?', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Buch _____ teuer.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754560976272, answers_count: 3
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'kaufen'
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Ich kaufe_ ein Buch.'
2025-08-07 10:08:57 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Ich kaufen_ ein Buch.'
2025-08-07 10:09:03 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 1.40
2025-08-07 10:09:03 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:09:03 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:09:03 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:09:03 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Weather & Seasons', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Es _____ heute.', 'correctAnswer': 'regnet', 'options': ['regnet', 'regnen', 'regnete', 'geregnet']}, {'id': 'ex2', 'type': 'translation', 'question': "It's cold today.", 'correctAnswer': 'Es ist kalt heute.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Der Winter _____ kalt.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976274'}
2025-08-07 10:09:03 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:09:07 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=1.4
2025-08-07 10:09:07 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'rg'
2025-08-07 10:09:07 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754560976274
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'regnen', 'ex2': 'fb', 'ex3': 'fg'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'regnet', 'id': 'ex1', 'options': ['regnet', 'regnen', 'regnete', 'geregnet'], 'question': 'Es _____ heute.', 'type': 'gap-fill'}, {'correctAnswer': 'Es ist kalt heute.', 'id': 'ex2', 'question': "It's cold today.", 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Der Winter _____ kalt.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754560976274
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754560976274
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:09:13 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754560976274
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:09:13 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:09:13 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:09:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:09:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:09:13 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'regnet'.", 'explanation': "The correct answer is 'regnet'. Your answer was 'regnen'.", 'alternatives': ['Regnet'], 'user_answer': 'regnen', 'correct_answer': 'regnet'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Es ist kalt heute.'.", 'explanation': "The correct answer is 'Es ist kalt heute.'. Your answer was 'fb'.", 'alternatives': ['Es ist kalt heute', 'es ist kalt heute.'], 'user_answer': 'fb', 'correct_answer': 'Es ist kalt heute.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'fg'.", 'alternatives': ['Ist'], 'user_answer': 'fg', 'correct_answer': 'ist'}}
2025-08-07 10:09:13 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Es _____ heute.', 'your_answer': 'regnen', 'correct_answer': 'regnet'}, {'question': "It's cold today.", 'your_answer': 'fb', 'correct_answer': 'Es ist kalt heute.'}, {'question': 'Der Winter _____ kalt.', 'your_answer': 'fg', 'correct_answer': 'ist'}]}
2025-08-07 10:09:13 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'regnet'.", 'explanation': "The correct answer is 'regnet'. Your answer was 'regnen'.", 'alternatives': ['Regnet'], 'user_answer': 'regnen', 'correct_answer': 'regnet'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Es ist kalt heute.'.", 'explanation': "The correct answer is 'Es ist kalt heute.'. Your answer was 'fb'.", 'alternatives': ['Es ist kalt heute', 'es ist kalt heute.'], 'user_answer': 'fb', 'correct_answer': 'Es ist kalt heute.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'fg'.", 'alternatives': ['Ist'], 'user_answer': 'fg', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Es _____ heute.', 'your_answer': 'regnen', 'correct_answer': 'regnet'}, {'question': "It's cold today.", 'your_answer': 'fb', 'correct_answer': 'Es ist kalt heute.'}, {'question': 'Der Winter _____ kalt.', 'your_answer': 'fg', 'correct_answer': 'ist'}]})
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754560976274
2025-08-07 10:09:13 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754560976274
2025-08-07 10:09:13 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:09:13 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:09:14 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:09:14 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'regnen', 'ex2': 'fb', 'ex3': 'fg'}}
2025-08-07 10:09:14 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:09:15 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:09:15 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560976276'}
2025-08-07 10:09:15 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:09:15 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754560976274
2025-08-07 10:09:18 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754560976274
2025-08-07 10:09:18 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:09:18 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'regnet', 'id': 'ex1', 'options': ['regnet', 'regnen', 'regnete', 'geregnet'], 'question': 'Es _____ heute.', 'type': 'gap-fill'}, {'correctAnswer': 'Es ist kalt heute.', 'id': 'ex2', 'question': "It's cold today.", 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Der Winter _____ kalt.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754560976274, answers_count: 3
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'regnen'
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Es regnet_ heute.'
2025-08-07 10:09:18 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Es regnen_ heute.'
2025-08-07 10:09:18 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:09:18 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:09:18 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:09:18 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560976276'}
2025-08-07 10:09:18 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:09:23 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 3.33
2025-08-07 10:09:24 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:09:24 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'frg '
2025-08-07 10:09:24 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:09:27 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:09:27 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:09:27 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'kaufen', 'correct_answer': 'kaufe', 'is_correct': False, 'quality': 1.4, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'rg', 'correct_answer': 'Wie viel kostet es?', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'frg ', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:09:31 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=3.3333333333333335
2025-08-07 10:09:31 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'fb'
2025-08-07 10:09:31 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:09:45 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:09:45 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'fg'
2025-08-07 10:09:45 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:09:49 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:09:49 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:09:49 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'regnen', 'correct_answer': 'regnet', 'is_correct': False, 'quality': 3.3333333333333335, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'fb', 'correct_answer': 'Es ist kalt heute.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'fg', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:10:57 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:10:57 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:10:57 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:10:57 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560976276'}
2025-08-07 10:10:57 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:10:58 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:10:58 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:10:58 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:10:58 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560976276'}
2025-08-07 10:10:58 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:11:10 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:11:10 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:11:10 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:11:10 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754560976276'}
2025-08-07 10:11:10 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754560976276
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'lerne', 'ex2': 'DFG', 'ex3': 'FG'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754560976276
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754560976276
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:13:18 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754560976276
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:13:18 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:13:18 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:13:18 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:13:18 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:13:18 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'lerne', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'DFG'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'DFG', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'FG'.", 'alternatives': ['Arbeitet'], 'user_answer': 'FG', 'correct_answer': 'arbeitet'}}
2025-08-07 10:13:18 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I go to work.', 'your_answer': 'DFG', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'FG', 'correct_answer': 'arbeitet'}]}
2025-08-07 10:13:18 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'lerne', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'DFG'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'DFG', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'FG'.", 'alternatives': ['Arbeitet'], 'user_answer': 'FG', 'correct_answer': 'arbeitet'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': 'I go to work.', 'your_answer': 'DFG', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'FG', 'correct_answer': 'arbeitet'}]})
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754560976276
2025-08-07 10:13:18 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754560976276
2025-08-07 10:13:18 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:13:18 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:13:20 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:13:20 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'lerne', 'ex2': 'DFG', 'ex3': 'FG'}}
2025-08-07 10:13:20 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:13:20 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:13:20 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976278'}
2025-08-07 10:13:20 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:13:21 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754560976276
2025-08-07 10:13:22 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754560976276
2025-08-07 10:13:22 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:13:22 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754560976276, answers_count: 3
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'lerne'
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Ich lerne_ Deutsch.'
2025-08-07 10:13:22 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Ich lerne_ Deutsch.'
2025-08-07 10:13:26 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 5.00
2025-08-07 10:13:26 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:13:26 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:13:26 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:13:26 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976278'}
2025-08-07 10:13:26 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:13:30 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=True, quality=5.0
2025-08-07 10:13:30 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'DFG'
2025-08-07 10:13:30 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:13:48 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:13:48 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'FG'
2025-08-07 10:13:48 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:13:55 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:13:55 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:13:55 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'lerne', 'correct_answer': 'lerne', 'is_correct': True, 'quality': 5.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'DFG', 'correct_answer': 'Ich gehe zur Arbeit.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'FG', 'correct_answer': 'arbeitet', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:15:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:15:04 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:15:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:15:04 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:15:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:15:09 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:15:09 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:15:09 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:15:09 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976278'}
2025-08-07 10:15:09 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:15:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:15:25 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:15:25 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:15:25 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:15:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:17:20 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:17:20 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:17:20 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:17:20 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976278'}
2025-08-07 10:17:20 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:17:31 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:17:31 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:17:31 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:17:31 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754560976278'}
2025-08-07 10:17:31 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754560976278
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnen', 'ex2': 'sf', 'ex3': 'sfd'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754560976278
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754560976278
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:17:53 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754560976278
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:17:53 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:17:53 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:17:53 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:17:53 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:17:53 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohnt'.", 'explanation': "The correct answer is 'wohnt'. Your answer was 'wohnen'.", 'alternatives': ['Wohnt'], 'user_answer': 'wohnen', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'sf'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'sf', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'sfd'.", 'alternatives': ['Ist'], 'user_answer': 'sfd', 'correct_answer': 'ist'}}
2025-08-07 10:17:53 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Meine Familie _____ in Berlin.', 'your_answer': 'wohnen', 'correct_answer': 'wohnt'}, {'question': 'I have a sister.', 'your_answer': 'sf', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'sfd', 'correct_answer': 'ist'}]}
2025-08-07 10:17:53 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohnt'.", 'explanation': "The correct answer is 'wohnt'. Your answer was 'wohnen'.", 'alternatives': ['Wohnt'], 'user_answer': 'wohnen', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'sf'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'sf', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'sfd'.", 'alternatives': ['Ist'], 'user_answer': 'sfd', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Meine Familie _____ in Berlin.', 'your_answer': 'wohnen', 'correct_answer': 'wohnt'}, {'question': 'I have a sister.', 'your_answer': 'sf', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'sfd', 'correct_answer': 'ist'}]})
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754560976278
2025-08-07 10:17:53 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754560976278
2025-08-07 10:17:53 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:17:53 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:17:54 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:17:54 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnen', 'ex2': 'sf', 'ex3': 'sfd'}}
2025-08-07 10:17:54 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:17:54 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:17:54 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754561726362'}
2025-08-07 10:17:54 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:17:55 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754560976278
2025-08-07 10:17:56 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754560976278
2025-08-07 10:17:56 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:17:56 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754560976278, answers_count: 3
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'wohnen'
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 10:17:56 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Meine Familie wohnen_ in Berlin.'
2025-08-07 10:17:59 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 4.00
2025-08-07 10:18:00 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:18:00 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:18:00 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:18:00 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754561726362'}
2025-08-07 10:18:00 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:18:09 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=4.0
2025-08-07 10:18:09 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'sf'
2025-08-07 10:18:09 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:18:21 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:18:21 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'sfd'
2025-08-07 10:18:21 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:18:25 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:18:25 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:18:25 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'wohnen', 'correct_answer': 'wohnt', 'is_correct': False, 'quality': 4.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'sf', 'correct_answer': 'Ich habe eine Schwester.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'sfd', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:18:34 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:18:34 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:18:34 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:18:34 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754561726362'}
2025-08-07 10:18:34 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:18:36 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:18:36 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:18:36 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:18:36 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754561726362'}
2025-08-07 10:18:36 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:18:37 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:18:37 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:18:37 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:18:37 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Daily Activities', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ Deutsch.', 'correctAnswer': 'lerne', 'options': ['lerne', 'lernt', 'lernen', 'gelernt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I go to work.', 'correctAnswer': 'Ich gehe zur Arbeit.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Er _____ jeden Tag.', 'correctAnswer': 'arbeitet', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet']}], 'id': 'blk1754561726362'}
2025-08-07 10:18:37 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:19:00 - core.services.vocabulary_service - ERROR - Error looking up vocabulary word 'en' for user 'Tag': User Tag does not exist
2025-08-07 10:19:02 - core.services.vocabulary_service - ERROR - Error looking up vocabulary word 'en' for user 'Tag': User Tag does not exist
2025-08-07 10:20:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:20:09 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:20:09 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:20:09 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:20:10 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:20:19 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'Tag' for user 'asdf'
2025-08-07 10:20:19 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'Tag'
2025-08-07 10:20:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:20:20 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:20:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:20:20 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:20:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:20:24 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'Er' for user 'asdf'
2025-08-07 10:20:24 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'Er'
2025-08-07 10:20:27 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'jeden' for user 'asdf'
2025-08-07 10:20:31 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'jeden' for user 'asdf'
2025-08-07 10:20:33 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'jeden' for user 'asdf'
2025-08-07 10:21:26 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:21:26 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:21:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:21:26 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:21:27 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:21:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:21:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:21:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:21:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:21:35 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:21:57 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'jeden' for user 'asdf'
2025-08-07 10:21:57 - core.services.vocabulary_service - INFO - Creating new vocabulary entry for 'jeden' using AI
2025-08-07 10:21:59 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'jeder' for user 'asdf'
2025-08-07 10:21:59 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'jeder'
2025-08-07 10:21:59 - core.services.vocabulary_service - INFO - Successfully created new vocabulary entry for 'jeden'
2025-08-07 10:24:15 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'work' for user 'asdf'
2025-08-07 10:24:15 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'work'
2025-08-07 10:24:20 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'go' for user 'asdf'
2025-08-07 10:24:20 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'go'
2025-08-07 10:24:24 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'Deutsch' for user 'asdf'
2025-08-07 10:24:24 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'Deutsch'
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754561726362
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'gelernt', 'ex3': 'eth', 'ex2': 'f'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754561726362
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754561726362
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:24:32 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754561726362
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:24:32 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:24:32 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:24:32 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:24:32 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:24:32 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'lerne'.", 'explanation': "The correct answer is 'lerne'. Your answer was 'gelernt'.", 'alternatives': ['Lerne'], 'user_answer': 'gelernt', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'f'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'f', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'eth'.", 'alternatives': ['Arbeitet'], 'user_answer': 'eth', 'correct_answer': 'arbeitet'}}
2025-08-07 10:24:32 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ Deutsch.', 'your_answer': 'gelernt', 'correct_answer': 'lerne'}, {'question': 'I go to work.', 'your_answer': 'f', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'eth', 'correct_answer': 'arbeitet'}]}
2025-08-07 10:24:32 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'lerne'.", 'explanation': "The correct answer is 'lerne'. Your answer was 'gelernt'.", 'alternatives': ['Lerne'], 'user_answer': 'gelernt', 'correct_answer': 'lerne'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich gehe zur Arbeit.'.", 'explanation': "The correct answer is 'Ich gehe zur Arbeit.'. Your answer was 'f'.", 'alternatives': ['Ich gehe zur Arbeit', 'ich gehe zur arbeit.'], 'user_answer': 'f', 'correct_answer': 'Ich gehe zur Arbeit.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'arbeitet'.", 'explanation': "The correct answer is 'arbeitet'. Your answer was 'eth'.", 'alternatives': ['Arbeitet'], 'user_answer': 'eth', 'correct_answer': 'arbeitet'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Ich _____ Deutsch.', 'your_answer': 'gelernt', 'correct_answer': 'lerne'}, {'question': 'I go to work.', 'your_answer': 'f', 'correct_answer': 'Ich gehe zur Arbeit.'}, {'question': 'Er _____ jeden Tag.', 'your_answer': 'eth', 'correct_answer': 'arbeitet'}]})
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754561726362
2025-08-07 10:24:32 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754561726362
2025-08-07 10:24:32 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:24:32 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:24:34 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:24:34 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'gelernt', 'ex3': 'eth', 'ex2': 'f'}}
2025-08-07 10:24:34 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:24:34 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:24:34 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754562095699'}
2025-08-07 10:24:34 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:24:35 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754561726362
2025-08-07 10:24:37 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:24:37 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:24:37 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:24:37 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Family & Home', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Meine Familie _____ in Berlin.', 'correctAnswer': 'wohnt', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt']}, {'id': 'ex2', 'type': 'translation', 'question': 'I have a sister.', 'correctAnswer': 'Ich habe eine Schwester.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Haus _____ groß.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754562095699'}
2025-08-07 10:24:37 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:24:40 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754561726362
2025-08-07 10:24:40 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:24:40 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'lerne', 'id': 'ex1', 'options': ['lerne', 'lernt', 'lernen', 'gelernt'], 'question': 'Ich _____ Deutsch.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich gehe zur Arbeit.', 'id': 'ex2', 'question': 'I go to work.', 'type': 'translation'}, {'correctAnswer': 'arbeitet', 'id': 'ex3', 'options': ['arbeitet', 'arbeiten', 'arbeitete', 'gearbeitet'], 'question': 'Er _____ jeden Tag.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754561726362, answers_count: 3
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'gelernt'
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Ich lerne_ Deutsch.'
2025-08-07 10:24:40 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Ich gelernt_ Deutsch.'
2025-08-07 10:24:43 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 2.00
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754562095699
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'wohnen', 'ex2': 'fgd', 'ex3': 'dfg'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754562095699
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754562095699
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:24:48 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754562095699
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:24:48 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:24:48 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:24:48 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:24:48 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:24:48 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohnt'.", 'explanation': "The correct answer is 'wohnt'. Your answer was 'wohnen'.", 'alternatives': ['Wohnt'], 'user_answer': 'wohnen', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'fgd'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'fgd', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'dfg'.", 'alternatives': ['Ist'], 'user_answer': 'dfg', 'correct_answer': 'ist'}}
2025-08-07 10:24:48 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Meine Familie _____ in Berlin.', 'your_answer': 'wohnen', 'correct_answer': 'wohnt'}, {'question': 'I have a sister.', 'your_answer': 'fgd', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'dfg', 'correct_answer': 'ist'}]}
2025-08-07 10:24:48 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': False, 'feedback': "Try again. The correct answer is 'wohnt'.", 'explanation': "The correct answer is 'wohnt'. Your answer was 'wohnen'.", 'alternatives': ['Wohnt'], 'user_answer': 'wohnen', 'correct_answer': 'wohnt'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Ich habe eine Schwester.'.", 'explanation': "The correct answer is 'Ich habe eine Schwester.'. Your answer was 'fgd'.", 'alternatives': ['Ich habe eine Schwester', 'ich habe eine schwester.'], 'user_answer': 'fgd', 'correct_answer': 'Ich habe eine Schwester.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'dfg'.", 'alternatives': ['Ist'], 'user_answer': 'dfg', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 0, 'incorrect': 3, 'skipped': 0, 'accuracy': 0.0, 'mistakes': [{'question': 'Meine Familie _____ in Berlin.', 'your_answer': 'wohnen', 'correct_answer': 'wohnt'}, {'question': 'I have a sister.', 'your_answer': 'fgd', 'correct_answer': 'Ich habe eine Schwester.'}, {'question': 'Das Haus _____ groß.', 'your_answer': 'dfg', 'correct_answer': 'ist'}]})
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754562095699
2025-08-07 10:24:48 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754562095699
2025-08-07 10:24:48 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:24:48 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:24:48 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=2.0
2025-08-07 10:24:48 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'eth'
2025-08-07 10:24:48 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:24:49 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:24:49 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'wohnen', 'ex2': 'fgd', 'ex3': 'dfg'}}
2025-08-07 10:24:49 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:24:49 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:24:49 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Weather & Seasons', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Es _____ heute.', 'correctAnswer': 'regnet', 'options': ['regnete', 'regnen', 'regnet', 'geregnet']}, {'id': 'ex2', 'type': 'translation', 'question': "It's cold today.", 'correctAnswer': 'Es ist kalt heute.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Der Winter _____ kalt.', 'correctAnswer': 'ist', 'options': ['ist', 'war', 'sind', 'waren']}], 'id': 'blk1754562095701'}
2025-08-07 10:24:49 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:24:50 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754562095699
2025-08-07 10:24:50 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754562095699
2025-08-07 10:24:50 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:24:50 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'wohnt', 'id': 'ex1', 'options': ['wohnt', 'wohnen', 'wohnte', 'gewohnt'], 'question': 'Meine Familie _____ in Berlin.', 'type': 'gap-fill'}, {'correctAnswer': 'Ich habe eine Schwester.', 'id': 'ex2', 'question': 'I have a sister.', 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'sind', 'war', 'waren'], 'question': 'Das Haus _____ groß.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:24:50 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754562095699, answers_count: 3
2025-08-07 10:24:50 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:24:50 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:24:50 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'wohnen'
2025-08-07 10:24:51 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:24:51 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:24:51 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Meine Familie wohnt_ in Berlin.'
2025-08-07 10:24:51 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Meine Familie wohnen_ in Berlin.'
2025-08-07 10:24:53 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 3.75
2025-08-07 10:24:55 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:24:55 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'f'
2025-08-07 10:24:55 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:24:56 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:24:56 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:24:56 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:24:56 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Weather & Seasons', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Es _____ heute.', 'correctAnswer': 'regnet', 'options': ['regnete', 'regnen', 'regnet', 'geregnet']}, {'id': 'ex2', 'type': 'translation', 'question': "It's cold today.", 'correctAnswer': 'Es ist kalt heute.'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Der Winter _____ kalt.', 'correctAnswer': 'ist', 'options': ['ist', 'war', 'sind', 'waren']}], 'id': 'blk1754562095701'}
2025-08-07 10:24:56 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:25:02 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=False, quality=3.75
2025-08-07 10:25:02 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'fgd'
2025-08-07 10:25:02 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - User asdf submitting exercise block blk1754562095701
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Raw submission data: {'answers': {'ex1': 'regnet', 'ex2': 'cbf', 'ex3': 'dfg'}, 'exercise_block': {'instructions': '', 'exercises': [{'correctAnswer': 'regnet', 'id': 'ex1', 'options': ['regnete', 'regnen', 'regnet', 'geregnet'], 'question': 'Es _____ heute.', 'type': 'gap-fill'}, {'correctAnswer': 'Es ist kalt heute.', 'id': 'ex2', 'question': "It's cold today.", 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'war', 'sind', 'waren'], 'question': 'Der Winter _____ kalt.', 'type': 'grammar'}], 'vocabHelp': [], 'topic': 'general'}}
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Data keys: ['answers', 'exercise_block']
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Successfully parsed 3 exercises with 3 answers for user: asdf
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Evaluating first exercise ex1
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - First exercise submitted for AI evaluation
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Starting background thread
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Starting background task for full evaluation and topic memory updates
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Exercise block from data: topic='general'
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Calling evaluate_remaining_exercises_async for user asdf, block blk1754562095701
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Starting async evaluation for block blk1754562095701
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Background thread started
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Created immediate results for 3 exercises
2025-08-07 10:25:05 - api.routes.ai.exercise - INFO - Returning immediate response, background processing started
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Evaluating all exercises for block blk1754562095701
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Calling evaluate_exercises with 3 exercises and 3 answers
2025-08-07 10:25:05 - features.ai.generation.exercise_processing - INFO - Evaluating 3 exercises
2025-08-07 10:25:05 - features.ai.generation.exercise_processing - INFO - Calling evaluate_answers_with_ai with 3 exercises
2025-08-07 10:25:05 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in strict mode
2025-08-07 10:25:05 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:25:05 - features.ai.generation.exercise_processing - INFO - AI evaluation result: {'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'regnet', 'correct_answer': 'regnet'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Es ist kalt heute.'.", 'explanation': "The correct answer is 'Es ist kalt heute.'. Your answer was 'cbf'.", 'alternatives': ['Es ist kalt heute', 'es ist kalt heute.'], 'user_answer': 'cbf', 'correct_answer': 'Es ist kalt heute.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'dfg'.", 'alternatives': ['Ist'], 'user_answer': 'dfg', 'correct_answer': 'ist'}}
2025-08-07 10:25:05 - features.ai.generation.exercise_processing - INFO - Score summary: {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': "It's cold today.", 'your_answer': 'cbf', 'correct_answer': 'Es ist kalt heute.'}, {'question': 'Der Winter _____ kalt.', 'your_answer': 'dfg', 'correct_answer': 'ist'}]}
2025-08-07 10:25:05 - features.ai.generation.exercise_processing - INFO - Successfully evaluated exercises
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Evaluation result: ({'ex1': {'correct': True, 'feedback': '', 'explanation': '', 'alternatives': [], 'user_answer': 'regnet', 'correct_answer': 'regnet'}, 'ex2': {'correct': False, 'feedback': "Not quite right. The correct answer is 'Es ist kalt heute.'.", 'explanation': "The correct answer is 'Es ist kalt heute.'. Your answer was 'cbf'.", 'alternatives': ['Es ist kalt heute', 'es ist kalt heute.'], 'user_answer': 'cbf', 'correct_answer': 'Es ist kalt heute.'}, 'ex3': {'correct': False, 'feedback': "Not quite right. The correct answer is 'ist'.", 'explanation': "The correct answer is 'ist'. Your answer was 'dfg'.", 'alternatives': ['Ist'], 'user_answer': 'dfg', 'correct_answer': 'ist'}}, {'total': 3, 'correct': 1, 'incorrect': 2, 'skipped': 0, 'accuracy': 33.33, 'mistakes': [{'question': "It's cold today.", 'your_answer': 'cbf', 'correct_answer': 'Es ist kalt heute.'}, {'question': 'Der Winter _____ kalt.', 'your_answer': 'dfg', 'correct_answer': 'ist'}]})
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Processing evaluation results for block blk1754562095701
2025-08-07 10:25:05 - features.exercise.exercise_evaluation - INFO - Stored new results for block blk1754562095701
2025-08-07 10:25:05 - core.services.exercise_service - INFO - Starting AI evaluation of 3 exercises in feedback mode
2025-08-07 10:25:05 - core.services.exercise_service - INFO - Completed AI evaluation with 3 results
2025-08-07 10:25:06 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:25:06 - api.routes.ai.exercise - INFO - Payload received: {'answers': {'ex1': 'regnet', 'ex2': 'cbf', 'ex3': 'dfg'}}
2025-08-07 10:25:06 - features.ai.generation.exercise_processing - INFO - Generating new exercises for user: asdf
2025-08-07 10:25:06 - features.ai.generation.exercise_processing - INFO - Generated new exercise block for user: asdf
2025-08-07 10:25:06 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754562095703'}
2025-08-07 10:25:06 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:25:07 - api.routes.ai.exercise - INFO - Found results in Redis for block blk1754562095701
2025-08-07 10:25:07 - features.exercise.exercise_evaluation - INFO - Successfully processed evaluation results for block blk1754562095701
2025-08-07 10:25:07 - features.exercise.exercise_evaluation - INFO - Processing AI answers for topic memory and vocabulary updates
2025-08-07 10:25:07 - features.exercise.exercise_evaluation - INFO - Calling process_ai_answers with exercise_block: {'exercises': [{'correctAnswer': 'regnet', 'id': 'ex1', 'options': ['regnete', 'regnen', 'regnet', 'geregnet'], 'question': 'Es _____ heute.', 'type': 'gap-fill'}, {'correctAnswer': 'Es ist kalt heute.', 'id': 'ex2', 'question': "It's cold today.", 'type': 'translation'}, {'correctAnswer': 'ist', 'id': 'ex3', 'options': ['ist', 'war', 'sind', 'waren'], 'question': 'Der Winter _____ kalt.', 'type': 'grammar'}], 'topic': 'general'}
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Processing AI answers for user: asdf, block: blk1754562095701, answers_count: 3
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Using block topic: 'general' for all exercises
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Created exercise map with 3 exercises
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex1 with answer: 'regnet'
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Using AI topic evaluation for gap-fill exercise
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Calling evaluate_topic_qualities_ai for gap-fill exercise
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Reference sentence: 'Es regnet_ heute.'
2025-08-07 10:25:07 - features.ai.evaluation.exercise_processing - INFO - Student sentence: 'Es regnet_ heute.'
2025-08-07 10:25:08 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:25:08 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:25:08 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'gelernt', 'correct_answer': 'lerne', 'is_correct': False, 'quality': 2.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'eth', 'correct_answer': 'arbeitet', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'f', 'correct_answer': 'Ich gehe zur Arbeit.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}]
2025-08-07 10:25:09 - features.ai.evaluation.exercise_processing - INFO - AI topic evaluation quality score: 5.00
2025-08-07 10:25:13 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:25:13 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'dfg'
2025-08-07 10:25:13 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:25:14 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex1: correct=True, quality=5.0
2025-08-07 10:25:14 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex2 with answer: 'cbf'
2025-08-07 10:25:14 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for translation exercise
2025-08-07 10:25:16 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:25:16 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:25:16 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'wohnen', 'correct_answer': 'wohnt', 'is_correct': False, 'quality': 3.75, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'fgd', 'correct_answer': 'Ich habe eine Schwester.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'dfg', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:25:24 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex2: correct=False, quality=2
2025-08-07 10:25:24 - features.ai.evaluation.exercise_processing - INFO - Processing exercise ID: ex3 with answer: 'dfg'
2025-08-07 10:25:24 - features.ai.evaluation.exercise_processing - INFO - Using simple topic detection for grammar exercise
2025-08-07 10:25:25 - features.ai.evaluation.exercise_processing - INFO - Processed exercise ex3: correct=False, quality=2
2025-08-07 10:25:25 - features.ai.evaluation.exercise_processing - INFO - Completed processing 3 exercises for user asdf
2025-08-07 10:25:25 - features.exercise.exercise_evaluation - INFO - Successfully processed AI answers for topic memory and vocabulary. Result: [{'exercise_id': 'ex1', 'user_answer': 'regnet', 'correct_answer': 'regnet', 'is_correct': True, 'quality': 5.0, 'skill': 'gap-fill', 'topic': 'general'}, {'exercise_id': 'ex2', 'user_answer': 'cbf', 'correct_answer': 'Es ist kalt heute.', 'is_correct': False, 'quality': 2, 'skill': 'translation', 'topic': 'general'}, {'exercise_id': 'ex3', 'user_answer': 'dfg', 'correct_answer': 'ist', 'is_correct': False, 'quality': 2, 'skill': 'grammar', 'topic': 'general'}]
2025-08-07 10:25:40 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'kalt' for user 'asdf'
2025-08-07 10:25:40 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'kalt'
2025-08-07 10:25:43 - api.routes.ai.exercise - INFO - User asdf requesting AI exercises
2025-08-07 10:25:43 - api.routes.ai.exercise - INFO - Payload received: {}
2025-08-07 10:25:43 - features.ai.generation.exercise_processing - INFO - Retrieved current exercise block for user: asdf
2025-08-07 10:25:43 - api.routes.ai.exercise - INFO - Exercise block returned: {'title': 'German A1 - Shopping & Money', 'level': 'A1', 'topic': 'general', 'exercises': [{'id': 'ex1', 'type': 'gap-fill', 'question': 'Ich _____ ein Buch.', 'correctAnswer': 'kaufe', 'options': ['kaufe', 'kaufen', 'kaufte', 'gekauft']}, {'id': 'ex2', 'type': 'translation', 'question': 'How much does it cost?', 'correctAnswer': 'Wie viel kostet es?'}, {'id': 'ex3', 'type': 'grammar', 'question': 'Das Buch _____ teuer.', 'correctAnswer': 'ist', 'options': ['ist', 'sind', 'war', 'waren']}], 'id': 'blk1754562095703'}
2025-08-07 10:25:43 - api.routes.ai.exercise - INFO - Returning 3 exercises for user asdf
2025-08-07 10:25:44 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'Buch' for user 'asdf'
2025-08-07 10:25:44 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'Buch'
2025-08-07 10:25:47 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'teuer' for user 'asdf'
2025-08-07 10:25:47 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'teuer'
2025-08-07 10:25:51 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'Das' for user 'asdf'
2025-08-07 10:25:51 - core.services.vocabulary_service - INFO - Creating new vocabulary entry for 'Das' using AI
2025-08-07 10:25:53 - core.services.vocabulary_service - INFO - Looking up vocabulary word 'das' for user 'asdf'
2025-08-07 10:25:53 - core.services.vocabulary_service - INFO - Found existing vocabulary entry for 'das'
2025-08-07 10:25:53 - core.services.vocabulary_service - INFO - Successfully created new vocabulary entry for 'Das'
2025-08-07 10:25:58 - core.services.vocabulary_service - INFO - Getting vocabulary entries for user 'asdf'
2025-08-07 10:25:58 - core.services.vocabulary_service - INFO - Retrieved 35 vocabulary entries for user 'asdf'
2025-08-07 10:32:22 - api.routes.ai.lesson - INFO - User asdf requesting weakness lesson
2025-08-07 10:32:55 - features.ai.generation.helpers - INFO - Storing AI data for user asdf, data keys: ['weakness_lesson', 'weakness_topic', 'lesson_updated_at']
2025-08-07 10:32:55 - features.ai.generation.helpers - INFO - User asdf exists in ai_user_data: True
2025-08-07 10:32:55 - features.ai.generation.helpers - INFO - Updating existing row for user asdf
2025-08-07 10:32:55 - features.ai.generation.helpers - INFO - Successfully stored AI data for user asdf
2025-08-07 10:32:55 - features.ai.generation.helpers - INFO - Verification after storing - row for user asdf: {'exercises': '{"title": "German A1 - Shopping & Money", "level": "A1", "topic": "general", "exercises": [{"id": "ex1", "type": "gap-fill", "question": "Ich _____ ein Buch.", "correctAnswer": "kaufe", "options": ["kaufe", "kaufen", "kaufte", "gekauft"]}, {"id": "ex2", "type": "translation", "question": "How much does it cost?", "correctAnswer": "Wie viel kostet es?"}, {"id": "ex3", "type": "grammar", "question": "Das Buch _____ teuer.", "correctAnswer": "ist", "options": ["ist", "sind", "war", "waren"]}], "id": "blk1754562095703"}', 'next_exercises': '{"title": "German A1 - Daily Activities", "level": "A1", "topic": "general", "exercises": [], "id": "blk1754562095704"}'}
2025-08-07 10:32:55 - api.routes.ai.lesson - INFO - Successfully generated weakness lesson for user asdf
2025-08-07 10:33:14 - api.routes.ai.lesson - INFO - User asdf requesting weakness lesson
2025-08-07 10:33:14 - api.routes.ai.lesson - INFO - Returning cached weakness lesson for user asdf
2025-08-07 10:33:24 - api.routes.ai.reading - INFO - User asdf requesting reading exercise
2025-08-07 10:34:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:34:53 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:34:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:34:53 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:34:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:35:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:35:15 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:35:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:35:15 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:35:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:35:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:35:27 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:35:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:35:27 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:35:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:35:31 - api.routes.translate - INFO - Starting translation stream for user asdf
2025-08-07 10:36:04 - api.routes.translate - INFO - Starting translation stream for user asdf
2025-08-07 10:36:56 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:36:57 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:36:57 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:36:57 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:36:57 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:37:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:37:20 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:37:20 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:37:20 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:37:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:37:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:37:50 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:37:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:37:50 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:37:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:38:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:38:15 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:38:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:38:15 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:38:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:38:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:38:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-07 10:38:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-07 10:38:35 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-07 10:38:35 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-07 10:38:35 - __main__ - INFO - Database directory: /app/backend/database
2025-08-07 10:38:35 - __main__ - INFO - ✅ Database connection established
2025-08-07 10:38:35 - __main__ - INFO - Results table created/verified
2025-08-07 10:38:35 - __main__ - INFO - Topic memory table created/verified
2025-08-07 10:38:35 - __main__ - INFO - Sessions table created/verified
2025-08-07 10:38:35 - __main__ - INFO - User progress table created/verified
2025-08-07 10:38:35 - __main__ - INFO - User settings table created/verified
2025-08-07 10:38:35 - __main__ - INFO - Support requests table created/verified
2025-08-07 10:38:35 - __main__ - INFO - AI user data table created/verified
2025-08-07 10:38:35 - __main__ - INFO - Exercise history table created/verified
2025-08-07 10:38:35 - __main__ - INFO - AI exercise results table created/verified
2025-08-07 10:38:35 - __main__ - INFO - Topic memory status table created/verified
2025-08-07 10:38:35 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-07 10:38:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-07 10:38:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:38:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:38:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:38:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:38:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:41:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:41:13 - __main__ - INFO - 🔄 Starting database migration...
2025-08-07 10:41:13 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-07 10:41:13 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-07 10:41:13 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-07 10:41:13 - __main__ - INFO - Database directory: /app/backend/database
2025-08-07 10:41:13 - __main__ - INFO - ✅ Database connection established
2025-08-07 10:41:13 - __main__ - INFO - Results table created/verified
2025-08-07 10:41:13 - __main__ - INFO - Topic memory table created/verified
2025-08-07 10:41:13 - __main__ - INFO - Sessions table created/verified
2025-08-07 10:41:13 - __main__ - INFO - User progress table created/verified
2025-08-07 10:41:13 - __main__ - INFO - User settings table created/verified
2025-08-07 10:41:13 - __main__ - INFO - Support requests table created/verified
2025-08-07 10:41:13 - __main__ - INFO - AI user data table created/verified
2025-08-07 10:41:13 - __main__ - INFO - Exercise history table created/verified
2025-08-07 10:41:13 - __main__ - INFO - AI exercise results table created/verified
2025-08-07 10:41:13 - __main__ - INFO - Topic memory status table created/verified
2025-08-07 10:41:13 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-07 10:41:13 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-07 10:41:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:41:13 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:41:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:41:13 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:41:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:41:14 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:41:14 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:41:14 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:41:14 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:41:15 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:41:33 - features.auth.authentication - INFO - Attempting authentication for user test8
2025-08-07 10:41:33 - core.session.session_manager - INFO - Created session for user test8
2025-08-07 10:41:33 - features.auth.authentication - INFO - Authentication successful for user test8
2025-08-07 10:41:42 - api.routes.translate - INFO - Starting translation stream for user test8
2025-08-07 10:41:42 - api.routes.translate - INFO - Starting translation for: 't' -> 'htrn'
2025-08-07 10:41:42 - api.routes.translate - INFO - Calling translate_to_german...
2025-08-07 10:42:49 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:42:49 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:42:49 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:42:49 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:42:50 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:43:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:43:04 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:43:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:43:04 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:43:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:43:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:43:21 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:43:21 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:43:21 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:43:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:43:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:43:38 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:43:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:43:38 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:43:39 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:43:51 - api.routes.translate - INFO - Starting translation stream for user test8
2025-08-07 10:43:51 - api.routes.translate - INFO - Starting translation for: 't' -> 'htrn'
2025-08-07 10:43:51 - api.routes.translate - INFO - Calling translate_to_german...
2025-08-07 10:43:51 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Starting translation for: 't'
2025-08-07 10:43:51 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Created prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nt'}
2025-08-07 10:43:51 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] About to call send_prompt with Mistral...
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German translator....
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nt'}
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:43:51 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:43:52 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] send_prompt returned with status: 200
2025-08-07 10:43:52 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Parsing response JSON...
2025-08-07 10:43:52 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Got German translation: 'Der bestimmte Artikel "the" kann im Deutschen als "der", "die" oder "das" übersetzt werden, abhängig vom Genus des Substantivs, auf das es sich bezieht. Ohne weitere Informationen kann ich "t" nicht übersetzen. Könntest du bitte den vollständigen Satz oder mehr Kontext angeben?'
2025-08-07 10:43:52 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Extracting words for vocabulary...
2025-08-07 10:43:52 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'bestimmte' with article: 'der'
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "bestimmte"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:43:52 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:43:55 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'Artikel' with article: 'None'
2025-08-07 10:43:55 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'the' with article: 'None'
2025-08-07 10:43:55 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'kann' with article: 'None'
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "kann"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:43:55 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:43:57 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'im' with article: 'None'
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "im"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:43:57 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:43:59 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'Deutschen' with article: 'None'
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "Deutschen"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:43:59 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:01 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'als' with article: 'None'
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "als"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:01 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:04 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'die' with article: 'der'
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "die"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:04 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:06 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'oder' with article: 'None'
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "oder"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:06 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:10 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'übersetzt' with article: 'das'
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "übersetzt"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:10 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:13 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'werden' with article: 'None'
2025-08-07 10:44:13 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'abhängig' with article: 'None'
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "abhängig"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:13 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:17 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'vom' with article: 'None'
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "vom"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:17 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:19 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'Genus' with article: 'None'
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "Genus"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:19 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:22 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'Substantivs' with article: 'des'
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "Substantivs"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:22 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:25 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'auf' with article: 'None'
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "auf"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:25 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'es' with article: 'das'
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "es"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:29 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:31 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'sich' with article: 'None'
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "sich"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:31 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:33 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'bezieht' with article: 'None'
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "bezieht"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:33 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:36 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'Ohne' with article: 'None'
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "Ohne"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:36 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:38 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'weitere' with article: 'None'
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "weitere"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:38 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:40 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'Informationen' with article: 'None'
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "Informationen"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:40 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:43 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'kann' with article: 'None'
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "kann"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:43 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:44 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'ich' with article: 'None'
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "ich"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:44 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:46 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 't' with article: 'None'
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "t"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:46 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:44:48 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'nicht' with article: 'None'
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "nicht"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:44:48 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:44:50 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:44:50 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:44:50 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:44:50 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:44:51 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:45:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:45:08 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:45:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:45:08 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:45:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:45:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:45:29 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:45:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:45:29 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:45:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:45:56 - api.routes.translate - INFO - Starting translation stream for user test8
2025-08-07 10:45:56 - api.routes.translate - INFO - Starting translation for: 't' -> 'htrn'
2025-08-07 10:45:56 - api.routes.translate - INFO - Calling translate_to_german...
2025-08-07 10:45:56 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Starting translation for: 't'
2025-08-07 10:45:56 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Created prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nt'}
2025-08-07 10:45:56 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] About to call send_prompt with Mistral...
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German translator....
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nt'}
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:45:56 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:45:57 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] send_prompt returned with status: 200
2025-08-07 10:45:57 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Parsing response JSON...
2025-08-07 10:45:57 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Got German translation: 'Der bestimmte Artikel "the" kann im Deutschen als "der", "die" oder "das" übersetzt werden, abhängig vom Genus des Substantivs, auf das es sich bezieht. Ohne weitere Informationen kann ich das Wort "t" nicht übersetzen. Könntest du bitte mehr Kontext geben oder das ganze Wort nennen?'
2025-08-07 10:45:57 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Skipping vocabulary saving for very short input: 't'
2025-08-07 10:45:57 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Returning translation: 'Der bestimmte Artikel "the" kann im Deutschen als "der", "die" oder "das" übersetzt werden, abhängig vom Genus des Substantivs, auf das es sich bezieht. Ohne weitere Informationen kann ich das Wort "t" nicht übersetzen. Könntest du bitte mehr Kontext geben oder das ganze Wort nennen?'
2025-08-07 10:45:57 - api.routes.translate - INFO - Got German translation: 'Der bestimmte Artikel "the" kann im Deutschen als "der", "die" oder "das" übersetzt werden, abhängig vom Genus des Substantivs, auf das es sich bezieht. Ohne weitere Informationen kann ich das Wort "t" nicht übersetzen. Könntest du bitte mehr Kontext geben oder das ganze Wort nennen?'
2025-08-07 10:45:57 - api.routes.translate - INFO - Calling evaluate_translation_ai...
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nEvaluate this German translation:\n\nEnglish: "t"\nStudent\'s German: "htrn"\n\nReturn JSON with:\n- "correct": true/false\n- "reason": brief explanation in English\n'}
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:45:57 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:45:58 - api.routes.translate - INFO - Evaluation result: correct=False, reason=The letter 't' in English is translated as 't' in German, not 'htrn'. The student's translation is incorrect as it does not correspond to the given letter.
2025-08-07 10:45:58 - api.routes.translate - INFO - Streaming feedback block...
2025-08-07 10:45:58 - api.routes.translate - INFO - Feedback block streamed successfully
2025-08-07 10:45:58 - api.routes.translate - INFO - Background memory update started
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\nDer bestimmte Artikel "the" kann im Deutschen als "der", "die" oder "das" übersetzt werden, abhängig vom Genus des Substantivs, auf das es sich bezieht. Ohne weitere Informationen kann ich das Wort "t" nicht übersetzen. Könntest du bitte mehr Kontext geben oder das ganze Wort nennen?\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:45:58 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\nhtrn\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:45:59 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'You are a helpful German teacher grading a student\'s translation.\n\nEnglish sentence: \'t\'\nReference answer: \'Der bestimmte Artikel "the" kann im Deutschen als "der", "die" oder "das" übersetzt werden, abhängig vom Genus des Substantivs, auf das es sich bezieht. Ohne weitere Informationen kann ich das Wort "t" nicht übersetzen. Könntest du bitte mehr Kontext geben oder das ganze Wort nennen?\'\nStudent answer: \'htrn\'\n\nIMPORTANT: For gap-fill exercises, if the gap tests related grammar concepts (like personal pronoun + verb conjugation), evaluate them together in the context since they must agree, but still evaluate them individually.\nFor translation exercises, evaluate each grammar topic individually.\n\nReturn a JSON object where each grammar topic is a key (all lowercase, spaces only), and its value is an integer from 0 to 5 representing the SM2 quality scale:\n\nEVALUATION RULES:\n- Use the FULL 0-5 scale for nuanced evaluation:\n  * 5 = Perfect usage of the grammar element\n  * 4 = Correct but with slight hesitation or minor error\n  * 3 = Correct but with difficulty or noticeable error\n  * 2 = Incorrect but the student seemed to know the concept\n  * 1 = Incorrect but some knowledge was shown\n  * 0 = Complete blackout or completely wrong usage\n- For translation: Evaluate each grammar element independently\n- Consider the student\'s apparent understanding level\n\nFor example:\n{\n  "adjective": 5,\n  "nominative case": 4,\n  "modal verb": 3,\n  "verb conjugation": 2,\n  "article": 1,\n  "preposition": 0\n}\n\nTopics: articles, cases, modal verbs, unknown, word order'}
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:46:01 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:46:02 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:46:02 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:46:02 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:47:19 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:47:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:47:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:47:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:47:20 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:47:38 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:47:38 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:47:38 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:47:38 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:47:38 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:52:28 - api.routes.translate - INFO - Starting translation stream for user test8
2025-08-07 10:52:28 - api.routes.translate - INFO - Starting translation for: 'dfgnfgn' -> 'dgnfgn'
2025-08-07 10:52:28 - api.routes.translate - INFO - Calling translate_to_german...
2025-08-07 10:52:28 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Starting translation for: 'dfgnfgn'
2025-08-07 10:52:28 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Created prompt: {'role': 'user', 'content': 'Translate this sentence to German:\ndfgnfgn'}
2025-08-07 10:52:28 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] About to call send_prompt with Mistral...
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German translator. Provide clear, concise translations. For incomplete inputs, giv...
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Translate this sentence to German:\ndfgnfgn'}
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:28 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] send_prompt returned with status: 200
2025-08-07 10:52:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Parsing response JSON...
2025-08-07 10:52:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Got German translation: 'The input "dfgnfgn" does not form a valid English sentence or word, therefore it cannot be translated into German. It appears to be a random sequence of letters.'
2025-08-07 10:52:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Extracting words for vocabulary...
2025-08-07 10:52:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'The' with article: 'None'
2025-08-07 10:52:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'input' with article: 'None'
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "input"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:29 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:31 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'dfgnfgn' with article: 'None'
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "dfgnfgn"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:31 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:33 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'does' with article: 'None'
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "does"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:33 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:36 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'not' with article: 'None'
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "not"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:36 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:38 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Reached max word limit (5), stopping vocabulary extraction
2025-08-07 10:52:38 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Finished saving vocabulary words (saved 5 words)
2025-08-07 10:52:38 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Returning translation: 'The input "dfgnfgn" does not form a valid English sentence or word, therefore it cannot be translated into German. It appears to be a random sequence of letters.'
2025-08-07 10:52:38 - api.routes.translate - INFO - Got German translation: 'The input "dfgnfgn" does not form a valid English sentence or word, therefore it cannot be translated into German. It appears to be a random sequence of letters.'
2025-08-07 10:52:38 - api.routes.translate - INFO - Calling evaluate_translation_ai...
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nEvaluate this German translation:\n\nEnglish: "dfgnfgn"\nStudent\'s German: "dgnfgn"\n\nReturn JSON with:\n- "correct": true/false\n- "reason": brief explanation in English\n'}
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:38 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:40 - api.routes.translate - INFO - Evaluation result: correct=False, reason=The translation is incorrect as it does not correspond to any meaningful translation. The original text 'dfgnfgn' is not a valid English word, and the student's German 'dgnfgn' is also not a valid German word.
2025-08-07 10:52:40 - api.routes.translate - INFO - Streaming feedback block...
2025-08-07 10:52:40 - api.routes.translate - INFO - Feedback block streamed successfully
2025-08-07 10:52:40 - api.routes.translate - INFO - Background memory update started
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\nThe input "dfgnfgn" does not form a valid English sentence or word, therefore it cannot be translated into German. It appears to be a random sequence of letters.\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:40 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\ndgnfgn\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:44 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'You are a helpful German teacher grading a student\'s translation.\n\nEnglish sentence: \'dfgnfgn\'\nReference answer: \'The input "dfgnfgn" does not form a valid English sentence or word, therefore it cannot be translated into German. It appears to be a random sequence of letters.\'\nStudent answer: \'dgnfgn\'\n\nIMPORTANT: For gap-fill exercises, if the gap tests related grammar concepts (like personal pronoun + verb conjugation), evaluate them together in the context since they must agree, but still evaluate them individually.\nFor translation exercises, evaluate each grammar topic individually.\n\nReturn a JSON object where each grammar topic is a key (all lowercase, spaces only), and its value is an integer from 0 to 5 representing the SM2 quality scale:\n\nEVALUATION RULES:\n- Use the FULL 0-5 scale for nuanced evaluation:\n  * 5 = Perfect usage of the grammar element\n  * 4 = Correct but with slight hesitation or minor error\n  * 3 = Correct but with difficulty or noticeable error\n  * 2 = Incorrect but the student seemed to know the concept\n  * 1 = Incorrect but some knowledge was shown\n  * 0 = Complete blackout or completely wrong usage\n- For translation: Evaluate each grammar element independently\n- Consider the student\'s apparent understanding level\n\nFor example:\n{\n  "adjective": 5,\n  "nominative case": 4,\n  "modal verb": 3,\n  "verb conjugation": 2,\n  "article": 1,\n  "preposition": 0\n}\n\nTopics: adjectives, articles, prepositions, present tense, pronouns, subordination, unknown, word order'}
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:52:45 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:52:47 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:52:47 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:52:47 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:53:07 - api.routes.translate - INFO - Starting translation stream for user test8
2025-08-07 10:53:07 - api.routes.translate - INFO - Starting translation for: 'This is a test' -> 'Dase ist eine Test'
2025-08-07 10:53:07 - api.routes.translate - INFO - Calling translate_to_german...
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Starting translation for: 'This is a test'
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Created prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nThis is a test'}
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] About to call send_prompt with Mistral...
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German translator. Provide clear, concise translations. For incomplete inputs, giv...
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nThis is a test'}
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] send_prompt returned with status: 200
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Parsing response JSON...
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Got German translation: 'Das ist ein Test.'
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Extracting words for vocabulary...
2025-08-07 10:53:07 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'ist' with article: 'das'
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "ist"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:53:07 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:53:10 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Saving vocab word: 'Test' with article: 'ein'
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German linguist....
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nAnalyze this German word: "Test"\n\nReturn JSON with:\n- "base_form": the base/infinitive form\n- "type": noun, verb, adjective, adverb, etc.\n- "article": der/die/das (for nouns)\n- "translation": English translation\n- "info": additional grammatical info\n'}
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:53:10 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:53:13 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Finished saving vocabulary words (saved 2 words)
2025-08-07 10:53:13 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Returning translation: 'Das ist ein Test.'
2025-08-07 10:53:13 - api.routes.translate - INFO - Got German translation: 'Das ist ein Test.'
2025-08-07 10:53:13 - api.routes.translate - INFO - Calling evaluate_translation_ai...
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nEvaluate this German translation:\n\nEnglish: "This is a test"\nStudent\'s German: "Dase ist eine Test"\n\nReturn JSON with:\n- "correct": true/false\n- "reason": brief explanation in English\n'}
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:53:13 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:53:15 - api.routes.translate - INFO - Evaluation result: correct=False, reason=The student used incorrect articles and a wrong verb form. The correct translation should be 'Das ist ein Test'. 'Das' is the correct demonstrative pronoun for 'this' in this context, and 'ein' is the correct indefinite article for 'a'. Additionally, 'Test' is a masculine noun in German, so it should be 'ein Test' not 'eine Test'.
2025-08-07 10:53:15 - api.routes.translate - INFO - Streaming feedback block...
2025-08-07 10:53:15 - api.routes.translate - INFO - Feedback block streamed successfully
2025-08-07 10:53:15 - api.routes.translate - INFO - Background memory update started
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\nDas ist ein Test.\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:53:15 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\nDase ist eine Test\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:53:16 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'You are a helpful German teacher grading a student\'s translation.\n\nEnglish sentence: \'This is a test\'\nReference answer: \'Das ist ein Test.\'\nStudent answer: \'Dase ist eine Test\'\n\nIMPORTANT: For gap-fill exercises, if the gap tests related grammar concepts (like personal pronoun + verb conjugation), evaluate them together in the context since they must agree, but still evaluate them individually.\nFor translation exercises, evaluate each grammar topic individually.\n\nReturn a JSON object where each grammar topic is a key (all lowercase, spaces only), and its value is an integer from 0 to 5 representing the SM2 quality scale:\n\nEVALUATION RULES:\n- Use the FULL 0-5 scale for nuanced evaluation:\n  * 5 = Perfect usage of the grammar element\n  * 4 = Correct but with slight hesitation or minor error\n  * 3 = Correct but with difficulty or noticeable error\n  * 2 = Incorrect but the student seemed to know the concept\n  * 1 = Incorrect but some knowledge was shown\n  * 0 = Complete blackout or completely wrong usage\n- For translation: Evaluate each grammar element independently\n- Consider the student\'s apparent understanding level\n\nFor example:\n{\n  "adjective": 5,\n  "nominative case": 4,\n  "modal verb": 3,\n  "verb conjugation": 2,\n  "article": 1,\n  "preposition": 0\n}\n\nTopics: articles, present tense, pronouns, word order'}
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:53:17 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:53:18 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:53:18 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:53:18 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:55:01 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 10:55:01 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 10:55:01 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 10:55:01 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 10:55:02 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 10:56:29 - api.routes.translate - INFO - Starting translation stream for user test8
2025-08-07 10:56:29 - api.routes.translate - INFO - Starting translation for: 'This is a test' -> 'Dase ist eine Test'
2025-08-07 10:56:29 - api.routes.translate - INFO - Calling translate_to_german...
2025-08-07 10:56:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Starting translation for: 'This is a test'
2025-08-07 10:56:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Created prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nThis is a test'}
2025-08-07 10:56:29 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] About to call send_prompt with Mistral...
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German translator. Provide clear, concise translations. For incomplete inputs, giv...
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Translate this sentence to German:\nThis is a test'}
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:56:29 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:56:30 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] send_prompt returned with status: 200
2025-08-07 10:56:30 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Parsing response JSON...
2025-08-07 10:56:30 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Got German translation: 'Das ist ein Test.'
2025-08-07 10:56:30 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Skipping vocabulary saving for speed
2025-08-07 10:56:30 - features.ai.memory.vocabulary_memory - INFO - 🔤 [TRANSLATE] Returning translation: 'Das ist ein Test.'
2025-08-07 10:56:30 - api.routes.translate - INFO - Got German translation: 'Das ist ein Test.'
2025-08-07 10:56:30 - api.routes.translate - INFO - Calling evaluate_translation_ai...
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': '\nEvaluate this German translation:\n\nEnglish: "This is a test"\nStudent\'s German: "Dase ist eine Test"\n\nReturn JSON with:\n- "correct": true/false\n- "reason": brief explanation in English\n'}
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:56:30 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:56:32 - api.routes.translate - INFO - Evaluation result: correct=False, reason=The student used incorrect articles and a wrong verb form. The correct translation should be 'Das ist ein Test'. 'Das' is the correct demonstrative pronoun for 'this' in this context, and 'ein' is the correct indefinite article for 'a'. Additionally, 'Test' is a masculine noun in German, so it should be 'ein Test' not 'eine Test'.
2025-08-07 10:56:32 - api.routes.translate - INFO - Streaming feedback block...
2025-08-07 10:56:32 - api.routes.translate - INFO - Feedback block streamed successfully
2025-08-07 10:56:32 - api.routes.translate - INFO - Background memory update started
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\nDas ist ein Test.\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:56:32 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'Analyze this German text and identify the grammar topics present:\n\nDase ist eine Test\n\nReturn a JSON array of topic strings (lowercase, no duplicates). Common topics: present tense, past tense, future tense, modal verbs, articles, adjectives, prepositions, cases (nominative, accusative, dative, genitive), pronouns, word order, subordination, coordination, etc.'}
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:56:33 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': 'You are a helpful German teacher grading a student\'s translation.\n\nEnglish sentence: \'This is a test\'\nReference answer: \'Das ist ein Test.\'\nStudent answer: \'Dase ist eine Test\'\n\nIMPORTANT: For gap-fill exercises, if the gap tests related grammar concepts (like personal pronoun + verb conjugation), evaluate them together in the context since they must agree, but still evaluate them individually.\nFor translation exercises, evaluate each grammar topic individually.\n\nReturn a JSON object where each grammar topic is a key (all lowercase, spaces only), and its value is an integer from 0 to 5 representing the SM2 quality scale:\n\nEVALUATION RULES:\n- Use the FULL 0-5 scale for nuanced evaluation:\n  * 5 = Perfect usage of the grammar element\n  * 4 = Correct but with slight hesitation or minor error\n  * 3 = Correct but with difficulty or noticeable error\n  * 2 = Incorrect but the student seemed to know the concept\n  * 1 = Incorrect but some knowledge was shown\n  * 0 = Complete blackout or completely wrong usage\n- For translation: Evaluate each grammar element independently\n- Consider the student\'s apparent understanding level\n\nFor example:\n{\n  "adjective": 5,\n  "nominative case": 4,\n  "modal verb": 3,\n  "verb conjugation": 2,\n  "article": 1,\n  "preposition": 0\n}\n\nTopics: articles, present tense, pronouns, word order'}
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.3, Stream: False
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-07 10:56:34 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-07 10:56:35 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-07 10:56:35 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-07 10:56:35 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-07 11:02:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 11:02:28 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 11:02:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 11:02:28 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 11:02:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 11:47:06 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 11:47:06 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 11:47:06 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 11:47:06 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 11:47:07 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 11:47:28 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 11:47:28 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 11:47:28 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 11:47:28 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 11:47:29 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-07 11:47:37 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-07 11:47:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-07 11:47:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-07 11:47:37 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-07 11:47:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:32:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:32:07 - __main__ - INFO - 🔄 Starting database migration...
2025-08-08 05:32:07 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-08 05:32:07 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-08 05:32:07 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-08 05:32:07 - __main__ - INFO - Database directory: /app/backend/database
2025-08-08 05:32:07 - __main__ - INFO - ✅ Database connection established
2025-08-08 05:32:07 - __main__ - INFO - Results table created/verified
2025-08-08 05:32:07 - __main__ - INFO - Topic memory table created/verified
2025-08-08 05:32:07 - __main__ - INFO - Sessions table created/verified
2025-08-08 05:32:07 - __main__ - INFO - User progress table created/verified
2025-08-08 05:32:07 - __main__ - INFO - User settings table created/verified
2025-08-08 05:32:07 - __main__ - INFO - Support requests table created/verified
2025-08-08 05:32:07 - __main__ - INFO - AI user data table created/verified
2025-08-08 05:32:07 - __main__ - INFO - Exercise history table created/verified
2025-08-08 05:32:07 - __main__ - INFO - AI exercise results table created/verified
2025-08-08 05:32:07 - __main__ - INFO - Topic memory status table created/verified
2025-08-08 05:32:07 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-08 05:32:07 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-08 05:32:07 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:32:07 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:32:07 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:32:07 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:32:08 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:32:08 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:32:08 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:32:08 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:32:08 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:32:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:32:32 - features.auth.authentication - INFO - Attempting authentication for user r
2025-08-08 05:32:32 - features.auth.authentication - WARNING - Authentication failed: user r not found
2025-08-08 05:39:05 - features.auth.authentication - INFO - Attempting authentication for user y
2025-08-08 05:39:05 - features.auth.authentication - WARNING - Authentication failed: user y not found
2025-08-08 05:44:10 - features.auth.authentication - INFO - Attempting authentication for user r
2025-08-08 05:44:10 - features.auth.authentication - WARNING - Authentication failed: user r not found
2025-08-08 05:44:41 - features.auth.user_accounts - INFO - Creating new user account for rio
2025-08-08 05:44:41 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:44:41 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:44:41 - core.database.connection - ERROR - Params: ('rio', 'nominative case')
2025-08-08 05:44:41 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:44:41 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:44:41 - core.database.connection - ERROR - Params: ('rio', 'present tense')
2025-08-08 05:44:41 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:44:41 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:44:41 - core.database.connection - ERROR - Params: ('rio', 'question words')
2025-08-08 05:44:41 - features.auth.user_accounts - INFO - Initialized topic memory for user rio
2025-08-08 05:44:41 - features.auth.user_accounts - INFO - Successfully created user account for rio
2025-08-08 05:44:41 - features.auth.authentication - INFO - Attempting authentication for user rio
2025-08-08 05:44:41 - core.session.session_manager - INFO - Created session for user rio
2025-08-08 05:44:41 - features.auth.authentication - INFO - Authentication successful for user rio
2025-08-08 05:47:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:47:18 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:47:18 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:47:18 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:47:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:47:24 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:47:24 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:47:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:47:24 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:47:25 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:48:17 - features.auth.authentication - INFO - Attempting authentication for user uio
2025-08-08 05:48:17 - features.auth.authentication - WARNING - Authentication failed: user uio not found
2025-08-08 05:48:21 - features.auth.user_accounts - INFO - Creating new user account for uio
2025-08-08 05:48:21 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:48:21 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:48:21 - core.database.connection - ERROR - Params: ('uio', 'nominative case')
2025-08-08 05:48:21 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:48:21 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:48:21 - core.database.connection - ERROR - Params: ('uio', 'present tense')
2025-08-08 05:48:21 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:48:21 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:48:21 - core.database.connection - ERROR - Params: ('uio', 'question words')
2025-08-08 05:48:21 - features.auth.user_accounts - INFO - Initialized topic memory for user uio
2025-08-08 05:48:21 - features.auth.user_accounts - INFO - Successfully created user account for uio
2025-08-08 05:48:22 - features.auth.authentication - INFO - Attempting authentication for user uio
2025-08-08 05:48:22 - core.session.session_manager - INFO - Created session for user uio
2025-08-08 05:48:22 - features.auth.authentication - INFO - Authentication successful for user uio
2025-08-08 05:48:37 - core.database.connection - ERROR - Database execute_query error: near "WHERE": syntax error
2025-08-08 05:48:37 - core.database.connection - ERROR - Query: UPDATE users SET skill_level = ? WHERE WHERE username = ?
2025-08-08 05:48:37 - core.database.connection - ERROR - Params: (2, 'uio')
2025-08-08 05:51:51 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:51:51 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:51:51 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:51:51 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:51:52 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:52:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:52:13 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:52:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:52:13 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:52:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:52:27 - features.auth.authentication - INFO - Attempting authentication for user ghj
2025-08-08 05:52:27 - features.auth.authentication - WARNING - Authentication failed: user ghj not found
2025-08-08 05:52:36 - features.auth.user_accounts - INFO - Creating new user account for ghj
2025-08-08 05:52:36 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:52:36 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:52:36 - core.database.connection - ERROR - Params: ('ghj', 'nominative case')
2025-08-08 05:52:36 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:52:36 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:52:36 - core.database.connection - ERROR - Params: ('ghj', 'present tense')
2025-08-08 05:52:36 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 05:52:36 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 05:52:36 - core.database.connection - ERROR - Params: ('ghj', 'question words')
2025-08-08 05:52:36 - features.auth.user_accounts - INFO - Initialized topic memory for user ghj
2025-08-08 05:52:36 - features.auth.user_accounts - INFO - Successfully created user account for ghj
2025-08-08 05:52:36 - features.auth.authentication - INFO - Attempting authentication for user ghj
2025-08-08 05:52:36 - core.session.session_manager - INFO - Created session for user ghj
2025-08-08 05:52:36 - features.auth.authentication - INFO - Authentication successful for user ghj
2025-08-08 05:54:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:54:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:54:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:54:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:54:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:54:58 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:54:58 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:54:58 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:54:58 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:54:59 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:55:03 - features.settings.account_management - INFO - Deactivating account for user ghj
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: near "SELECT": syntax error
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: SELECT * FROM SELECT COUNT(*) as count FROM lesson_progress WHERE user_id = ? ('ghj',) LIMIT 1
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ()
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: no such table: activity_progress
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: DELETE FROM activity_progress WHERE username = ?
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ('ghj',)
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: no such table: vocabulary_progress
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: DELETE FROM vocabulary_progress WHERE username = ?
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ('ghj',)
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: no such table: game_progress
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: DELETE FROM game_progress WHERE username = ?
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ('ghj',)
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: DELETE FROM support_feedback WHERE username = ?
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ('ghj',)
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: near "SELECT": syntax error
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: SELECT * FROM SELECT COUNT(*) as count FROM support_requests WHERE username = ? ('ghj',) LIMIT 1
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ()
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: no such table: user_sessions
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: DELETE FROM user_sessions WHERE username = ?
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ('ghj',)
2025-08-08 05:55:03 - core.database.connection - ERROR - Database execute_query error: no such table: user_preferences
2025-08-08 05:55:03 - core.database.connection - ERROR - Query: DELETE FROM user_preferences WHERE username = ?
2025-08-08 05:55:03 - core.database.connection - ERROR - Params: ('ghj',)
2025-08-08 05:55:03 - features.settings.account_management - INFO - Successfully deactivated account for user ghj. Deleted 0 records.
2025-08-08 05:55:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:55:54 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:55:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:55:54 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:55:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:56:13 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:56:13 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:56:13 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:56:13 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:56:14 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:56:36 - core.session.session_manager - INFO - Created session for user admin
2025-08-08 05:56:36 - features.auth.authentication - INFO - Admin authentication successful
2025-08-08 05:56:47 - core.session.session_manager - INFO - Created session for user admin
2025-08-08 05:56:47 - features.auth.authentication - INFO - Admin authentication successful
2025-08-08 05:59:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:59:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:59:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:59:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:59:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 05:59:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 05:59:53 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 05:59:53 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 05:59:53 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 05:59:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:00:01 - core.session.session_manager - INFO - Created session for user admin
2025-08-08 06:00:01 - features.auth.authentication - INFO - Admin authentication successful
2025-08-08 06:00:03 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:00:03 - core.database.connection - ERROR - Database execute_query error: parameters are of unsupported type
2025-08-08 06:00:03 - core.database.connection - ERROR - Query: SELECT COUNT(*) as total FROM support_feedback  LIMIT 1
2025-08-08 06:00:03 - core.database.connection - ERROR - Params: None
2025-08-08 06:00:03 - core.database.connection - ERROR - Database execute_query error: no such column: category
2025-08-08 06:00:03 - core.database.connection - ERROR - Query: SELECT id, message, category, priority, status, user_email, created_at, username FROM support_feedback  ORDER BY id DESC LIMIT 20 OFFSET 0
2025-08-08 06:00:03 - core.database.connection - ERROR - Params: None
2025-08-08 06:00:03 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:01:43 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:01:43 - core.database.connection - ERROR - Database execute_query error: parameters are of unsupported type
2025-08-08 06:01:43 - core.database.connection - ERROR - Query: SELECT COUNT(*) as total FROM support_feedback  LIMIT 1
2025-08-08 06:01:43 - core.database.connection - ERROR - Params: None
2025-08-08 06:01:43 - core.database.connection - ERROR - Database execute_query error: no such column: category
2025-08-08 06:01:43 - core.database.connection - ERROR - Query: SELECT id, message, category, priority, status, user_email, created_at, username FROM support_feedback  ORDER BY id DESC LIMIT 20 OFFSET 0
2025-08-08 06:01:43 - core.database.connection - ERROR - Params: None
2025-08-08 06:01:43 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:01:58 - core.session.session_manager - INFO - Created session for user admin
2025-08-08 06:01:58 - features.auth.authentication - INFO - Admin authentication successful
2025-08-08 06:02:00 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:02:00 - core.database.connection - ERROR - Database execute_query error: parameters are of unsupported type
2025-08-08 06:02:00 - core.database.connection - ERROR - Query: SELECT COUNT(*) as total FROM support_feedback  LIMIT 1
2025-08-08 06:02:00 - core.database.connection - ERROR - Params: None
2025-08-08 06:02:00 - core.database.connection - ERROR - Database execute_query error: no such column: category
2025-08-08 06:02:00 - core.database.connection - ERROR - Query: SELECT id, message, category, priority, status, user_email, created_at, username FROM support_feedback  ORDER BY id DESC LIMIT 20 OFFSET 0
2025-08-08 06:02:00 - core.database.connection - ERROR - Params: None
2025-08-08 06:02:00 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:03:12 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:03:12 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:03:12 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:03:12 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:03:13 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:04:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:04:23 - __main__ - INFO - 🔄 Starting database migration...
2025-08-08 06:04:23 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-08 06:04:23 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-08 06:04:23 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-08 06:04:23 - __main__ - INFO - Database directory: /app/backend/database
2025-08-08 06:04:23 - __main__ - INFO - ✅ Database connection established
2025-08-08 06:04:23 - __main__ - INFO - Results table created/verified
2025-08-08 06:04:23 - __main__ - INFO - Topic memory table created/verified
2025-08-08 06:04:23 - __main__ - INFO - Sessions table created/verified
2025-08-08 06:04:23 - __main__ - INFO - User progress table created/verified
2025-08-08 06:04:23 - __main__ - INFO - User settings table created/verified
2025-08-08 06:04:23 - __main__ - INFO - Support requests table created/verified
2025-08-08 06:04:23 - __main__ - INFO - AI user data table created/verified
2025-08-08 06:04:23 - __main__ - INFO - Exercise history table created/verified
2025-08-08 06:04:23 - __main__ - INFO - AI exercise results table created/verified
2025-08-08 06:04:23 - __main__ - INFO - Topic memory status table created/verified
2025-08-08 06:04:23 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-08 06:04:23 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-08 06:04:23 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:04:24 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:04:24 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:04:24 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:04:24 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:05:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:05:35 - __main__ - INFO - 🔄 Starting database migration...
2025-08-08 06:05:35 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-08 06:05:35 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-08 06:05:35 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-08 06:05:35 - __main__ - INFO - Database directory: /app/backend/database
2025-08-08 06:05:35 - __main__ - INFO - ✅ Database connection established
2025-08-08 06:05:35 - __main__ - INFO - Results table created/verified
2025-08-08 06:05:35 - __main__ - INFO - Topic memory table created/verified
2025-08-08 06:05:35 - __main__ - INFO - Sessions table created/verified
2025-08-08 06:05:35 - __main__ - INFO - User progress table created/verified
2025-08-08 06:05:35 - __main__ - INFO - User settings table created/verified
2025-08-08 06:05:35 - __main__ - INFO - Support requests table created/verified
2025-08-08 06:05:35 - __main__ - INFO - AI user data table created/verified
2025-08-08 06:05:35 - __main__ - INFO - Exercise history table created/verified
2025-08-08 06:05:35 - __main__ - INFO - AI exercise results table created/verified
2025-08-08 06:05:35 - __main__ - INFO - Topic memory status table created/verified
2025-08-08 06:05:35 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-08 06:05:35 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-08 06:05:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:05:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:05:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:05:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:05:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:05:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:05:37 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:05:37 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:05:37 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:05:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:05:57 - core.session.session_manager - INFO - Created session for user admin
2025-08-08 06:05:57 - features.auth.authentication - INFO - Admin authentication successful
2025-08-08 06:05:59 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:05:59 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:05:59 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:05:59 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:05:59 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:05:59 - core.database.connection - ERROR - Database execute_query error: parameters are of unsupported type
2025-08-08 06:05:59 - core.database.connection - ERROR - Query: SELECT COUNT(*) as total FROM support_feedback  LIMIT 1
2025-08-08 06:05:59 - core.database.connection - ERROR - Params: None
2025-08-08 06:05:59 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:05:59 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:05:59 - core.database.connection - ERROR - Database execute_query error: no such column: category
2025-08-08 06:05:59 - core.database.connection - ERROR - Query: SELECT id, message, category, priority, status, user_email, created_at, username FROM support_feedback  ORDER BY id DESC LIMIT 20 OFFSET 0
2025-08-08 06:05:59 - core.database.connection - ERROR - Params: None
2025-08-08 06:05:59 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:06:03 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 06:06:03 - core.database.connection - ERROR - Query: SELECT id, username, email, skill_level, status, created_at, last_login, is_admin FROM users WHERE 1=1 ORDER BY created_at DESC LIMIT 50
2025-08-08 06:06:03 - core.database.connection - ERROR - Params: ()
2025-08-08 06:07:21 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:07:21 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:07:22 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:07:22 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:07:22 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:07:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:07:27 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:07:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:07:27 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:07:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:07:50 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:07:50 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:07:50 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:07:50 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:07:50 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:07:50 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:07:50 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:07:50 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:07:50 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:07:50 - core.database.connection - ERROR - Params: ()
2025-08-08 06:07:50 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:07:52 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:07:52 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:07:52 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:07:52 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:07:53 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:08:06 - core.session.session_manager - INFO - Created session for user admin
2025-08-08 06:08:06 - features.auth.authentication - INFO - Admin authentication successful
2025-08-08 06:08:08 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:08:08 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:08:08 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:08:08 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:08:08 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:08:08 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:08:08 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:08:08 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:08:08 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:08:08 - core.database.connection - ERROR - Params: ()
2025-08-08 06:08:08 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:08:11 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 06:08:11 - core.database.connection - ERROR - Query: SELECT id, username, email, skill_level, status, created_at, last_login, is_admin FROM users WHERE 1=1 ORDER BY created_at DESC LIMIT 50
2025-08-08 06:08:11 - core.database.connection - ERROR - Params: ()
2025-08-08 06:09:35 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:09:35 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:09:35 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:09:35 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:09:36 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:09:44 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:09:44 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:09:44 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:09:44 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:09:45 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:10:13 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:10:13 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:10:13 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:10:13 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:10:13 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:10:13 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:10:13 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:10:13 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:10:13 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:10:13 - core.database.connection - ERROR - Params: ()
2025-08-08 06:10:13 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:10:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:10:27 - __main__ - INFO - 🔄 Starting database migration...
2025-08-08 06:10:27 - __main__ - INFO - Loaded environment from: /app/secrets/.env
2025-08-08 06:10:27 - __main__ - INFO - Database path resolved to: /app/backend/database/user_data.db
2025-08-08 06:10:27 - __main__ - INFO - Database path: /app/backend/database/user_data.db
2025-08-08 06:10:27 - __main__ - INFO - Database directory: /app/backend/database
2025-08-08 06:10:27 - __main__ - INFO - ✅ Database connection established
2025-08-08 06:10:27 - __main__ - INFO - Results table created/verified
2025-08-08 06:10:27 - __main__ - INFO - Topic memory table created/verified
2025-08-08 06:10:27 - __main__ - INFO - Sessions table created/verified
2025-08-08 06:10:27 - __main__ - INFO - User progress table created/verified
2025-08-08 06:10:27 - __main__ - INFO - User settings table created/verified
2025-08-08 06:10:27 - __main__ - INFO - Support requests table created/verified
2025-08-08 06:10:27 - __main__ - INFO - AI user data table created/verified
2025-08-08 06:10:27 - __main__ - INFO - Exercise history table created/verified
2025-08-08 06:10:27 - __main__ - INFO - AI exercise results table created/verified
2025-08-08 06:10:27 - __main__ - INFO - Topic memory status table created/verified
2025-08-08 06:10:27 - __main__ - INFO - AI exercise blocks table created/verified
2025-08-08 06:10:27 - __main__ - INFO - ✅ Database migration completed successfully!
2025-08-08 06:10:27 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:10:27 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:10:27 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:10:27 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:10:28 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:10:29 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:10:29 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:10:29 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:10:29 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:10:30 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:11:18 - features.auth.authentication - INFO - Attempting authentication for user plo
2025-08-08 06:11:18 - features.auth.authentication - WARNING - Authentication failed: user plo not found
2025-08-08 06:11:22 - features.auth.user_accounts - INFO - Creating new user account for plo
2025-08-08 06:11:22 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 06:11:22 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 06:11:22 - core.database.connection - ERROR - Params: ('plo', 'nominative case')
2025-08-08 06:11:22 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 06:11:22 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 06:11:22 - core.database.connection - ERROR - Params: ('plo', 'present tense')
2025-08-08 06:11:22 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 06:11:22 - core.database.connection - ERROR - Query: SELECT id FROM topic_memory WHERE username = ? AND grammar = ?
2025-08-08 06:11:22 - core.database.connection - ERROR - Params: ('plo', 'question words')
2025-08-08 06:11:22 - features.auth.user_accounts - INFO - Initialized topic memory for user plo
2025-08-08 06:11:22 - features.auth.user_accounts - INFO - Successfully created user account for plo
2025-08-08 06:11:22 - features.auth.authentication - INFO - Attempting authentication for user plo
2025-08-08 06:11:22 - core.session.session_manager - INFO - Created session for user plo
2025-08-08 06:11:22 - features.auth.authentication - INFO - Authentication successful for user plo
2025-08-08 06:13:04 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:13:04 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:13:04 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:13:04 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:13:05 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:13:18 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:13:19 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:13:19 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:13:19 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:13:19 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:13:59 - features.auth.authentication - INFO - Attempting authentication for user lkj
2025-08-08 06:13:59 - features.auth.authentication - WARNING - Authentication failed: user lkj not found
2025-08-08 06:14:03 - features.auth.user_accounts - INFO - Creating new user account for lkj
2025-08-08 06:14:03 - features.auth.user_accounts - INFO - Initialized topic memory for user lkj
2025-08-08 06:14:03 - features.auth.user_accounts - INFO - Successfully created user account for lkj
2025-08-08 06:14:03 - features.auth.authentication - INFO - Attempting authentication for user lkj
2025-08-08 06:14:03 - core.session.session_manager - INFO - Created session for user lkj
2025-08-08 06:14:03 - features.auth.authentication - INFO - Authentication successful for user lkj
2025-08-08 06:17:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:17:15 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:17:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:17:15 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:17:16 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:17:36 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:17:36 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:17:36 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:17:36 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:17:37 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:20:03 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 06:20:03 - core.database.connection - ERROR - Query: SELECT id, username FROM users WHERE username = ? LIMIT 1
2025-08-08 06:20:03 - core.database.connection - ERROR - Params: ('lkj',)
2025-08-08 06:20:10 - core.database.connection - ERROR - Database execute_query error: no such column: id
2025-08-08 06:20:10 - core.database.connection - ERROR - Query: SELECT id, username FROM users WHERE username = ? LIMIT 1
2025-08-08 06:20:10 - core.database.connection - ERROR - Params: ('lkj',)
2025-08-08 06:21:09 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:21:09 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:21:09 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:21:09 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:21:09 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:21:25 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:21:26 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:21:26 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:21:26 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:21:26 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:22:14 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-08 06:22:14 - features.auth.authentication - WARNING - Authentication failed: user test not found
2025-08-08 06:22:17 - features.auth.user_accounts - INFO - Creating new user account for test
2025-08-08 06:22:17 - features.auth.user_accounts - INFO - Initialized topic memory for user test
2025-08-08 06:22:17 - features.auth.user_accounts - INFO - Successfully created user account for test
2025-08-08 06:22:17 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-08 06:22:17 - core.session.session_manager - INFO - Created session for user test
2025-08-08 06:22:17 - features.auth.authentication - INFO - Authentication successful for user test
2025-08-08 06:24:03 - features.auth.authentication - INFO - Attempting authentication for user jkl
2025-08-08 06:24:03 - features.auth.authentication - WARNING - Authentication failed: user jkl not found
2025-08-08 06:24:06 - features.auth.user_accounts - INFO - Creating new user account for jkl
2025-08-08 06:24:06 - features.auth.user_accounts - INFO - Initialized topic memory for user jkl
2025-08-08 06:24:06 - features.auth.user_accounts - INFO - Successfully created user account for jkl
2025-08-08 06:24:06 - features.auth.authentication - INFO - Attempting authentication for user jkl
2025-08-08 06:24:06 - core.session.session_manager - INFO - Created session for user jkl
2025-08-08 06:24:06 - features.auth.authentication - INFO - Authentication successful for user jkl
2025-08-08 06:24:18 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:24:18 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:24:18 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:24:18 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:24:18 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:24:18 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:24:18 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:24:18 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:24:18 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:24:18 - core.database.connection - ERROR - Params: ()
2025-08-08 06:24:18 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:26:54 - core.session.session_manager - INFO - Created session for user admin
2025-08-08 06:26:54 - features.auth.authentication - INFO - Admin authentication successful
2025-08-08 06:26:56 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:26:56 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:26:56 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:26:56 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:26:56 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:26:56 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:26:56 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:26:56 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:26:56 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:26:56 - core.database.connection - ERROR - Params: ()
2025-08-08 06:26:56 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:26:57 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:26:57 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:26:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:26:57 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:26:57 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:26:57 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:26:57 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:26:57 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:26:57 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:26:57 - core.database.connection - ERROR - Params: ()
2025-08-08 06:26:57 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:26:58 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:26:58 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:26:58 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:26:59 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:26:59 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:26:59 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:26:59 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:26:59 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:26:59 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:26:59 - core.database.connection - ERROR - Params: ()
2025-08-08 06:26:59 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:27:00 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:27:00 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:27:00 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:27:00 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:27:00 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:27:00 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:27:00 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:27:00 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:27:00 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:27:00 - core.database.connection - ERROR - Params: ()
2025-08-08 06:27:00 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:27:03 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:27:03 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:27:03 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:27:03 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:27:03 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:27:03 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:27:03 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:27:03 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:27:03 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:27:03 - core.database.connection - ERROR - Params: ()
2025-08-08 06:27:03 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:27:06 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:27:06 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:27:06 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:27:06 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:27:06 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:27:06 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:27:06 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:27:06 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:27:06 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:27:06 - core.database.connection - ERROR - Params: ()
2025-08-08 06:27:06 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:27:08 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:27:08 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:27:08 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:27:08 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:27:08 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:27:08 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:27:08 - core.database.connection - ERROR - Params: ()
2025-08-08 06:27:08 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:27:08 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:27:08 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:27:08 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:27:10 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:27:10 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:27:10 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:27:10 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:27:10 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:27:10 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:27:10 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:27:10 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:27:10 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:27:10 - core.database.connection - ERROR - Params: ()
2025-08-08 06:27:10 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:27:19 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:27:19 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:27:19 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:27:19 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:27:19 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:27:19 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:27:19 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:27:19 - core.database.connection - ERROR - Database execute_query error: no such column: username
2025-08-08 06:27:19 - core.database.connection - ERROR - Query: SELECT rowid as id, message, username, created_at FROM support_feedback  ORDER BY created_at DESC LIMIT 20 OFFSET 0
2025-08-08 06:27:19 - core.database.connection - ERROR - Params: ()
2025-08-08 06:27:19 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:29:02 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:29:02 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:29:02 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:29:02 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:29:03 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:29:15 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:29:15 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:29:15 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:29:15 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:29:15 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:29:20 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:29:20 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:29:20 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:29:20 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:29:20 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:29:20 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:29:20 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:29:20 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:31:07 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:31:07 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:31:07 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:31:07 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:31:07 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:31:07 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:31:07 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:31:07 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:31:12 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:31:12 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:31:12 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:31:12 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:31:12 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:31:12 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:31:12 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:31:12 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:31:15 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:31:15 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:31:15 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:31:15 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:31:15 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:31:15 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:31:15 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:31:15 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:31:18 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:31:18 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:31:18 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:31:18 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:31:18 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:31:18 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:31:18 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:31:18 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:35:59 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:35:59 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:35:59 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:35:59 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:35:59 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:35:59 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:35:59 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:35:59 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:36:08 - features.support.feedback_management - INFO - Submitting feedback from user admin
2025-08-08 06:36:08 - core.database.connection - ERROR - Database execute_query error: table support_feedback has no column named username
2025-08-08 06:36:08 - core.database.connection - ERROR - Query: INSERT INTO support_feedback (message, created_at, username) VALUES (?, ?, ?)
2025-08-08 06:36:08 - core.database.connection - ERROR - Params: ('kkk', '2025-08-08T06:36:08.853610', 'admin')
2025-08-08 06:36:08 - features.support.feedback_management - ERROR - Failed to submit feedback from user admin
2025-08-08 06:42:45 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:42:45 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:42:45 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:42:45 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:42:46 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:42:53 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:42:54 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:42:54 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:42:54 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:42:54 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:43:05 - features.support.feedback_management - INFO - Submitting feedback from user admin
2025-08-08 06:43:05 - features.support.feedback_management - INFO - Successfully submitted feedback from user admin
2025-08-08 06:43:09 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:43:09 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:43:09 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:43:09 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:43:09 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:43:09 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:43:09 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:43:09 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:43:35 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:43:35 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:43:35 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:43:35 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:43:35 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:43:35 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:43:35 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:43:35 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:43:41 - features.support.feedback_management - INFO - Submitting feedback from user admin
2025-08-08 06:43:41 - features.support.feedback_management - INFO - Successfully submitted feedback from user admin
2025-08-08 06:43:44 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:43:44 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:43:44 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:43:44 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:43:44 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:43:44 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:43:44 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:43:44 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:44:52 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:44:52 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:44:53 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:44:53 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:44:53 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:44:53 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:44:53 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:44:53 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:44:53 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:44:53 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:44:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:44:57 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:44:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:44:57 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:44:58 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:44:58 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:44:58 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:44:58 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:44:58 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:44:58 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:44:58 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:44:58 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:02 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:02 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:07 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:07 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:12 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:12 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:17 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:17 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:22 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:22 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:27 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:27 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:32 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:32 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:37 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:37 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:42 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:42 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:47 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:47 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:52 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:52 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:45:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:45:57 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:02 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:02 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:07 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:07 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:12 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:12 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:17 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:17 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:22 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:22 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:27 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:27 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:32 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:32 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:37 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:37 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:42 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:42 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:47 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:47 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:52 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:52 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:46:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:46:57 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:02 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:02 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:07 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:07 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:12 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:12 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:17 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:17 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:22 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:22 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:27 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:27 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:32 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:32 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:37 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:37 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:42 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:42 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:42 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:47:43 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:47:43 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:47:43 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:47:43 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:47:47 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:47 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:52 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:52 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:47:57 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:47:59 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:47:59 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:47:59 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:47:59 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:48:00 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:48:02 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:02 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:07 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:07 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:18 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:18 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:19 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:19 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:19 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:19 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:20 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:20 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:20 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:20 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:20 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:20 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:20 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:20 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:24 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:24 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:24 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:24 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:25 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:25 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:25 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:25 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:25 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:25 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:25 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:25 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:29 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:29 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:34 - config.logging_config - INFO - Logging configured - Level: INFO, File: /app/logs/app.log
2025-08-08 06:48:34 - external.redis.client - INFO - Redis initialization - REDIS_URL: redis://redis:6379, REDIS_HOST: localhost
2025-08-08 06:48:34 - external.redis.client - INFO - Redis client initialized with REDIS_URL
2025-08-08 06:48:34 - external.redis.client - INFO - Redis client successfully connected with REDIS_URL
2025-08-08 06:48:35 - external.tts.client - INFO - TTS client initialized with ElevenLabs
2025-08-08 06:48:43 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:43 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:44 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:44 - features.support.feedback_management - INFO - Retrieved 2 feedback messages out of 2 total
2025-08-08 06:48:44 - features.support.feedback_management - INFO - Deleting feedback 2
2025-08-08 06:48:44 - features.support.feedback_management - INFO - Successfully deleted feedback 2
2025-08-08 06:48:45 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:45 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:48:45 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:45 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:48:45 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:45 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:45 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:45 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:45 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:45 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:45 - features.support.feedback_management - INFO - Deleting feedback 1
2025-08-08 06:48:45 - features.support.feedback_management - INFO - Successfully deleted feedback 1
2025-08-08 06:48:46 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:46 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:46 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:46 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:46 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:46 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:46 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:46 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:46 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:46 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:49 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:49 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:50 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:50 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:50 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:50 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:50 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:50 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:50 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:50 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:50 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:50 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:51 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:51 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:51 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:51 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:51 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:51 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:51 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:51 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:52 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:52 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:52 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:52 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:53 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:53 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:53 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:53 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:53 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:53 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:53 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:53 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:53 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:53 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:54 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:54 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:54 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:54 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:54 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:54 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:54 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:54 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:55 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:55 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:55 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:55 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:55 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:55 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:55 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:55 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:55 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:55 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:56 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:56 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:56 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:56 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:56 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:56 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:56 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:56 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:56 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:56 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:57 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:57 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:57 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:57 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:57 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:57 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:57 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:58 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:58 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:58 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:58 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:59 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:48:59 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:48:59 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:48:59 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:48:59 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:48:59 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:48:59 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:59 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:48:59 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:48:59 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:00 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:49:00 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:49:00 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:49:00 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:49:00 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:49:00 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:49:00 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:00 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:00 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:00 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:01 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:49:01 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:49:01 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:49:01 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:49:01 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:49:01 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:49:01 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:01 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:02 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:02 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:02 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:49:02 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:49:02 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:49:02 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:49:02 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:49:02 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:49:02 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:02 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:04 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:04 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:09 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:09 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:14 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:14 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:19 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:19 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:24 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:24 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:29 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:29 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:34 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:34 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:39 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:39 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:40 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-08 06:49:40 - features.auth.authentication - WARNING - Authentication failed: user test not found
2025-08-08 06:49:44 - features.auth.user_accounts - INFO - Creating new user account for test
2025-08-08 06:49:44 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:44 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:44 - features.auth.user_accounts - INFO - Initialized topic memory for user test
2025-08-08 06:49:44 - features.auth.user_accounts - INFO - Successfully created user account for test
2025-08-08 06:49:44 - features.auth.authentication - INFO - Attempting authentication for user test
2025-08-08 06:49:44 - core.session.session_manager - INFO - Created session for user test
2025-08-08 06:49:44 - features.auth.authentication - INFO - Authentication successful for user test
2025-08-08 06:49:49 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:49 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:54 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:54 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:57 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:57 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:58 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:49:58 - features.admin.lesson_management - INFO - Retrieving lesson progress summary
2025-08-08 06:49:58 - features.admin.game_management - INFO - Retrieving all game results for admin review
2025-08-08 06:49:58 - features.admin.lesson_management - INFO - Retrieving all lesson content for admin editing
2025-08-08 06:49:58 - features.admin.game_management - INFO - Retrieved 0 game results
2025-08-08 06:49:58 - features.admin.lesson_management - INFO - Retrieved progress summary for 0 lessons
2025-08-08 06:49:58 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:49:58 - features.admin.lesson_management - INFO - Retrieved 0 lessons
2025-08-08 06:50:02 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:02 - features.support.feedback_management - INFO - Retrieved 0 feedback messages out of 0 total
2025-08-08 06:50:03 - features.support.feedback_management - INFO - Submitting feedback from user test
2025-08-08 06:50:03 - features.support.feedback_management - INFO - Successfully submitted feedback from user test
2025-08-08 06:50:07 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:07 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:12 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:12 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:17 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:17 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:18 - api.routes.ai.misc - INFO - User test asking AI question with context
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_prompt call
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] System message: You are a helpful German teacher....
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] User prompt: {'role': 'user', 'content': "{'type': 'menu', 'description': 'This is the main menu of the XplorED app. Users can access translation practice, sentence order games, AI training exercises, AI reading exercises, weakness lessons, and more. Each button navigates to a different learning module.', 'sections': [{'label': 'Translation Practice', 'path': '/translate', 'icon': 'FileText'}, {'label': 'AI Training Exercises', 'path': '/ai-feedback', 'icon': 'Bot'}, {'label': 'AI Reading Exercise', 'path': '/reading-exercise', 'icon': 'Book'}, {'label': 'Weakness Lesson', 'path': '/weakness-lesson', 'icon': 'Brain'}]}\n\nQuestion: ksdjffui"}
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.7, Stream: False
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] About to call send_request...
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] Starting send_request
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] API URL: https://api.mistral.ai/v1/chat/completions
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] Messages count: 2
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] Temperature: 0.7, Stream: False
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] Built payload with model: mistral-large-latest
2025-08-08 06:50:18 - external.mistral.client - INFO - 🌐 [MISTRAL] About to make HTTP POST request to Mistral API...
2025-08-08 06:50:21 - external.mistral.client - INFO - 🌐 [MISTRAL] HTTP request completed with status: 200
2025-08-08 06:50:21 - external.mistral.client - INFO - 🌐 [MISTRAL] Request successful, returning response
2025-08-08 06:50:21 - external.mistral.client - INFO - 🌐 [MISTRAL] send_request completed successfully
2025-08-08 06:50:21 - api.routes.ai.misc - INFO - Successfully generated contextual AI answer for user test
2025-08-08 06:50:21 - api.routes.ai.misc - INFO - Adding chat history for user test
2025-08-08 06:50:21 - api.routes.ai.misc - INFO - Successfully added chat history for user test
2025-08-08 06:50:22 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:22 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:27 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:27 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:32 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:32 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:37 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:37 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:42 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:42 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
2025-08-08 06:50:47 - features.support.feedback_management - INFO - Getting feedback list with limit 20, offset 0
2025-08-08 06:50:47 - features.support.feedback_management - INFO - Retrieved 1 feedback messages out of 1 total
